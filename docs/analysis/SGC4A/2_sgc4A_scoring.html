<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-0.9.328">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>SGC-X - 7&nbsp; Response Scoring</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<link href="../../analysis/SGC4B/1_sgc4B_introduction.html" rel="next">
<link href="../../analysis/SGC4A/1_sgc4A_introduction.html" rel="prev">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link id="quarto-text-highlighting-styles" href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Response Scoring</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../../">SGC-X</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../index.html" class="sidebar-item-text sidebar-link">MAIN</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
    <div class="sidebar-item-container"> 
        <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">General</a>
      <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
        <i class="bi bi-chevron-right ms-2"></i>
      </a>
    </div>
    <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../analysis/utils/scoring.html" class="sidebar-item-text sidebar-link">Scoring Strategy</a>
  </div>
</li>
    </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
    <div class="sidebar-item-container"> 
        <a href="../../analysis/SGC3A/SGC3A.html" class="sidebar-item-text sidebar-link">SGC3A</a>
      <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
        <i class="bi bi-chevron-right ms-2"></i>
      </a>
    </div>
    <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../analysis/SGC3A/1_sgc3A_introduction.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../analysis/SGC3A/2_sgc3A_scoring.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Response Scoring</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../analysis/SGC3A/3_sgc3A_description.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Description</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../analysis/SGC3A/4_sgc3A_hypotesting.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Hypothesis Testing</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../analysis/SGC3A/5_sgc3A_exploration.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Exploratory Analyses</span></a>
  </div>
</li>
    </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
    <div class="sidebar-item-container"> 
        <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">SGC4A</a>
      <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
        <i class="bi bi-chevron-right ms-2"></i>
      </a>
    </div>
    <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../analysis/SGC4A/1_sgc4A_introduction.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../analysis/SGC4A/2_sgc4A_scoring.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Response Scoring</span></a>
  </div>
</li>
    </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
    <div class="sidebar-item-container"> 
        <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">SGC4B</a>
      <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
        <i class="bi bi-chevron-right ms-2"></i>
      </a>
    </div>
    <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../analysis/SGC4B/1_sgc4B_introduction.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../analysis/SGC4B/2_sgc4B_scoring.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Response Scoring</span></a>
  </div>
</li>
    </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
    <div class="sidebar-item-container"> 
        <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">SGC5</a>
      <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
        <i class="bi bi-chevron-right ms-2"></i>
      </a>
    </div>
    <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../analysis/SGC5/1_sgc5_introduction.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../analysis/SGC5/2_sgc5_scoring.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Response Scoring</span></a>
  </div>
</li>
    </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#score-sgc-data" id="toc-score-sgc-data" class="nav-link active" data-scroll-target="#score-sgc-data">SCORE SGC DATA</a>
  <ul class="collapse">
  <li><a href="#prepare-answer-keys" id="toc-prepare-answer-keys" class="nav-link" data-scroll-target="#prepare-answer-keys">Prepare Answer Keys</a></li>
  <li><a href="#score-items" id="toc-score-items" class="nav-link" data-scroll-target="#score-items">Score Items</a></li>
  <li><a href="#sec-SGC4A-interpretation" id="toc-sec-SGC4A-interpretation" class="nav-link" data-scroll-target="#sec-SGC4A-interpretation">Derive Interpretation</a></li>
  <li><a href="#sec-SGC4A-scaledScore" id="toc-sec-SGC4A-scaledScore" class="nav-link" data-scroll-target="#sec-SGC4A-scaledScore">Derive Scaled Score</a></li>
  </ul></li>
  <li><a href="#summarize-by-subject" id="toc-summarize-by-subject" class="nav-link" data-scroll-target="#summarize-by-subject">SUMMARIZE BY SUBJECT</a></li>
  <li><a href="#explore-distributions" id="toc-explore-distributions" class="nav-link" data-scroll-target="#explore-distributions">EXPLORE DISTRIBUTIONS</a>
  <ul class="collapse">
  <li><a href="#absolute-score" id="toc-absolute-score" class="nav-link" data-scroll-target="#absolute-score">Absolute Score</a></li>
  <li><a href="#scaled-score" id="toc-scaled-score" class="nav-link" data-scroll-target="#scaled-score">Scaled Score</a></li>
  <li><a href="#interpretations" id="toc-interpretations" class="nav-link" data-scroll-target="#interpretations">Interpretations</a></li>
  <li><a href="#progress-over-task" id="toc-progress-over-task" class="nav-link" data-scroll-target="#progress-over-task">Progress over Task</a></li>
  <li><a href="#interpretation-subscores" id="toc-interpretation-subscores" class="nav-link" data-scroll-target="#interpretation-subscores">Interpretation Subscores</a></li>
  </ul></li>
  <li><a href="#explore-responses" id="toc-explore-responses" class="nav-link" data-scroll-target="#explore-responses">EXPLORE RESPONSES</a></li>
  <li><a href="#export" id="toc-export" class="nav-link" data-scroll-target="#export">EXPORT</a></li>
  <li><a href="#resources" id="toc-resources" class="nav-link" data-scroll-target="#resources">RESOURCES</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title"><span id="sec-SGC4A-scoring" class="quarto-section-identifier d-none d-lg-block"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Response Scoring</span></span></h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
<p class="subtitle lead">Study SGC4A | 2 Response Scoring</p>
</div>





<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<div style="page-break-after: always;"></div>
<p><strong>TODO</strong> update graph subtitles - recode pretty_condition and pretty_interpretation in intro</p>
<p><em>The purpose of this notebook is to score (assign a measure of accuracy) to response data for the SGC4A study. This is required because the question type on the graph comprehension task used a ‘Multiple Response’ (MR) question design. Here, we evaluate different approaches to scoring multiple response questions, and transform raw item responses (e.g.&nbsp;boxes ABC are checked) to a measure of response accuracy. (Warning: this notebook takes several minutes to execute.)</em> To review the strategy behind Multiple Response scoring for the SGC project, refer to section <a href="#sec-scoring">Section&nbsp;<span class="quarto-unresolved-ref">sec-scoring</span></a>.</p>
<div class="cell">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen=</span><span class="dv">1</span>, <span class="at">digits=</span><span class="dv">3</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra) <span class="co">#printing tables </span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggformula) <span class="co">#quick graphs</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(pbapply) <span class="co">#progress bar and time estimate for *apply fns</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Hmisc) <span class="co"># %nin% operator</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) <span class="co">#ALL THE THINGS</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="score-sgc-data" class="level2">
<h2 class="anchored" data-anchor-id="score-sgc-data">SCORE SGC DATA</h2>
<p>To review the strategy behind Multiple Response scoring for the SGC project, refer to section <a href="#sec-scoring">Section&nbsp;<span class="quarto-unresolved-ref">sec-scoring</span></a>.</p>
<p>In SGC_4 we are fundamentally interested in understanding how a participant interprets the presented graph (stimulus). The <strong>graph comprehension task</strong> asks them to select the data points in the graph that meet the criteria posed in the question. To assess a participant’s performance, for each question (q=15) we will calculate the following scores:</p>
<p><em>An overall, strict score:</em><br>
1. <strong>Absolute Score</strong> : using dichotomous scoring referencing true (Triangular) answer. (see 1.2)</p>
<p><em>Sub-scores, for each alternative graph interpretation</em><br>
2. <strong>Triangular Score</strong> : using partial scoring [-1/q, +1/p] referencing true (Triangular) answer key.</p>
<p>3. <strong>Orthogonal Score</strong> : using partial scoring [-1/q, +1/p] referencing (incorrect Orthogonal) answer key.</p>
<p>4. <strong>Tversky Score</strong> : using partial scoring [-1/q, +1/p] referencing (incorrect connecting-lines strategy) answer key. 5. <strong>Satisficing Score</strong> : using partial scoring [-1/q, +1/p] referencing (incorrect satisficing strategy) answer key.</p>
<section id="prepare-answer-keys" class="level3">
<h3 class="anchored" data-anchor-id="prepare-answer-keys">Prepare Answer Keys</h3>
<p>We start by importing answer keys.</p>
<div class="cell">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">HACK</span><span class="co"> WD FOR LOCAL RUNNING?</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co"># imac = "/Users/amyraefox/Code/SGC-Scaffolding_Graph_Comprehension/SGC-X/ANALYSIS/MAIN"</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co"># mbp = "/Users/amyfox/Sites/RESEARCH/SGC-Scaffolding_Graph_Comprehension/SGC-X/ANALYSIS/MAIN"</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># setwd(mbp)</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co">#SAVE KEYS FOR FUTURE USE</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>keys_raw <span class="ot">&lt;-</span>  <span class="fu">read_csv</span>(<span class="st">"analysis/utils/keys/parsed_keys/keys_raw"</span>)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>keys_orth <span class="ot">&lt;-</span>  <span class="fu">read_csv</span>(<span class="st">"analysis/utils/keys/parsed_keys/keys_orth"</span>)</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>keys_tri <span class="ot">&lt;-</span>  <span class="fu">read_csv</span>(<span class="st">"analysis/utils/keys/parsed_keys/keys_tri"</span>)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>keys_satisfice_left <span class="ot">&lt;-</span>  <span class="fu">read_csv</span>(<span class="st">"analysis/utils/keys/parsed_keys/keys_satisfice_left"</span>)</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>keys_satisfice_right <span class="ot">&lt;-</span>  <span class="fu">read_csv</span>(<span class="st">"analysis/utils/keys/parsed_keys/keys_satisfice_right"</span>)</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>keys_tversky_duration <span class="ot">&lt;-</span>  <span class="fu">read_csv</span>(<span class="st">"analysis/utils/keys/parsed_keys/keys_tversky_duration"</span>)</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>keys_tversky_end <span class="ot">&lt;-</span>  <span class="fu">read_csv</span>(<span class="st">"analysis/utils/keys/parsed_keys/keys_tversky_end"</span>)</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>keys_tversky_max <span class="ot">&lt;-</span>  <span class="fu">read_csv</span>(<span class="st">"analysis/utils/keys/parsed_keys/keys_tversky_max"</span>)</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>keys_tversky_start <span class="ot">&lt;-</span>  <span class="fu">read_csv</span>(<span class="st">"analysis/utils/keys/parsed_keys/keys_tversky_start"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="score-items" class="level3">
<h3 class="anchored" data-anchor-id="score-items">Score Items</h3>
<p>Next, we import the item-level response data. For each row in the item level dataset (indicating the response to a single question-item for a single subject), we compare the raw response <code>df_items$response</code> with the answer keys in each interpretation (e.g.&nbsp;<code>keys_orth</code>, <code>keys_tri</code>, etc…), then using those sets, determine the number of correctly selected items(p) and incorrectly selected items (q), which in turn are used to calculate partial[-1/q, +1/p] scores for each interpretation. The resulting scores are then stored on each item in <code>df_items</code>, and can be used to determine which graph interpretation the subject held.</p>
<p>Specifically, the following scores are calculated for each item:</p>
<p><strong>Interpretation Subscores</strong></p>
<ul>
<li><code>score_TRI</code> How consistent is the response with the <strong>triangular</strong>interpretation?</li>
<li><code>score_ORTH</code> How consistent is the response with the <strong>orthogonal</strong>interpretation?</li>
<li><code>score_SATISFICE</code> is calculated by taking the maximum value of :
<ul>
<li><code>score_SAT_left</code> How consistent is the response with the <strong>(left side) Satisficing</strong> interpretation?</li>
<li><code>score_SAT_right</code> How consistent is the response with the <strong>(right side) Satisficing</strong> interpretation</li>
</ul></li>
<li><code>score_TVERSKY</code> is calculated by taking the maximum value of:
<ul>
<li><code>score_TV_max</code> How consistent is the response with the <strong>(maximal) Tversky</strong> interpretation?</li>
<li><code>score_TV_start</code> How consistent is the response with the <strong>(start-time) Tversky</strong> interpretation?</li>
<li><code>score_TV_end</code> How consistent is the response with the <strong>(end-time) Tversky</strong> interpretation?</li>
<li><code>score_TV_duration</code> How consistent is the response with the <strong>(duration) Tversky</strong> interpretation?</li>
</ul></li>
<li><code>score_REF</code> Did the response select only the <strong>reference point</strong>?</li>
<li><code>score_BOTH</code> How consistent is the response with <strong>both</strong> the orthogonal and triangular interpretations?</li>
</ul>
<p><strong>Absolute Scores</strong></p>
<ul>
<li><code>score_ABS</code> Is the response strictly correct? (triangular interpretation)</li>
<li><code>score_niceABS</code> Is the response strictly correct? (triangular interpretation, not penalizing ref points). This is a more generous version of the Absolute score that does not penalize the participant if in addition to the correct answer <em>in addition to</em> they also select the data point referenced in the question.</li>
</ul>
<div class="cell">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">HACK</span><span class="co"> WD FOR LOCAL RUNNING?</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co"># imac = "/Users/amyraefox/Code/SGC-Scaffolding_Graph_Comprehension/SGC-X/ANALYSIS/MAIN"</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co"># mbp = "/Users/amyfox/Sites/RESEARCH/SGC-Scaffolding_Graph_Comprehension/SGC-X/ANALYSIS/MAIN"</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># setwd(imac)</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="co">#backup &lt;- read_rds('analysis/SGC4A/data/1-study-level/sgc4a_items.rds') #for troubleshooting only</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>df_items <span class="ot">&lt;-</span> <span class="fu">read_rds</span>(<span class="st">'analysis/SGC4A/data/1-study-level/sgc4a_items.rds'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">HACK</span><span class="co"> WD FOR LOCAL RUNNING?</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co"># imac = "/Users/amyraefox/Code/SGC-Scaffolding_Graph_Comprehension/SGC-X/ANALYSIS/MAIN"</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co"># mbp = "/Users/amyfox/Sites/RESEARCH/SGC-Scaffolding_Graph_Comprehension/SGC-X/ANALYSIS/MAIN"</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co"># setwd(imac)</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"analysis/utils/scoring.R"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><em>note: this cell takes approximately 30 minutes to run on the full df_items dataframe with 4950 records</em></p>
<div class="cell" data-hash="2_sgc4A_scoring_cache/html/CALCULATE-SCORES-MAPPLY_ad4db110e933a8b15c62b7b38df91063">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">#RUN THIS &lt;OR&gt; THE CALCULATE-SCORES-FORLOOP [not both]</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co">#ALPHEBETIZE RESPONSE</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>df_items<span class="sc">$</span>response <span class="ot">=</span> <span class="fu">pbmapply</span>(reorder_inplace, df_items<span class="sc">$</span>response)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="co">#STRATEGY PARTIAL-SUBSCORES</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>df_items<span class="sc">$</span>score_TRI <span class="ot">=</span> <span class="fu">pbmapply</span>(calc_subscore, df_items<span class="sc">$</span>q, df_items<span class="sc">$</span>condition, df_items<span class="sc">$</span>response, <span class="at">MoreArgs =</span> <span class="fu">list</span>(<span class="at">keyframe =</span> keys_tri))</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>df_items<span class="sc">$</span>score_ORTH <span class="ot">=</span> <span class="fu">pbmapply</span>(calc_subscore, df_items<span class="sc">$</span>q, df_items<span class="sc">$</span>condition, df_items<span class="sc">$</span>response, <span class="at">MoreArgs =</span> <span class="fu">list</span>(<span class="at">keyframe =</span> keys_orth))</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>df_items<span class="sc">$</span>score_SAT_left <span class="ot">=</span> <span class="fu">pbmapply</span>(calc_subscore, df_items<span class="sc">$</span>q, df_items<span class="sc">$</span>condition, df_items<span class="sc">$</span>response, <span class="at">MoreArgs =</span> <span class="fu">list</span>(<span class="at">keyframe =</span> keys_satisfice_left))</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>df_items<span class="sc">$</span>score_SAT_right <span class="ot">=</span> <span class="fu">pbmapply</span>(calc_subscore, df_items<span class="sc">$</span>q, df_items<span class="sc">$</span>condition, df_items<span class="sc">$</span>response, <span class="at">MoreArgs =</span> <span class="fu">list</span>(<span class="at">keyframe =</span> keys_satisfice_right))</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>df_items<span class="sc">$</span>score_TV_max <span class="ot">=</span> <span class="fu">pbmapply</span>(calc_subscore, df_items<span class="sc">$</span>q, df_items<span class="sc">$</span>condition, df_items<span class="sc">$</span>response, <span class="at">MoreArgs =</span> <span class="fu">list</span>(<span class="at">keyframe =</span> keys_tversky_max))</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>df_items<span class="sc">$</span>score_TV_start <span class="ot">=</span> <span class="fu">pbmapply</span>(calc_subscore, df_items<span class="sc">$</span>q, df_items<span class="sc">$</span>condition, df_items<span class="sc">$</span>response, <span class="at">MoreArgs =</span> <span class="fu">list</span>(<span class="at">keyframe =</span> keys_tversky_start))</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>df_items<span class="sc">$</span>score_TV_end <span class="ot">=</span> <span class="fu">pbmapply</span>(calc_subscore, df_items<span class="sc">$</span>q, df_items<span class="sc">$</span>condition, df_items<span class="sc">$</span>response, <span class="at">MoreArgs =</span> <span class="fu">list</span>(<span class="at">keyframe =</span> keys_tversky_end))</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>df_items<span class="sc">$</span>score_TV_duration <span class="ot">=</span> <span class="fu">pbmapply</span>(calc_subscore, df_items<span class="sc">$</span>q, df_items<span class="sc">$</span>condition, df_items<span class="sc">$</span>response, <span class="at">MoreArgs =</span> <span class="fu">list</span>(<span class="at">keyframe =</span> keys_tversky_duration))</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a><span class="co">#SPECIAL ABSOLUTE SUBSCORES</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>df_items<span class="sc">$</span>score_REF <span class="ot">=</span> <span class="fu">pbmapply</span>(calc_refscore, df_items<span class="sc">$</span>q, df_items<span class="sc">$</span>response)</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>df_items<span class="sc">$</span>score_BOTH <span class="ot">=</span> <span class="fu">as.integer</span>((df_items<span class="sc">$</span>score_TRI <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">&amp;</span> (df_items<span class="sc">$</span>score_ORTH <span class="sc">==</span><span class="dv">1</span>))</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a><span class="co">#ABSOLUTE SCORES</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>df_items<span class="sc">$</span>score_ABS <span class="ot">=</span> <span class="fu">as.integer</span>(df_items<span class="sc">$</span>correct) </span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>df_items<span class="sc">$</span>score_niceABS  <span class="ot">&lt;-</span> <span class="fu">as.integer</span>((df_items<span class="sc">$</span>score_TRI <span class="sc">==</span> <span class="dv">1</span>)) <span class="co">#tri doesn't penalize ref or ve-area</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="sec-SGC4A-interpretation" class="level3">
<h3 class="anchored" data-anchor-id="sec-SGC4A-interpretation">Derive Interpretation</h3>
<p>Finally, we use the interpretation subscores to classify the response as a particular interpretation (or “?” if the response cannot be classified). <a href="#sec-SGC3A-interpretation">For details, see&nbsp;<span class="quarto-unresolved-ref">sec-SGC3A-interpretation</span></a></p>
<div class="cell" data-hash="2_sgc4A_scoring_cache/html/DERIVE-INTERPRETATION_40bf806c7556fa825c7f9d3b397af910">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>threshold_range <span class="ot">=</span> <span class="fl">0.5</span> <span class="co">#set required variance in subscores to be discriminant</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>threshold_frenzy <span class="ot">=</span> <span class="dv">4</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="dv">1</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (x <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(df_items)) {</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  <span class="co">#CALCULATE MAX TVERSKY SUBSCORE</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  t <span class="ot">=</span> df_items[x,] <span class="sc">%&gt;%</span> <span class="fu">select</span>(score_TV_max, score_TV_start, score_TV_end, score_TV_duration) <span class="co">#reshape</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>  t.long <span class="ot">=</span> <span class="fu">gather</span>(t,score, value, <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>)</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>  t.long[t.long <span class="sc">==</span> <span class="st">""</span>] <span class="ot">=</span> <span class="cn">NA</span> <span class="co">#replace empty scores with NA so we can ignore them</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">length</span>(<span class="fu">unique</span>(t.long<span class="sc">$</span>value)) <span class="sc">==</span> <span class="dv">1</span> ){</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(<span class="fu">is.na</span>(<span class="fu">unique</span>(t.long<span class="sc">$</span>value))){</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>      df_items[x,<span class="st">'score_TVERSKY'</span>] <span class="ot">=</span> <span class="cn">NA</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>      df_items[x,<span class="st">'tv_type'</span>] <span class="ot">=</span> <span class="cn">NA</span>   </span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>    df_items[x,<span class="st">'score_TVERSKY'</span>] <span class="ot">=</span> <span class="fu">as.numeric</span>(<span class="fu">max</span>(t.long<span class="sc">$</span>value,<span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>    df_items[x,<span class="st">'tv_type'</span>] <span class="ot">=</span> t.long[<span class="fu">which.max</span>(t.long<span class="sc">$</span>value),<span class="st">'score'</span>]</span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>  <span class="co">#CALCULATE MAX SATISFICING SUBSCORE</span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>  t <span class="ot">=</span> df_items[x,] <span class="sc">%&gt;%</span> <span class="fu">select</span>(score_SAT_left, score_SAT_right)</span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>  t.long <span class="ot">=</span> <span class="fu">gather</span>(t,score, value, <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>)</span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>  t.long[t.long <span class="sc">==</span> <span class="st">""</span>] <span class="ot">=</span> <span class="cn">NA</span> <span class="co">#replace empty scores</span></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">length</span>(<span class="fu">unique</span>(t.long<span class="sc">$</span>value)) <span class="sc">==</span> <span class="dv">1</span> ){</span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(<span class="fu">is.na</span>(<span class="fu">unique</span>(t.long<span class="sc">$</span>value))){</span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>      df_items[x,<span class="st">'score_SATISFICE'</span>] <span class="ot">=</span> <span class="cn">NA</span></span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>      df_items[x,<span class="st">'sat_type'</span>] <span class="ot">=</span> <span class="cn">NA</span>   </span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>    df_items[x,<span class="st">'score_SATISFICE'</span>] <span class="ot">=</span> <span class="fu">as.numeric</span>(<span class="fu">max</span>(t.long<span class="sc">$</span>value,<span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>    df_items[x,<span class="st">'sat_type'</span>] <span class="ot">=</span> t.long[<span class="fu">which.max</span>(t.long<span class="sc">$</span>value),<span class="st">'score'</span>]  </span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a>  <span class="co">#NOW CALCULATE RANGE AMONG SUBSCORES</span></span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a>  <span class="co">#order of this selection matters in breaking ties! </span></span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a>  t <span class="ot">=</span> df_items[x,] <span class="sc">%&gt;%</span> <span class="fu">select</span>(score_TRI, score_TVERSKY, score_SATISFICE, score_ORTH)</span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a>  t.long <span class="ot">=</span> <span class="fu">gather</span>(t,score, value, <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>)</span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a>  t.long[t.long <span class="sc">==</span> <span class="st">""</span>] <span class="ot">=</span> <span class="cn">NA</span></span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a>  df_items[x,<span class="st">'top_score'</span>] <span class="ot">=</span> <span class="fu">as.numeric</span>(<span class="fu">max</span>(t.long<span class="sc">$</span>value,<span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a>  df_items[x,<span class="st">'top_type'</span>] <span class="ot">=</span> t.long[<span class="fu">which.max</span>(t.long<span class="sc">$</span>value),<span class="st">'score'</span>]</span>
<span id="cb6-44"><a href="#cb6-44" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-45"><a href="#cb6-45" aria-hidden="true" tabindex="-1"></a>  <span class="co">#calculate the range between highest and lowest scores </span></span>
<span id="cb6-46"><a href="#cb6-46" aria-hidden="true" tabindex="-1"></a>  r <span class="ot">=</span> <span class="fu">as.numeric</span>(<span class="fu">range</span>(t.long<span class="sc">$</span>value,<span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb6-47"><a href="#cb6-47" aria-hidden="true" tabindex="-1"></a>  r <span class="ot">=</span> <span class="fu">diff</span>(r)</span>
<span id="cb6-48"><a href="#cb6-48" aria-hidden="true" tabindex="-1"></a>  df_items[x,<span class="st">'range'</span>] <span class="ot">=</span> r</span>
<span id="cb6-49"><a href="#cb6-49" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-50"><a href="#cb6-50" aria-hidden="true" tabindex="-1"></a>  <span class="co">#DISCRIMINANT BETWEEN SUBSCORES TO PREDICT BEST FIT INTERPRETATION</span></span>
<span id="cb6-51"><a href="#cb6-51" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-52"><a href="#cb6-52" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (r <span class="sc">&lt;</span> threshold_range) {</span>
<span id="cb6-53"><a href="#cb6-53" aria-hidden="true" tabindex="-1"></a>      <span class="co">#then we can't predict the interpretation, leave it as "?"</span></span>
<span id="cb6-54"><a href="#cb6-54" aria-hidden="true" tabindex="-1"></a>    df_items[x,<span class="st">'best'</span>] <span class="ot">=</span> <span class="st">"?"</span></span>
<span id="cb6-55"><a href="#cb6-55" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb6-56"><a href="#cb6-56" aria-hidden="true" tabindex="-1"></a>      p <span class="ot">=</span>  df_items[x,<span class="st">'top_type'</span>]</span>
<span id="cb6-57"><a href="#cb6-57" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (p <span class="sc">==</span> <span class="st">"score_TRI"</span>) {df_items[x,<span class="st">'best'</span>] <span class="ot">=</span> <span class="st">"Triangular"</span></span>
<span id="cb6-58"><a href="#cb6-58" aria-hidden="true" tabindex="-1"></a>      } <span class="cf">else</span> <span class="cf">if</span>(p <span class="sc">==</span> <span class="st">"score_ORTH"</span>) {df_items[x,<span class="st">'best'</span>] <span class="ot">=</span> <span class="st">"Orthogonal"</span></span>
<span id="cb6-59"><a href="#cb6-59" aria-hidden="true" tabindex="-1"></a>      } <span class="cf">else</span> <span class="cf">if</span>(p <span class="sc">==</span> <span class="st">"score_TVERSKY"</span>) {df_items[x,<span class="st">'best'</span>] <span class="ot">=</span> <span class="st">"Tversky"</span></span>
<span id="cb6-60"><a href="#cb6-60" aria-hidden="true" tabindex="-1"></a>      } <span class="cf">else</span> <span class="cf">if</span>(p <span class="sc">==</span> <span class="st">"score_SATISFICE"</span>) {df_items[x,<span class="st">'best'</span>] <span class="ot">=</span> <span class="st">"Satisfice"</span>}</span>
<span id="cb6-61"><a href="#cb6-61" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb6-62"><a href="#cb6-62" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-63"><a href="#cb6-63" aria-hidden="true" tabindex="-1"></a>  <span class="co">#CHECK SPECIAL SITUATIONS</span></span>
<span id="cb6-64"><a href="#cb6-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-65"><a href="#cb6-65" aria-hidden="true" tabindex="-1"></a>  <span class="co">#BOTH TRI AND ORTH?  </span></span>
<span id="cb6-66"><a href="#cb6-66" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.na</span>(df_items[x,<span class="st">'score_BOTH'</span>])) { <span class="co">#only check if both is not null</span></span>
<span id="cb6-67"><a href="#cb6-67" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span>( df_items[x,<span class="st">'score_BOTH'</span>] <span class="sc">==</span> <span class="dv">1</span>) {</span>
<span id="cb6-68"><a href="#cb6-68" aria-hidden="true" tabindex="-1"></a>        df_items[x,<span class="st">'best'</span>] <span class="ot">=</span> <span class="st">"both tri + orth"</span>}</span>
<span id="cb6-69"><a href="#cb6-69" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb6-70"><a href="#cb6-70" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-71"><a href="#cb6-71" aria-hidden="true" tabindex="-1"></a>  <span class="co">#IS BLANK?</span></span>
<span id="cb6-72"><a href="#cb6-72" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>( df_items[x,<span class="st">'num_o'</span>] <span class="sc">==</span> <span class="dv">0</span>) {  </span>
<span id="cb6-73"><a href="#cb6-73" aria-hidden="true" tabindex="-1"></a>    df_items[x,<span class="st">'best'</span>] <span class="ot">=</span> <span class="st">"blank"</span></span>
<span id="cb6-74"><a href="#cb6-74" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb6-75"><a href="#cb6-75" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-76"><a href="#cb6-76" aria-hidden="true" tabindex="-1"></a>  <span class="co">#IS FRENZY?</span></span>
<span id="cb6-77"><a href="#cb6-77" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>( df_items[x,<span class="st">'num_o'</span>] <span class="sc">&gt;</span> threshold_frenzy) { </span>
<span id="cb6-78"><a href="#cb6-78" aria-hidden="true" tabindex="-1"></a>      df_items[x,<span class="st">'best'</span>] <span class="ot">=</span> <span class="st">"frenzy"</span></span>
<span id="cb6-79"><a href="#cb6-79" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb6-80"><a href="#cb6-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-81"><a href="#cb6-81" aria-hidden="true" tabindex="-1"></a>  <span class="co">#IS REF POINT?</span></span>
<span id="cb6-82"><a href="#cb6-82" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.na</span>(df_items[x,<span class="st">'score_REF'</span>])) { <span class="co">#only check if the score is NOT null</span></span>
<span id="cb6-83"><a href="#cb6-83" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span>( df_items[x,<span class="st">'score_REF'</span>] <span class="sc">==</span> <span class="dv">1</span>) {</span>
<span id="cb6-84"><a href="#cb6-84" aria-hidden="true" tabindex="-1"></a>          df_items[x,<span class="st">'best'</span>] <span class="ot">=</span> <span class="st">"reference"</span></span>
<span id="cb6-85"><a href="#cb6-85" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb6-86"><a href="#cb6-86" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb6-87"><a href="#cb6-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-88"><a href="#cb6-88" aria-hidden="true" tabindex="-1"></a>}<span class="co">#end loop</span></span>
<span id="cb6-89"><a href="#cb6-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-90"><a href="#cb6-90" aria-hidden="true" tabindex="-1"></a><span class="co">#cleanup </span></span>
<span id="cb6-91"><a href="#cb6-91" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(t, t.long, x, r,p)</span>
<span id="cb6-92"><a href="#cb6-92" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(threshold_frenzy, threshold_range)</span>
<span id="cb6-93"><a href="#cb6-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-94"><a href="#cb6-94" aria-hidden="true" tabindex="-1"></a><span class="co">#set order of levels for response exploration table</span></span>
<span id="cb6-95"><a href="#cb6-95" aria-hidden="true" tabindex="-1"></a>df_items<span class="sc">$</span>int2 <span class="ot">&lt;-</span> <span class="fu">factor</span>(df_items<span class="sc">$</span>best,</span>
<span id="cb6-96"><a href="#cb6-96" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Triangular"</span>, <span class="st">"Tversky"</span>,</span>
<span id="cb6-97"><a href="#cb6-97" aria-hidden="true" tabindex="-1"></a>                                             <span class="st">"Satisfice"</span>, <span class="st">"Orthogonal"</span>, <span class="st">"reference"</span>, <span class="st">"both tri + orth"</span>, <span class="st">"blank"</span>,<span class="st">"frenzy"</span>,<span class="st">"?"</span>))</span>
<span id="cb6-98"><a href="#cb6-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-99"><a href="#cb6-99" aria-hidden="true" tabindex="-1"></a><span class="co">#set order of levels</span></span>
<span id="cb6-100"><a href="#cb6-100" aria-hidden="true" tabindex="-1"></a>df_items<span class="sc">$</span>interpretation <span class="ot">&lt;-</span> <span class="fu">factor</span>(df_items<span class="sc">$</span>best,</span>
<span id="cb6-101"><a href="#cb6-101" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Orthogonal"</span>,<span class="st">"Satisfice"</span>, <span class="st">"frenzy"</span>,<span class="st">"?"</span>,<span class="st">"reference"</span>,<span class="st">"blank"</span>,</span>
<span id="cb6-102"><a href="#cb6-102" aria-hidden="true" tabindex="-1"></a>                                               <span class="st">"both tri + orth"</span>, <span class="st">"Tversky"</span>,<span class="st">"Triangular"</span>))</span>
<span id="cb6-103"><a href="#cb6-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-104"><a href="#cb6-104" aria-hidden="true" tabindex="-1"></a><span class="co">#collapsed representation of scale of interpretations</span></span>
<span id="cb6-105"><a href="#cb6-105" aria-hidden="true" tabindex="-1"></a>df_items<span class="sc">$</span>high_interpretation <span class="ot">&lt;-</span> <span class="fu">fct_collapse</span>(df_items<span class="sc">$</span>interpretation,</span>
<span id="cb6-106"><a href="#cb6-106" aria-hidden="true" tabindex="-1"></a>  <span class="at">orthogonal =</span> <span class="fu">c</span>(<span class="st">"Satisfice"</span>, <span class="st">"Orthogonal"</span>),</span>
<span id="cb6-107"><a href="#cb6-107" aria-hidden="true" tabindex="-1"></a>  <span class="at">neg.trans =</span> <span class="fu">c</span>(<span class="st">"frenzy"</span>,<span class="st">"?"</span>),</span>
<span id="cb6-108"><a href="#cb6-108" aria-hidden="true" tabindex="-1"></a>  <span class="at">neutral =</span> <span class="fu">c</span>(<span class="st">"reference"</span>,<span class="st">"blank"</span>),</span>
<span id="cb6-109"><a href="#cb6-109" aria-hidden="true" tabindex="-1"></a>  <span class="at">pos.trans =</span> <span class="fu">c</span>(<span class="st">"Tversky"</span>,<span class="st">"both tri + orth"</span>),</span>
<span id="cb6-110"><a href="#cb6-110" aria-hidden="true" tabindex="-1"></a>  <span class="at">triangular =</span> <span class="st">"Triangular"</span></span>
<span id="cb6-111"><a href="#cb6-111" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb6-112"><a href="#cb6-112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-113"><a href="#cb6-113" aria-hidden="true" tabindex="-1"></a><span class="co">#reorder levels</span></span>
<span id="cb6-114"><a href="#cb6-114" aria-hidden="true" tabindex="-1"></a>df_items<span class="sc">$</span>high_interpretation <span class="ot">=</span> <span class="fu">factor</span>(df_items<span class="sc">$</span>high_interpretation, <span class="at">levels=</span> <span class="fu">c</span>(<span class="st">"orthogonal"</span>, <span class="st">"neg.trans"</span>,<span class="st">"neutral"</span>,<span class="st">"pos.trans"</span>,<span class="st">"triangular"</span>))</span>
<span id="cb6-115"><a href="#cb6-115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-116"><a href="#cb6-116" aria-hidden="true" tabindex="-1"></a><span class="co">#cleanup </span></span>
<span id="cb6-117"><a href="#cb6-117" aria-hidden="true" tabindex="-1"></a>df_items <span class="ot">&lt;-</span> df_items <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>best)</span>
<span id="cb6-118"><a href="#cb6-118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-119"><a href="#cb6-119" aria-hidden="true" tabindex="-1"></a><span class="co">#recode as numeric inase they are char </span></span>
<span id="cb6-120"><a href="#cb6-120" aria-hidden="true" tabindex="-1"></a><span class="co"># df_items$score_TV_duration &lt;- df_items$score_TV_duration %&gt;% as.numeric()</span></span>
<span id="cb6-121"><a href="#cb6-121" aria-hidden="true" tabindex="-1"></a><span class="co"># df_items$score_SATISFICE &lt;- df_items$score_SATISFICE %&gt;% as.numeric()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="sec-SGC4A-scaledScore" class="level3">
<h3 class="anchored" data-anchor-id="sec-SGC4A-scaledScore">Derive Scaled Score</h3>
<p>The <code>interpretation</code> response variable gives us the finest grain indication of the reader’s understanding of the graph for a particular question. However, it is a categorical variable, which poses a challenge for analyzing cumulative performance at the subject level. To address this challenge, we derive a <em>scaled_score</em> that converts each possible interpretation to a numeric value on a scale from -1 to +1. This scaling takes advantage of the observation that each interpretation can be positioned along a spectrum of understanding from completely incorrect (orthogonal) to completely correct (triangular). Alternative interpretations lay somewhere between.</p>
<p>Specifically, we assign the following values to each interpretation:</p>
<ul>
<li>(-1) : ORTHOGONAL, SATISFICE (satisfice represents an attempt at an orthogonal answer when none is available)</li>
<li>(-0.5): ? (some alternative that cannot be identified; but meaningful that it is not orthogonal)</li>
<li>(0): REFERENCE POINT, BLANK (indicates the individual thinks there is no answer, recognizes that ORTHOGONAL cannot be correct, but does not conceive of triangular)</li>
<li>(+0.5) TVERSKY, BOTH TRI + ORTH (indicates that they “see” a triangular response, but lack certainty and also select the ORTHOGONAL response)</li>
<li>(+1) TRIANGULAR +1</li>
</ul>
<div class="cell">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>df_items<span class="sc">$</span>score_SCALED <span class="ot">&lt;-</span> <span class="fu">recode</span>(df_items<span class="sc">$</span>interpretation,</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"Orthogonal"</span> <span class="ot">=</span> <span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"Satisfice"</span> <span class="ot">=</span> <span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"frenzy"</span> <span class="ot">=</span> <span class="sc">-</span><span class="fl">0.5</span>,</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"?"</span> <span class="ot">=</span> <span class="sc">-</span><span class="fl">0.5</span>,</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"reference"</span> <span class="ot">=</span> <span class="dv">0</span>,</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"blank"</span> <span class="ot">=</span> <span class="dv">0</span>, </span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"both tri + orth"</span> <span class="ot">=</span> <span class="fl">0.5</span>,</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"Tversky"</span> <span class="ot">=</span> <span class="fl">0.5</span>,</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"Triangular"</span> <span class="ot">=</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="summarize-by-subject" class="level2">
<h2 class="anchored" data-anchor-id="summarize-by-subject">SUMMARIZE BY SUBJECT</h2>
<p>Next, we summarize the item level scores by subject in order to calculate cummulative subscores to be stored on the subject record.</p>
<div class="cell">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">HACK</span><span class="co"> WD FOR LOCAL RUNNING?</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co"># imac = "/Users/amyraefox/Code/SGC-Scaffolding_Graph_Comprehension/SGC-X/ANALYSIS/MAIN"</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co"># mbp = "/Users/amyfox/Sites/RESEARCH/SGC-Scaffolding_Graph_Comprehension/SGC-X/ANALYSIS/MAIN"</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co"># setwd(imac)</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="co">#IMPORT subjects file</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>df_subjects <span class="ot">&lt;-</span> <span class="fu">read_rds</span>(<span class="st">'analysis/SGC4A/data/1-study-level/sgc4a_participants.rds'</span>) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">subject =</span> <span class="fu">as.character</span>(subject)) <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(subject)</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="co">#prep items</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>df_items <span class="ot">&lt;-</span> df_items <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">tv_type =</span> <span class="fu">as.factor</span>(tv_type),</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">top_type =</span> <span class="fu">as.factor</span>(top_type)</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="co">#summarize SCORES and TIME by subject</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>subjects_summary <span class="ot">&lt;-</span> df_items <span class="sc">%&gt;%</span> <span class="fu">filter</span>(q <span class="sc">%nin%</span> <span class="fu">c</span>(<span class="dv">6</span>,<span class="dv">9</span>)) <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(subject) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">summarise</span> (</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">subject =</span> <span class="fu">as.character</span>(subject),</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">s_TRI =</span> <span class="fu">sum</span>(score_TRI,<span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">s_ORTH =</span> <span class="fu">sum</span>(score_ORTH,<span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">s_TVERSKY =</span> <span class="fu">sum</span>(score_TVERSKY,<span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">s_SATISFICE =</span> <span class="fu">sum</span>(score_SATISFICE, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">s_REF =</span> <span class="fu">sum</span>(score_REF,<span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">s_ABS =</span> <span class="fu">sum</span>(score_ABS,<span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">s_NABS =</span> <span class="fu">sum</span>(score_niceABS,<span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">s_SCALED =</span> <span class="fu">sum</span>(score_SCALED,<span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">DV_percent_NABS =</span> s_NABS<span class="sc">/</span><span class="dv">13</span>,</span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>  <span class="at">rt_m =</span> <span class="fu">sum</span>(rt_s)<span class="sc">/</span><span class="dv">60</span>,</span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_avg_rt =</span> <span class="fu">mean</span>(rt_s),</span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_min_rt =</span> <span class="fu">min</span>(rt_s),</span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_max_rt =</span> <span class="fu">max</span>(rt_s),</span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_n_TRI =</span> <span class="fu">sum</span>(interpretation <span class="sc">==</span> <span class="st">"Triangular"</span>),</span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_n_ORTH =</span> <span class="fu">sum</span>(interpretation <span class="sc">==</span> <span class="st">"Orthogonal"</span>),</span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_n_TV =</span> <span class="fu">sum</span>(interpretation <span class="sc">==</span> <span class="st">"Tversky"</span>),</span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_n_SAT =</span> <span class="fu">sum</span>(interpretation <span class="sc">==</span> <span class="st">"Satisfice"</span>),</span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_n_OTHER =</span> <span class="fu">sum</span>(interpretation <span class="sc">%nin%</span> <span class="fu">c</span>(<span class="st">"Triangular"</span>,<span class="st">"Orthogonal"</span>,<span class="st">"Tversky"</span>,<span class="st">"Satisfice"</span>)),</span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_n_POS =</span> <span class="fu">sum</span>(high_interpretation <span class="sc">==</span> <span class="st">"pos.trans"</span>),</span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_n_NEG =</span> <span class="fu">sum</span>(high_interpretation <span class="sc">==</span> <span class="st">"neg.trans"</span>),</span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_n_NEUTRAL =</span> <span class="fu">sum</span>(high_interpretation <span class="sc">==</span> <span class="st">"neutral"</span>)</span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(subject) <span class="sc">%&gt;%</span> <span class="fu">slice</span>(1L)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'subject'. You can override using the
`.groups` argument.</code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">#summarize first scaffold item of interest by subject</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>subjects_q1 <span class="ot">&lt;-</span> df_items <span class="sc">%&gt;%</span> <span class="fu">filter</span>(q <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_q1_NABS =</span> score_niceABS,</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_q1_SCALED =</span> score_SCALED,</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_q1_interpretation =</span> interpretation,</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_q1_rt =</span> rt_s,</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(subject, item_q1_NABS, item_q1_SCALED, item_q1_interpretation,item_q1_rt) <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(subject)</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="co">#summarize last test item of interest by subject</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>subjects_q5 <span class="ot">&lt;-</span> df_items <span class="sc">%&gt;%</span> <span class="fu">filter</span>(q <span class="sc">==</span> <span class="dv">5</span>) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_q5_NABS =</span> score_niceABS,</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_q5_SCALED =</span> score_SCALED,</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_q5_interpretation =</span> interpretation,</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_q5_rt =</span> rt_s,</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(subject, item_q5_NABS, item_q5_SCALED, item_q5_interpretation,item_q5_rt) <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(subject)</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a><span class="co">#summarize first test item of interest by subject</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>subjects_q7 <span class="ot">&lt;-</span> df_items <span class="sc">%&gt;%</span> <span class="fu">filter</span>(q <span class="sc">==</span> <span class="dv">7</span>) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_q7_NABS =</span> score_niceABS,</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_q7_interpretation =</span> interpretation,</span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_q7_rt =</span> rt_s,</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(subject, item_q7_NABS, item_q7_interpretation,item_q7_rt) <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(subject)</span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a><span class="co">#summarize last test item of interest by subject</span></span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>subjects_q15 <span class="ot">&lt;-</span> df_items <span class="sc">%&gt;%</span> <span class="fu">filter</span>(q <span class="sc">==</span> <span class="dv">15</span>) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_q15_NABS =</span> score_niceABS,</span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_q15_interpretation =</span> interpretation,</span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_q15_rt =</span> rt_s,</span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(subject, item_q15_NABS, item_q15_interpretation,item_q15_rt) <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(subject)</span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a><span class="co">#summarize scaffold phase performance</span></span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a>subjects_scaffold <span class="ot">&lt;-</span> df_items <span class="sc">%&gt;%</span> <span class="fu">filter</span>(q<span class="sc">&lt;</span><span class="dv">6</span>)  <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(subject) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">summarise</span> (</span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_scaffold_NABS =</span> <span class="fu">sum</span>(score_niceABS),</span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_scaffold_rt =</span> <span class="fu">sum</span>(rt_s)</span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a>)<span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(subject, item_scaffold_NABS, item_scaffold_rt) <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(subject)</span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a><span class="co">#summarize test phase performance</span></span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a>subjects_test <span class="ot">&lt;-</span> df_items <span class="sc">%&gt;%</span> <span class="fu">filter</span>(q <span class="sc">%nin%</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">9</span>)) <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(subject) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">summarise</span> (</span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_test_NABS =</span> <span class="fu">sum</span>(score_niceABS),</span>
<span id="cb10-40"><a href="#cb10-40" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_test_rt =</span> <span class="fu">sum</span>(rt_s)</span>
<span id="cb10-41"><a href="#cb10-41" aria-hidden="true" tabindex="-1"></a>)<span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(subject, item_test_NABS, item_test_rt) <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(subject)</span>
<span id="cb10-42"><a href="#cb10-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-43"><a href="#cb10-43" aria-hidden="true" tabindex="-1"></a><span class="co">#SANITY CHECK SUBJECT ORDER BEFORE MERGE; BOTH SHOULD BE TRUE</span></span>
<span id="cb10-44"><a href="#cb10-44" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(subjects_summary<span class="sc">$</span>subject <span class="sc">==</span> df_subjects<span class="sc">$</span>subject)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in subjects_summary$subject == df_subjects$subject: longer object length
is not a multiple of shorter object length</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(subjects_summary<span class="sc">$</span>subject <span class="sc">==</span> subjects_q1<span class="sc">$</span>subject)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(subjects_summary<span class="sc">$</span>subject <span class="sc">==</span> subjects_q5<span class="sc">$</span>subject)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(subjects_summary<span class="sc">$</span>subject <span class="sc">==</span> subjects_q7<span class="sc">$</span>subject)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(subjects_summary<span class="sc">$</span>subject <span class="sc">==</span> subjects_q15<span class="sc">$</span>subject)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(subjects_summary<span class="sc">$</span>subject <span class="sc">==</span> subjects_scaffold<span class="sc">$</span>subject)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(subjects_summary<span class="sc">$</span>subject <span class="sc">==</span> subjects_test<span class="sc">$</span>subject)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co">#CAREFULLY CHECK THIS — RELIES ON </span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">merge</span>(df_subjects, subjects_summary)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">merge</span>(x, subjects_q1)</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">merge</span>(x, subjects_q5)</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">merge</span>(x, subjects_q7)</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">merge</span>(x, subjects_q15)</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">merge</span>(x, subjects_scaffold)</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">merge</span>(x, subjects_test)</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>df_subjects <span class="ot">&lt;-</span> x </span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a><span class="co">#cleanup</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(subjects_q1, subjects_q5, subjects_q7, subjects_q15, subjects_scaffold, subjects_test, subjects_summary, x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co">#filter for valid items</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> df_items <span class="sc">%&gt;%</span> <span class="fu">filter</span>(q <span class="sc">%nin%</span> <span class="fu">c</span>(<span class="dv">6</span>,<span class="dv">9</span>)) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(subject,mode, condition, q,score_niceABS) </span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="co">#pivot wider</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>wide <span class="ot">&lt;-</span> x <span class="sc">%&gt;%</span> <span class="fu">pivot_wider</span>(<span class="at">names_from=</span>q, <span class="at">names_glue =</span> <span class="st">"q_{q}"</span>, <span class="at">values_from =</span> score_niceABS)</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a><span class="co">#calc stepwise cumulative score</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c1 <span class="ot">=</span> wide<span class="sc">$</span>q_1</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c2 <span class="ot">=</span> wide<span class="sc">$</span>c1 <span class="sc">+</span> wide<span class="sc">$</span>q_2</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c3 <span class="ot">=</span> wide<span class="sc">$</span>c2 <span class="sc">+</span> wide<span class="sc">$</span>q_3</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c4 <span class="ot">=</span> wide<span class="sc">$</span>c3 <span class="sc">+</span> wide<span class="sc">$</span>q_4</span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c5 <span class="ot">=</span> wide<span class="sc">$</span>c4 <span class="sc">+</span> wide<span class="sc">$</span>q_5</span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c6 <span class="ot">=</span> wide<span class="sc">$</span>c5 <span class="sc">+</span> wide<span class="sc">$</span>q_7</span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c7 <span class="ot">=</span> wide<span class="sc">$</span>c6 <span class="sc">+</span> wide<span class="sc">$</span>q_8</span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c8 <span class="ot">=</span> wide<span class="sc">$</span>c7 <span class="sc">+</span> wide<span class="sc">$</span>q_10</span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c9 <span class="ot">=</span> wide<span class="sc">$</span>c8 <span class="sc">+</span> wide<span class="sc">$</span>q_11</span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c10 <span class="ot">=</span> wide<span class="sc">$</span>c9 <span class="sc">+</span> wide<span class="sc">$</span>q_12</span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c11 <span class="ot">=</span> wide<span class="sc">$</span>c10 <span class="sc">+</span> wide<span class="sc">$</span>q_13</span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c12 <span class="ot">=</span> wide<span class="sc">$</span>c11 <span class="sc">+</span> wide<span class="sc">$</span>q_14</span>
<span id="cb26-20"><a href="#cb26-20" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c13 <span class="ot">=</span> wide<span class="sc">$</span>c12 <span class="sc">+</span> wide<span class="sc">$</span>q_15</span>
<span id="cb26-21"><a href="#cb26-21" aria-hidden="true" tabindex="-1"></a>wide <span class="ot">&lt;-</span> wide <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(subject,mode, condition,c1,c2,c3,c4,c5,c6, c7,c8,c9, c10,c11,c12,c13)</span>
<span id="cb26-22"><a href="#cb26-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-23"><a href="#cb26-23" aria-hidden="true" tabindex="-1"></a><span class="co">#lengthen </span></span>
<span id="cb26-24"><a href="#cb26-24" aria-hidden="true" tabindex="-1"></a>df_absolute_progress <span class="ot">&lt;-</span> wide <span class="sc">%&gt;%</span> <span class="fu">pivot_longer</span>(<span class="at">cols=</span> c1<span class="sc">:</span>c13, <span class="at">names_to =</span> <span class="st">"question"</span>, <span class="at">names_pattern =</span> <span class="st">"c(.*)"</span>, <span class="at">values_to =</span> <span class="st">"score"</span>)</span>
<span id="cb26-25"><a href="#cb26-25" aria-hidden="true" tabindex="-1"></a>df_absolute_progress<span class="sc">$</span>question <span class="ot">&lt;-</span> <span class="fu">as.integer</span>(df_absolute_progress<span class="sc">$</span>question)</span>
<span id="cb26-26"><a href="#cb26-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-27"><a href="#cb26-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-28"><a href="#cb26-28" aria-hidden="true" tabindex="-1"></a><span class="co">#cleanup </span></span>
<span id="cb26-29"><a href="#cb26-29" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(x,wide)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co">#filter for valid items</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> df_items <span class="sc">%&gt;%</span> <span class="fu">filter</span>(q <span class="sc">%nin%</span> <span class="fu">c</span>(<span class="dv">6</span>,<span class="dv">9</span>)) <span class="sc">%&gt;%</span> <span class="fu">select</span>(subject,mode, condition, q,score_SCALED)</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="co">#pivot wider</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>wide <span class="ot">&lt;-</span> x <span class="sc">%&gt;%</span> <span class="fu">pivot_wider</span>(<span class="at">names_from=</span>q, <span class="at">names_glue =</span> <span class="st">"q_{q}"</span>, <span class="at">values_from =</span> score_SCALED)</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a><span class="co">#calc stepwise cumulative score</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c1 <span class="ot">=</span> wide<span class="sc">$</span>q_1</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c2 <span class="ot">=</span> wide<span class="sc">$</span>c1 <span class="sc">+</span> wide<span class="sc">$</span>q_2</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c3 <span class="ot">=</span> wide<span class="sc">$</span>c2 <span class="sc">+</span> wide<span class="sc">$</span>q_3</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c4 <span class="ot">=</span> wide<span class="sc">$</span>c3 <span class="sc">+</span> wide<span class="sc">$</span>q_4</span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c5 <span class="ot">=</span> wide<span class="sc">$</span>c4 <span class="sc">+</span> wide<span class="sc">$</span>q_5</span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c6 <span class="ot">=</span> wide<span class="sc">$</span>c5 <span class="sc">+</span> wide<span class="sc">$</span>q_7</span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c7 <span class="ot">=</span> wide<span class="sc">$</span>c6 <span class="sc">+</span> wide<span class="sc">$</span>q_8</span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c8 <span class="ot">=</span> wide<span class="sc">$</span>c7 <span class="sc">+</span> wide<span class="sc">$</span>q_10</span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c9 <span class="ot">=</span> wide<span class="sc">$</span>c8 <span class="sc">+</span> wide<span class="sc">$</span>q_11</span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c10 <span class="ot">=</span> wide<span class="sc">$</span>c9 <span class="sc">+</span> wide<span class="sc">$</span>q_12</span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c11 <span class="ot">=</span> wide<span class="sc">$</span>c10 <span class="sc">+</span> wide<span class="sc">$</span>q_13</span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c12 <span class="ot">=</span> wide<span class="sc">$</span>c11 <span class="sc">+</span> wide<span class="sc">$</span>q_14</span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c13 <span class="ot">=</span> wide<span class="sc">$</span>c12 <span class="sc">+</span> wide<span class="sc">$</span>q_15</span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a>wide <span class="ot">&lt;-</span> wide <span class="sc">%&gt;%</span> <span class="fu">select</span>(subject,mode, condition,c1,c2,c3,c4,c5,c6, c7,c8,c9, c10,c11,c12,c13)</span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a><span class="co">#lengthen </span></span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a>df_scaled_progress <span class="ot">&lt;-</span> wide <span class="sc">%&gt;%</span> <span class="fu">pivot_longer</span>(<span class="at">cols=</span> c1<span class="sc">:</span>c13, <span class="at">names_to =</span> <span class="st">"question"</span>, <span class="at">names_pattern =</span> <span class="st">"c(.*)"</span>, <span class="at">values_to =</span> <span class="st">"score"</span>)</span>
<span id="cb27-25"><a href="#cb27-25" aria-hidden="true" tabindex="-1"></a>df_scaled_progress<span class="sc">$</span>question <span class="ot">&lt;-</span> <span class="fu">as.integer</span>(df_scaled_progress<span class="sc">$</span>question)</span>
<span id="cb27-26"><a href="#cb27-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-27"><a href="#cb27-27" aria-hidden="true" tabindex="-1"></a><span class="co">#cleanup </span></span>
<span id="cb27-28"><a href="#cb27-28" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(x,wide)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="explore-distributions" class="level2">
<h2 class="anchored" data-anchor-id="explore-distributions">EXPLORE DISTRIBUTIONS</h2>
<div class="cell">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">repr.plot.width =</span><span class="dv">9</span>, <span class="at">repr.plot.height =</span><span class="dv">12</span>)</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="co">#create temp data frame for visualizations</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>df <span class="ot">=</span> df_items <span class="sc">%&gt;%</span> <span class="fu">filter</span> (q <span class="sc">%nin%</span> <span class="fu">c</span>(<span class="dv">6</span>,<span class="dv">9</span>)) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">score_niceABS =</span> <span class="fu">as.factor</span>(score_niceABS),</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">pretty_condition =</span> <span class="fu">recode_factor</span>(condition, <span class="st">"11111"</span> <span class="ot">=</span> <span class="st">"control"</span>, <span class="st">"113"</span> <span class="ot">=</span>  <span class="st">"cond3"</span>, <span class="st">"114"</span><span class="ot">=</span><span class="st">"cond4"</span>, <span class="st">"115"</span><span class="ot">=</span><span class="st">"cond5"</span>),</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">pretty_interpretation =</span> <span class="fu">factor</span>(interpretation,</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Orthogonal"</span>, <span class="st">"Satisfice"</span>, </span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>               <span class="st">"frenzy"</span>,<span class="st">"?"</span>,</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>                <span class="st">"reference"</span>,<span class="st">"blank"</span>,</span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Tversky"</span>, <span class="st">"both tri + orth"</span>,</span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>               <span class="st">"Triangular"</span> ))</span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="absolute-score" class="level3">
<h3 class="anchored" data-anchor-id="absolute-score">Absolute Score</h3>
<div class="cell">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co">#DISTRIBUTION ABSOLUTE SCORE FULL </span><span class="al">TASK</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="fu">gf_props</span>(<span class="sc">~</span>score_niceABS, <span class="at">fill =</span> <span class="sc">~</span>pretty_condition, <span class="at">position =</span> <span class="fu">position_dodge</span>(), <span class="at">data =</span> df) <span class="sc">+</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>( <span class="at">x =</span> <span class="st">"Absolute Score"</span>, </span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">title =</span> <span class="st">"Distribution of Absolute Score (all Items)"</span>,</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">subtitle =</span> <span class="fu">paste</span>(<span class="st">"Impasse Condition (blue) yields more correct responses across the entire task"</span>),</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="st">"Proportion of Items"</span>) <span class="sc">+</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_discrete</span>(<span class="at">name =</span> <span class="st">"Condition"</span>) <span class="sc">+</span>  </span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="2_sgc4A_scoring_files/figure-html/DISTR-ABSCORE-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co">#DISTRIBUTION ABSOLUTE SCORE BY ITEM</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="co"># gf_props(~score_niceABS, fill = ~pretty_condition, position = position_dodge(), data = df)  %&gt;% </span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="co">#   gf_facet_grid(pretty_condition~q) + </span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   labs( x = "Absolute Score", </span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="co">#         title = "Distribution of Absolute Score (by Item)",</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a><span class="co">#         subtitle = "Impasse Condition (blue) yields more correct responses on each item",</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a><span class="co">#         y = "Proprition of Subjects") +</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a><span class="co">#   scale_fill_discrete(name = "Condition") +  </span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a><span class="co">#   theme_minimal()</span></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a><span class="co">#DISTRIBUTION ABSOLUTE SCORE BY SUBJECT</span></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a><span class="co"># gf_props(~s_NABS, fill = ~pretty_condition, position = position_dodge(), data = df_subjects) %&gt;%</span></span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a><span class="co"># gf_facet_grid(pretty_condition ~. )+</span></span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a><span class="co">#   labs( x = "Total Absolute Score",</span></span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a><span class="co">#         title = "Distribution of Total Absolute Score (by Subject)",</span></span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a><span class="co">#         subtitle = "Impasse Condition (blue) yields higher total absolute scores",</span></span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a><span class="co">#         y = "Proportion of Subjects") +</span></span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a><span class="co">#   scale_fill_discrete(name = "Condition") +</span></span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a><span class="co">#   theme_minimal() + theme(legend.position = "blank")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="scaled-score" class="level3">
<h3 class="anchored" data-anchor-id="scaled-score">Scaled Score</h3>
<div class="cell">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">repr.plot.width =</span><span class="dv">9</span>, <span class="at">repr.plot.height =</span><span class="dv">12</span>)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="co">#DISTRIBUTION SCALED SCORE FULL </span><span class="al">TASK</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="fu">gf_props</span>(<span class="sc">~</span>score_SCALED, <span class="at">fill =</span> <span class="sc">~</span>pretty_condition, <span class="at">position =</span> <span class="fu">position_dodge</span>(), <span class="at">data =</span> df) <span class="sc">+</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>( <span class="at">x =</span> <span class="st">"Scaled Score"</span>, </span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">title =</span> <span class="st">"Distribution of Scaled Score (all Items)"</span>,</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">subtitle =</span> <span class="st">"Impasse Condition (blue) yields higher scaled scores across the entire task"</span>,</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="st">"Proportion of Items"</span>) <span class="sc">+</span></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_discrete</span>(<span class="at">name =</span> <span class="st">"Condition"</span>) <span class="sc">+</span>  </span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="2_sgc4A_scoring_files/figure-html/DISTR-SCALEDSCORE-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co">#DISTRIBUTION SCALED SCORE BY ITEM</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="co"># gf_props(~score_SCALED, fill = ~pretty_condition, position = position_dodge(), data = df)  %&gt;% </span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="co">#   gf_facet_grid(q~pretty_condition) + </span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   labs( x = "Scaled Score", </span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a><span class="co">#         title = "Distribution of Scaled Score (by Item)",</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a><span class="co">#         subtitle = "Impasse Condition (blue) yields higher scaled scores on each item",</span></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a><span class="co">#         y = "Proportion of Subjects") +</span></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a><span class="co">#   scale_fill_discrete(name = "Condition") +  scale_y_continuous(breaks=c(0,0.5)) + </span></span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a><span class="co">#   theme_minimal() + theme(legend.position="blank")</span></span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a><span class="co">#DISTRIBUTION SCALED SCORE BY SUBJECT</span></span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a><span class="co"># gf_props(~s_SCALED, fill = ~pretty_condition, data = df_subjects)  %&gt;%</span></span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a><span class="co">#   gf_facet_grid(pretty_condition ~. )+</span></span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a><span class="co">#   labs( x = "Total Scaled Score",</span></span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a><span class="co">#         title = "Distribution of Total Scaled Score (by Subject)",</span></span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a><span class="co">#         subtitle = "Impasse Condition (blue) yields higher cumulative scaled scores",</span></span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a><span class="co">#         y = "Number of Subjects") +</span></span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a><span class="co">#   scale_fill_discrete(name = "Condition") +</span></span>
<span id="cb32-19"><a href="#cb32-19" aria-hidden="true" tabindex="-1"></a><span class="co">#   theme_minimal()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li>TODO: INVESTIGATE if some of the scores assigned to 0 should be assigned to -0.5 to balance</li>
<li>TODO: INVESTIGATE DISTRIBUTIONS of each subscore type</li>
</ul>
</section>
<section id="interpretations" class="level3">
<h3 class="anchored" data-anchor-id="interpretations">Interpretations</h3>
<div class="cell">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co">#DISTRIBUTION OF INTERPRETATION</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">gf_props</span>(<span class="sc">~</span>pretty_interpretation, <span class="at">fill =</span> <span class="sc">~</span>pretty_condition, <span class="at">data =</span> df) <span class="sc">%&gt;%</span> </span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gf_facet_grid</span>( pretty_condition <span class="sc">~</span> ., <span class="at">labeller =</span> label_both) <span class="sc">+</span> </span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>( <span class="at">title =</span> <span class="st">"Distribution of Interpretations (across Task)"</span>,</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="st">"Graph Interpretation"</span>,</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="st">"Proportion of Responses"</span>,</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">subtitle =</span> <span class="st">"Impasse condition (blue) yields fewer Orthogonal and more Triangular responses"</span>) <span class="sc">+</span> </span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"blank"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="2_sgc4A_scoring_files/figure-html/DISTR-INTERPRETATIONS-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co">#DISTRIBUTION OF INTERPRETATION ACROSS ITEMS</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="fu">gf_propsh</span>(<span class="sc">~</span> pretty_interpretation, <span class="at">fill =</span> <span class="sc">~</span>pretty_condition, <span class="at">data =</span> df) <span class="sc">%&gt;%</span> </span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gf_facet_grid</span>( pretty_condition<span class="sc">~</span>q) <span class="sc">+</span> </span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>( <span class="at">title =</span> <span class="st">"Distribution of Interpretations (by Item)"</span>,</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">subtitle =</span> <span class="st">"Impasse condition (blue) yields more Triangular responses on each question"</span>,</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="st">"Interpretation"</span>, <span class="at">x =</span> <span class="st">"Proportion of Subjects"</span>) <span class="sc">+</span> <span class="fu">theme_minimal</span>() <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"blank"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="2_sgc4A_scoring_files/figure-html/DISTR-INTERPRETATIONS-2.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co">#DISTRIBUTION OF INTERPRETATION TYPE ACROSS ITEMS</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="fu">gf_propsh</span>(<span class="sc">~</span> high_interpretation, <span class="at">fill =</span> <span class="sc">~</span>pretty_condition, <span class="at">data =</span> df) <span class="sc">%&gt;%</span> </span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gf_facet_grid</span>( pretty_condition<span class="sc">~</span>q) <span class="sc">+</span> </span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>( <span class="at">title =</span> <span class="st">"Distribution of Interpretations (by Item)"</span>,</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">subtitle =</span> <span class="st">"Impasse condition (blue) yields more positive trending responses on each question"</span>,</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="st">"Interpretation"</span>, <span class="at">x =</span> <span class="st">"Proportion of Subjects"</span>) <span class="sc">+</span> <span class="fu">theme_minimal</span>() <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"blank"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="2_sgc4A_scoring_files/figure-html/DISTR-INTERPRETATIONS-3.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="progress-over-task" class="level3">
<h3 class="anchored" data-anchor-id="progress-over-task">Progress over Task</h3>
<div class="cell">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co">#recode factors</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>df_absolute_progress <span class="ot">&lt;-</span> df_absolute_progress <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">pretty_condition =</span> <span class="fu">recode_factor</span>(condition, <span class="st">"11111"</span> <span class="ot">=</span> <span class="st">"control"</span>, <span class="st">"113"</span> <span class="ot">=</span>  <span class="st">"cond3"</span>, <span class="st">"114"</span><span class="ot">=</span><span class="st">"cond4"</span>, <span class="st">"115"</span><span class="ot">=</span><span class="st">"cond5"</span>)</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>df_scaled_progress <span class="ot">&lt;-</span> df_scaled_progress <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">pretty_condition =</span> <span class="fu">recode_factor</span>(condition, <span class="st">"11111"</span> <span class="ot">=</span> <span class="st">"control"</span>, <span class="st">"113"</span> <span class="ot">=</span>  <span class="st">"cond3"</span>, <span class="st">"114"</span><span class="ot">=</span><span class="st">"cond4"</span>, <span class="st">"115"</span><span class="ot">=</span><span class="st">"cond5"</span>)</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a><span class="co">#VISUALIZE progress over time ABSOLUTE score </span></span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> df_absolute_progress, <span class="fu">aes</span>(<span class="at">x =</span> question, <span class="at">y =</span> score, <span class="at">group =</span> subject, <span class="at">alpha =</span> <span class="fl">0.01</span>, <span class="at">color =</span> pretty_condition)) <span class="sc">+</span> </span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a> <span class="fu">geom_line</span>(<span class="at">position=</span><span class="fu">position_jitter</span>(<span class="at">w=</span><span class="fl">0.15</span>, <span class="at">h=</span><span class="fl">0.15</span>), <span class="at">size=</span><span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a> <span class="fu">facet_wrap</span>(<span class="sc">~</span>pretty_condition) <span class="sc">+</span> </span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a> <span class="fu">labs</span> (<span class="at">title =</span> <span class="st">"Cumulative Absolute Score over sequence of task"</span>, <span class="at">x =</span> <span class="st">"Question"</span> , <span class="at">y =</span> <span class="st">"Cumulative Absolute Score"</span>) <span class="sc">+</span> </span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a> <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">9</span>,<span class="dv">10</span>,<span class="dv">11</span>,<span class="dv">12</span>,<span class="dv">13</span>)) <span class="sc">+</span></span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a> <span class="fu">theme_minimal</span>() <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"blank"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="2_sgc4A_scoring_files/figure-html/VIZ-PROGRESS-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co">#VISUALIZE progress over time SCALED score </span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> df_scaled_progress, <span class="fu">aes</span>(<span class="at">x =</span> question, <span class="at">y =</span> score, <span class="at">group =</span> subject, <span class="at">alpha =</span> <span class="fl">0.01</span>, <span class="at">color =</span> pretty_condition)) <span class="sc">+</span> </span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a> <span class="fu">geom_line</span>(<span class="at">position=</span><span class="fu">position_jitter</span>(<span class="at">w=</span><span class="fl">0.15</span>, <span class="at">h=</span><span class="fl">0.15</span>), <span class="at">size=</span><span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a> <span class="fu">facet_wrap</span>(<span class="sc">~</span>pretty_condition) <span class="sc">+</span> </span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a> <span class="fu">labs</span> (<span class="at">title =</span> <span class="st">"Cumulative Scaled Score over sequence of task"</span>, <span class="at">x =</span> <span class="st">"Question"</span> , <span class="at">y =</span> <span class="st">"Cumulative Scaled Score"</span>) <span class="sc">+</span> </span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a> <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">9</span>,<span class="dv">10</span>,<span class="dv">11</span>,<span class="dv">12</span>,<span class="dv">13</span>)) <span class="sc">+</span></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a> <span class="fu">theme_minimal</span>() <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"blank"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="2_sgc4A_scoring_files/figure-html/VIZ-PROGRESS-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="interpretation-subscores" class="level3">
<h3 class="anchored" data-anchor-id="interpretation-subscores">Interpretation Subscores</h3>
<div class="cell">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># gf_density(~ s_TRI, fill = ~pretty_condition, data = df_subjects) %&gt;% </span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="co">#   gf_facet_wrap( ~ pretty_condition) + </span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="co">#   labs( title = "Distribution of Total Triangular Score",</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="co">#         subtitle = "Impasse shifts density toward higher Triagular scores",</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a><span class="co">#         x = "Item Triangular Score", y = "Proportion of Subjects") + </span></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a><span class="co">#         theme_minimal() + theme(legend.position = "blank")</span></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a><span class="co"># gf_density(~ s_ORTH, fill = ~pretty_condition, data = df_subjects) %&gt;% </span></span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a><span class="co">#   gf_facet_wrap( ~ pretty_condition) + </span></span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a><span class="co">#   labs( title = "Distribution of Total Orthogonal Score",</span></span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a><span class="co">#         subtitle = "Impasse shifts density toward lower Orthogonal scores",</span></span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a><span class="co">#         x = "Item Orthogonal Score", y = "Proportion of Subjects") + </span></span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a><span class="co">#         theme_minimal() + theme(legend.position = "blank")</span></span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a><span class="co"># gf_density(~ s_TVERSKY, fill = ~pretty_condition, data = df_subjects) %&gt;% </span></span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a><span class="co">#   gf_facet_wrap( ~ pretty_condition) + </span></span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a><span class="co">#   labs( title = "Distribution of Total Tversky Score",</span></span>
<span id="cb38-19"><a href="#cb38-19" aria-hidden="true" tabindex="-1"></a><span class="co">#         subtitle = "Impasse shifts density toward higher Tversky scores",</span></span>
<span id="cb38-20"><a href="#cb38-20" aria-hidden="true" tabindex="-1"></a><span class="co">#         x = "Item Orthogonal Score", y = "Proportion of Subjects") + </span></span>
<span id="cb38-21"><a href="#cb38-21" aria-hidden="true" tabindex="-1"></a><span class="co">#         theme_minimal() + theme(legend.position = "blank")</span></span>
<span id="cb38-22"><a href="#cb38-22" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb38-23"><a href="#cb38-23" aria-hidden="true" tabindex="-1"></a><span class="co"># gf_histogram(~ s_SATISFICE, fill = ~pretty_condition, data = df_subjects) %&gt;% </span></span>
<span id="cb38-24"><a href="#cb38-24" aria-hidden="true" tabindex="-1"></a><span class="co">#   gf_facet_wrap( ~ pretty_condition) + </span></span>
<span id="cb38-25"><a href="#cb38-25" aria-hidden="true" tabindex="-1"></a><span class="co">#   labs( title = "Distribution of Total Satisfice Score",</span></span>
<span id="cb38-26"><a href="#cb38-26" aria-hidden="true" tabindex="-1"></a><span class="co">#         subtitle = "Satisficing only occurs in impasse, when no orthogonal response is available",</span></span>
<span id="cb38-27"><a href="#cb38-27" aria-hidden="true" tabindex="-1"></a><span class="co">#         x = "Item Orthogonal Score", y = "Proportion of Subjects") + </span></span>
<span id="cb38-28"><a href="#cb38-28" aria-hidden="true" tabindex="-1"></a><span class="co">#         theme_minimal() + theme(legend.position = "blank")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="explore-responses" class="level2">
<h2 class="anchored" data-anchor-id="explore-responses">EXPLORE RESPONSES</h2>
<p>In this section we explore responses given by participants to each particular item in the graph comprehension task, indicate how each response was scored, and what interpretation of the graph is indicated by different responses.</p>
<p>TODO</p>
</section>
<section id="export" class="level2">
<h2 class="anchored" data-anchor-id="export">EXPORT</h2>
<p>Finally, we export the scores for each item (<code>df_items</code>) and summarized over subjects (<code>df_subjects</code>), as well as cumulative progress dataframes (<code>df_absolute_progress</code>, <code>df_scaled_progress</code>)</p>
<div class="cell">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># #HACK WD FOR LOCAL RUNNING?</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="co"># imac = "/Users/amyraefox/Code/SGC-Scaffolding_Graph_Comprehension/SGC-X/ANALYSIS/MAIN"</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="co"># # mbp = "/Users/amyfox/Sites/RESEARCH/SGC—Scaffolding Graph Comprehension/SGC-X/ANALYSIS/MAIN"</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="co"># setwd(imac)</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a><span class="co">#SAVE FILES</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(df_subjects,<span class="st">"analysis/SGC4A/data/2-scored-data/sgc4a_scored_participants.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(df_items,<span class="st">"analysis/SGC4A/data/2-scored-data/sgc4a_scored_items.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(df_absolute_progress,<span class="st">"analysis/SGC4A/data/2-scored-data/sgc4a_absolute_progress.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(df_scaled_progress,<span class="st">"analysis/SGC4A/data/2-scored-data/sgc4a_scaled_progress.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a><span class="co">#SAVE R Data Structures </span></span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a><span class="co">#export R DATA STRUCTURES (include codebook metadata)</span></span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a>rio<span class="sc">::</span><span class="fu">export</span>(df_subjects, <span class="st">"analysis/SGC4A/data/2-scored-data/sgc4a_scored_participants.rds"</span>) <span class="co"># to R data structure file</span></span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a>rio<span class="sc">::</span><span class="fu">export</span>(df_items, <span class="st">"analysis/SGC4A/data/2-scored-data/sgc4a_scored_items.rds"</span>) <span class="co"># to R data structure file</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="resources" class="level2">
<h2 class="anchored" data-anchor-id="resources">RESOURCES</h2>
<div class="cell">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sessionInfo</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>R version 4.2.1 (2022-06-23)
Platform: x86_64-apple-darwin17.0 (64-bit)
Running under: macOS Big Sur ... 10.16

Matrix products: default
BLAS:   /Library/Frameworks/R.framework/Versions/4.2/Resources/lib/libRblas.0.dylib
LAPACK: /Library/Frameworks/R.framework/Versions/4.2/Resources/lib/libRlapack.dylib

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
 [1] forcats_0.5.1    stringr_1.4.0    dplyr_1.0.9      purrr_0.3.4     
 [5] readr_2.1.2      tidyr_1.2.0      tibble_3.1.7     tidyverse_1.3.1 
 [9] Hmisc_4.7-0      Formula_1.2-4    survival_3.3-1   lattice_0.20-45 
[13] pbapply_1.5-0    ggformula_0.10.1 ggridges_0.5.3   scales_1.2.0    
[17] ggstance_0.3.5   ggplot2_3.3.6    kableExtra_1.3.4

loaded via a namespace (and not attached):
 [1] fs_1.5.2            bit64_4.0.5         lubridate_1.8.0    
 [4] webshot_0.5.3       RColorBrewer_1.1-3  httr_1.4.3         
 [7] tools_4.2.1         backports_1.4.1     utf8_1.2.2         
[10] R6_2.5.1            rpart_4.1.16        DBI_1.1.3          
[13] colorspace_2.0-3    nnet_7.3-17         withr_2.5.0        
[16] tidyselect_1.1.2    gridExtra_2.3       curl_4.3.2         
[19] bit_4.0.4           compiler_4.2.1      cli_3.3.0          
[22] rvest_1.0.2         htmlTable_2.4.0     xml2_1.3.3         
[25] labeling_0.4.2      mosaicCore_0.9.0    checkmate_2.1.0    
[28] systemfonts_1.0.4   digest_0.6.29       foreign_0.8-82     
[31] rmarkdown_2.14      svglite_2.1.0       rio_0.5.29         
[34] base64enc_0.1-3     jpeg_0.1-9          pkgconfig_2.0.3    
[37] htmltools_0.5.2     labelled_2.9.1      dbplyr_2.2.1       
[40] fastmap_1.1.0       readxl_1.4.0        htmlwidgets_1.5.4  
[43] rlang_1.0.3         rstudioapi_0.13     farver_2.1.0       
[46] generics_0.1.2      jsonlite_1.8.0      vroom_1.5.7        
[49] zip_2.2.0           magrittr_2.0.3      Matrix_1.4-1       
[52] Rcpp_1.0.8.3        munsell_0.5.0       fansi_1.0.3        
[55] lifecycle_1.0.1     stringi_1.7.6       yaml_2.3.5         
[58] MASS_7.3-57         plyr_1.8.7          grid_4.2.1         
[61] parallel_4.2.1      crayon_1.5.1        haven_2.5.0        
[64] splines_4.2.1       hms_1.1.1           knitr_1.39         
[67] pillar_1.7.0        reprex_2.0.1        glue_1.6.2         
[70] evaluate_0.15       latticeExtra_0.6-29 data.table_1.14.2  
[73] modelr_0.1.8        tzdb_0.3.0          png_0.1-7          
[76] vctrs_0.4.1         tweenr_1.0.2        cellranger_1.1.0   
[79] gtable_0.3.0        polyclip_1.10-0     assertthat_0.2.1   
[82] openxlsx_4.2.5      xfun_0.31           ggforce_0.3.3      
[85] broom_0.8.0         viridisLite_0.4.0   cluster_2.1.3      
[88] ellipsis_0.3.2     </code></pre>
</div>
</div>


<!-- -->

</section>

</main> <!-- /main -->
<script type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../../analysis/SGC4A/1_sgc4A_introduction.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Introduction</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../../analysis/SGC4B/1_sgc4B_introduction.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Introduction</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb42" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="an">subtitle:</span><span class="co"> 'Study SGC4A | 2 Response Scoring'</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>\newpage</span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>**TODO** update graph subtitles - recode pretty_condition and pretty_interpretation in intro</span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a><span class="fu"># Response Scoring {#sec-SGC4A-scoring}</span></span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a>*The purpose of this notebook is to score (assign a measure of accuracy) to response data for the SGC4A study. This is required because the question type on the graph comprehension task used a 'Multiple Response' (MR) question design. Here, we evaluate different approaches to scoring multiple response questions, and transform raw item responses (e.g. boxes ABC are checked) to a measure of response accuracy. (Warning: this notebook takes several minutes to execute.)* To review the strategy behind Multiple Response scoring for the SGC project, refer to section @sec-scoring.</span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-15"><a href="#cb42-15" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-16"><a href="#cb42-16" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: SETUP</span></span>
<span id="cb42-17"><a href="#cb42-17" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning : false</span></span>
<span id="cb42-18"><a href="#cb42-18" aria-hidden="true" tabindex="-1"></a><span class="co">#| message : false</span></span>
<span id="cb42-19"><a href="#cb42-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-20"><a href="#cb42-20" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen=</span><span class="dv">1</span>, <span class="at">digits=</span><span class="dv">3</span>)</span>
<span id="cb42-21"><a href="#cb42-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-22"><a href="#cb42-22" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra) <span class="co">#printing tables </span></span>
<span id="cb42-23"><a href="#cb42-23" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggformula) <span class="co">#quick graphs</span></span>
<span id="cb42-24"><a href="#cb42-24" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(pbapply) <span class="co">#progress bar and time estimate for *apply fns</span></span>
<span id="cb42-25"><a href="#cb42-25" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Hmisc) <span class="co"># %nin% operator</span></span>
<span id="cb42-26"><a href="#cb42-26" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) <span class="co">#ALL THE THINGS</span></span>
<span id="cb42-27"><a href="#cb42-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-28"><a href="#cb42-28" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-29"><a href="#cb42-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-30"><a href="#cb42-30" aria-hidden="true" tabindex="-1"></a><span class="fu">## SCORE SGC DATA</span></span>
<span id="cb42-31"><a href="#cb42-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-32"><a href="#cb42-32" aria-hidden="true" tabindex="-1"></a>To review the strategy behind Multiple Response scoring for the SGC project, refer to section @sec-scoring.</span>
<span id="cb42-33"><a href="#cb42-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-34"><a href="#cb42-34" aria-hidden="true" tabindex="-1"></a>In SGC_4 we are fundamentally interested in understanding how a participant interprets the presented graph (stimulus). The **graph comprehension task** asks them to select the data points in the graph that meet the criteria posed in the question. To assess a participant's performance, for each question (q=15) we will calculate the following scores:</span>
<span id="cb42-35"><a href="#cb42-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-36"><a href="#cb42-36" aria-hidden="true" tabindex="-1"></a>*An overall, strict score:*\</span>
<span id="cb42-37"><a href="#cb42-37" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>**Absolute Score** : using dichotomous scoring referencing true (Triangular) answer. (see 1.2)</span>
<span id="cb42-38"><a href="#cb42-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-39"><a href="#cb42-39" aria-hidden="true" tabindex="-1"></a>*Sub-scores, for each alternative graph interpretation*\</span>
<span id="cb42-40"><a href="#cb42-40" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>**Triangular Score** : using partial scoring <span class="sc">\[</span>-1/q, +1/p<span class="sc">\]</span> referencing true (Triangular) answer key.</span>
<span id="cb42-41"><a href="#cb42-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-42"><a href="#cb42-42" aria-hidden="true" tabindex="-1"></a>3<span class="sc">\.</span> **Orthogonal Score** : using partial scoring <span class="sc">\[</span>-1/q, +1/p<span class="sc">\]</span> referencing (incorrect Orthogonal) answer key.</span>
<span id="cb42-43"><a href="#cb42-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-44"><a href="#cb42-44" aria-hidden="true" tabindex="-1"></a>4<span class="sc">\.</span> **Tversky Score** : using partial scoring \[-1/q, +1/p\] referencing (incorrect connecting-lines strategy) answer key. 5. **Satisficing Score** : using partial scoring <span class="sc">\[</span>-1/q, +1/p<span class="sc">\]</span> referencing (incorrect satisficing strategy) answer key.</span>
<span id="cb42-45"><a href="#cb42-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-46"><a href="#cb42-46" aria-hidden="true" tabindex="-1"></a><span class="fu">### Prepare Answer Keys</span></span>
<span id="cb42-47"><a href="#cb42-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-48"><a href="#cb42-48" aria-hidden="true" tabindex="-1"></a>We start by importing answer keys.</span>
<span id="cb42-49"><a href="#cb42-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-52"><a href="#cb42-52" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-53"><a href="#cb42-53" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: IMPORT-KEYS</span></span>
<span id="cb42-54"><a href="#cb42-54" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb42-55"><a href="#cb42-55" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb42-56"><a href="#cb42-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-57"><a href="#cb42-57" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">HACK</span><span class="co"> WD FOR LOCAL RUNNING?</span></span>
<span id="cb42-58"><a href="#cb42-58" aria-hidden="true" tabindex="-1"></a><span class="co"># imac = "/Users/amyraefox/Code/SGC-Scaffolding_Graph_Comprehension/SGC-X/ANALYSIS/MAIN"</span></span>
<span id="cb42-59"><a href="#cb42-59" aria-hidden="true" tabindex="-1"></a><span class="co"># mbp = "/Users/amyfox/Sites/RESEARCH/SGC-Scaffolding_Graph_Comprehension/SGC-X/ANALYSIS/MAIN"</span></span>
<span id="cb42-60"><a href="#cb42-60" aria-hidden="true" tabindex="-1"></a><span class="co"># setwd(mbp)</span></span>
<span id="cb42-61"><a href="#cb42-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-62"><a href="#cb42-62" aria-hidden="true" tabindex="-1"></a><span class="co">#SAVE KEYS FOR FUTURE USE</span></span>
<span id="cb42-63"><a href="#cb42-63" aria-hidden="true" tabindex="-1"></a>keys_raw <span class="ot">&lt;-</span>  <span class="fu">read_csv</span>(<span class="st">"analysis/utils/keys/parsed_keys/keys_raw"</span>)</span>
<span id="cb42-64"><a href="#cb42-64" aria-hidden="true" tabindex="-1"></a>keys_orth <span class="ot">&lt;-</span>  <span class="fu">read_csv</span>(<span class="st">"analysis/utils/keys/parsed_keys/keys_orth"</span>)</span>
<span id="cb42-65"><a href="#cb42-65" aria-hidden="true" tabindex="-1"></a>keys_tri <span class="ot">&lt;-</span>  <span class="fu">read_csv</span>(<span class="st">"analysis/utils/keys/parsed_keys/keys_tri"</span>)</span>
<span id="cb42-66"><a href="#cb42-66" aria-hidden="true" tabindex="-1"></a>keys_satisfice_left <span class="ot">&lt;-</span>  <span class="fu">read_csv</span>(<span class="st">"analysis/utils/keys/parsed_keys/keys_satisfice_left"</span>)</span>
<span id="cb42-67"><a href="#cb42-67" aria-hidden="true" tabindex="-1"></a>keys_satisfice_right <span class="ot">&lt;-</span>  <span class="fu">read_csv</span>(<span class="st">"analysis/utils/keys/parsed_keys/keys_satisfice_right"</span>)</span>
<span id="cb42-68"><a href="#cb42-68" aria-hidden="true" tabindex="-1"></a>keys_tversky_duration <span class="ot">&lt;-</span>  <span class="fu">read_csv</span>(<span class="st">"analysis/utils/keys/parsed_keys/keys_tversky_duration"</span>)</span>
<span id="cb42-69"><a href="#cb42-69" aria-hidden="true" tabindex="-1"></a>keys_tversky_end <span class="ot">&lt;-</span>  <span class="fu">read_csv</span>(<span class="st">"analysis/utils/keys/parsed_keys/keys_tversky_end"</span>)</span>
<span id="cb42-70"><a href="#cb42-70" aria-hidden="true" tabindex="-1"></a>keys_tversky_max <span class="ot">&lt;-</span>  <span class="fu">read_csv</span>(<span class="st">"analysis/utils/keys/parsed_keys/keys_tversky_max"</span>)</span>
<span id="cb42-71"><a href="#cb42-71" aria-hidden="true" tabindex="-1"></a>keys_tversky_start <span class="ot">&lt;-</span>  <span class="fu">read_csv</span>(<span class="st">"analysis/utils/keys/parsed_keys/keys_tversky_start"</span>)</span>
<span id="cb42-72"><a href="#cb42-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-73"><a href="#cb42-73" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-74"><a href="#cb42-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-75"><a href="#cb42-75" aria-hidden="true" tabindex="-1"></a><span class="fu">### Score Items</span></span>
<span id="cb42-76"><a href="#cb42-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-77"><a href="#cb42-77" aria-hidden="true" tabindex="-1"></a>Next, we import the item-level response data. For each row in the item level dataset (indicating the response to a single question-item for a single subject), we compare the raw response <span class="in">`df_items$response`</span> with the answer keys in each interpretation (e.g. <span class="in">`keys_orth`</span>, <span class="in">`keys_tri`</span>, etc...), then using those sets, determine the number of correctly selected items(p) and incorrectly selected items (q), which in turn are used to calculate partial<span class="sc">\[</span>-1/q, +1/p<span class="sc">\]</span> scores for each interpretation. The resulting scores are then stored on each item in <span class="in">`df_items`</span>, and can be used to determine which graph interpretation the subject held.</span>
<span id="cb42-78"><a href="#cb42-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-79"><a href="#cb42-79" aria-hidden="true" tabindex="-1"></a>Specifically, the following scores are calculated for each item:</span>
<span id="cb42-80"><a href="#cb42-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-81"><a href="#cb42-81" aria-hidden="true" tabindex="-1"></a>**Interpretation Subscores**</span>
<span id="cb42-82"><a href="#cb42-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-83"><a href="#cb42-83" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="in">`score_TRI`</span> How consistent is the response with the **triangular**interpretation?</span>
<span id="cb42-84"><a href="#cb42-84" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="in">`score_ORTH`</span> How consistent is the response with the **orthogonal**interpretation?</span>
<span id="cb42-85"><a href="#cb42-85" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="in">`score_SATISFICE`</span> is calculated by taking the maximum value of :</span>
<span id="cb42-86"><a href="#cb42-86" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span><span class="in">`score_SAT_left`</span> How consistent is the response with the **(left side) Satisficing** interpretation?</span>
<span id="cb42-87"><a href="#cb42-87" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span><span class="in">`score_SAT_right`</span> How consistent is the response with the **(right side) Satisficing** interpretation</span>
<span id="cb42-88"><a href="#cb42-88" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="in">`score_TVERSKY`</span> is calculated by taking the maximum value of:</span>
<span id="cb42-89"><a href="#cb42-89" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span><span class="in">`score_TV_max`</span> How consistent is the response with the **(maximal) Tversky** interpretation?</span>
<span id="cb42-90"><a href="#cb42-90" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span><span class="in">`score_TV_start`</span> How consistent is the response with the **(start-time) Tversky** interpretation?</span>
<span id="cb42-91"><a href="#cb42-91" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span><span class="in">`score_TV_end`</span> How consistent is the response with the **(end-time) Tversky** interpretation?</span>
<span id="cb42-92"><a href="#cb42-92" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span><span class="in">`score_TV_duration`</span> How consistent is the response with the **(duration) Tversky** interpretation?</span>
<span id="cb42-93"><a href="#cb42-93" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="in">`score_REF`</span> Did the response select only the **reference point**?</span>
<span id="cb42-94"><a href="#cb42-94" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="in">`score_BOTH`</span> How consistent is the response with **both** the orthogonal and triangular interpretations?</span>
<span id="cb42-95"><a href="#cb42-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-96"><a href="#cb42-96" aria-hidden="true" tabindex="-1"></a>**Absolute Scores**</span>
<span id="cb42-97"><a href="#cb42-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-98"><a href="#cb42-98" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="in">`score_ABS`</span> Is the response strictly correct? (triangular interpretation)</span>
<span id="cb42-99"><a href="#cb42-99" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="in">`score_niceABS`</span> Is the response strictly correct? (triangular interpretation, not penalizing ref points). This is a more generous version of the Absolute score that does not penalize the participant if in addition to the correct answer *in addition to* they also select the data point referenced in the question.</span>
<span id="cb42-100"><a href="#cb42-100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-103"><a href="#cb42-103" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-104"><a href="#cb42-104" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: IMPORT-ITEMS</span></span>
<span id="cb42-105"><a href="#cb42-105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-106"><a href="#cb42-106" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">HACK</span><span class="co"> WD FOR LOCAL RUNNING?</span></span>
<span id="cb42-107"><a href="#cb42-107" aria-hidden="true" tabindex="-1"></a><span class="co"># imac = "/Users/amyraefox/Code/SGC-Scaffolding_Graph_Comprehension/SGC-X/ANALYSIS/MAIN"</span></span>
<span id="cb42-108"><a href="#cb42-108" aria-hidden="true" tabindex="-1"></a><span class="co"># mbp = "/Users/amyfox/Sites/RESEARCH/SGC-Scaffolding_Graph_Comprehension/SGC-X/ANALYSIS/MAIN"</span></span>
<span id="cb42-109"><a href="#cb42-109" aria-hidden="true" tabindex="-1"></a><span class="co"># setwd(imac)</span></span>
<span id="cb42-110"><a href="#cb42-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-111"><a href="#cb42-111" aria-hidden="true" tabindex="-1"></a><span class="co">#backup &lt;- read_rds('analysis/SGC4A/data/1-study-level/sgc4a_items.rds') #for troubleshooting only</span></span>
<span id="cb42-112"><a href="#cb42-112" aria-hidden="true" tabindex="-1"></a>df_items <span class="ot">&lt;-</span> <span class="fu">read_rds</span>(<span class="st">'analysis/SGC4A/data/1-study-level/sgc4a_items.rds'</span>)</span>
<span id="cb42-113"><a href="#cb42-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-114"><a href="#cb42-114" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-115"><a href="#cb42-115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-118"><a href="#cb42-118" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-119"><a href="#cb42-119" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: IMPORT-SCORING-FUNCTIONS</span></span>
<span id="cb42-120"><a href="#cb42-120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-121"><a href="#cb42-121" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">HACK</span><span class="co"> WD FOR LOCAL RUNNING?</span></span>
<span id="cb42-122"><a href="#cb42-122" aria-hidden="true" tabindex="-1"></a><span class="co"># imac = "/Users/amyraefox/Code/SGC-Scaffolding_Graph_Comprehension/SGC-X/ANALYSIS/MAIN"</span></span>
<span id="cb42-123"><a href="#cb42-123" aria-hidden="true" tabindex="-1"></a><span class="co"># mbp = "/Users/amyfox/Sites/RESEARCH/SGC-Scaffolding_Graph_Comprehension/SGC-X/ANALYSIS/MAIN"</span></span>
<span id="cb42-124"><a href="#cb42-124" aria-hidden="true" tabindex="-1"></a><span class="co"># setwd(imac)</span></span>
<span id="cb42-125"><a href="#cb42-125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-126"><a href="#cb42-126" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"analysis/utils/scoring.R"</span>)</span>
<span id="cb42-127"><a href="#cb42-127" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-128"><a href="#cb42-128" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-129"><a href="#cb42-129" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-130"><a href="#cb42-130" aria-hidden="true" tabindex="-1"></a>*note: this cell takes approximately 30 minutes to run on the full df_items dataframe with 4950 records*</span>
<span id="cb42-131"><a href="#cb42-131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-134"><a href="#cb42-134" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-135"><a href="#cb42-135" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: CALCULATE-SCORES-MAPPLY</span></span>
<span id="cb42-136"><a href="#cb42-136" aria-hidden="true" tabindex="-1"></a><span class="co">#| cache: true</span></span>
<span id="cb42-137"><a href="#cb42-137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-138"><a href="#cb42-138" aria-hidden="true" tabindex="-1"></a><span class="co">#RUN THIS &lt;OR&gt; THE CALCULATE-SCORES-FORLOOP [not both]</span></span>
<span id="cb42-139"><a href="#cb42-139" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-140"><a href="#cb42-140" aria-hidden="true" tabindex="-1"></a><span class="co">#ALPHEBETIZE RESPONSE</span></span>
<span id="cb42-141"><a href="#cb42-141" aria-hidden="true" tabindex="-1"></a>df_items<span class="sc">$</span>response <span class="ot">=</span> <span class="fu">pbmapply</span>(reorder_inplace, df_items<span class="sc">$</span>response)</span>
<span id="cb42-142"><a href="#cb42-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-143"><a href="#cb42-143" aria-hidden="true" tabindex="-1"></a><span class="co">#STRATEGY PARTIAL-SUBSCORES</span></span>
<span id="cb42-144"><a href="#cb42-144" aria-hidden="true" tabindex="-1"></a>df_items<span class="sc">$</span>score_TRI <span class="ot">=</span> <span class="fu">pbmapply</span>(calc_subscore, df_items<span class="sc">$</span>q, df_items<span class="sc">$</span>condition, df_items<span class="sc">$</span>response, <span class="at">MoreArgs =</span> <span class="fu">list</span>(<span class="at">keyframe =</span> keys_tri))</span>
<span id="cb42-145"><a href="#cb42-145" aria-hidden="true" tabindex="-1"></a>df_items<span class="sc">$</span>score_ORTH <span class="ot">=</span> <span class="fu">pbmapply</span>(calc_subscore, df_items<span class="sc">$</span>q, df_items<span class="sc">$</span>condition, df_items<span class="sc">$</span>response, <span class="at">MoreArgs =</span> <span class="fu">list</span>(<span class="at">keyframe =</span> keys_orth))</span>
<span id="cb42-146"><a href="#cb42-146" aria-hidden="true" tabindex="-1"></a>df_items<span class="sc">$</span>score_SAT_left <span class="ot">=</span> <span class="fu">pbmapply</span>(calc_subscore, df_items<span class="sc">$</span>q, df_items<span class="sc">$</span>condition, df_items<span class="sc">$</span>response, <span class="at">MoreArgs =</span> <span class="fu">list</span>(<span class="at">keyframe =</span> keys_satisfice_left))</span>
<span id="cb42-147"><a href="#cb42-147" aria-hidden="true" tabindex="-1"></a>df_items<span class="sc">$</span>score_SAT_right <span class="ot">=</span> <span class="fu">pbmapply</span>(calc_subscore, df_items<span class="sc">$</span>q, df_items<span class="sc">$</span>condition, df_items<span class="sc">$</span>response, <span class="at">MoreArgs =</span> <span class="fu">list</span>(<span class="at">keyframe =</span> keys_satisfice_right))</span>
<span id="cb42-148"><a href="#cb42-148" aria-hidden="true" tabindex="-1"></a>df_items<span class="sc">$</span>score_TV_max <span class="ot">=</span> <span class="fu">pbmapply</span>(calc_subscore, df_items<span class="sc">$</span>q, df_items<span class="sc">$</span>condition, df_items<span class="sc">$</span>response, <span class="at">MoreArgs =</span> <span class="fu">list</span>(<span class="at">keyframe =</span> keys_tversky_max))</span>
<span id="cb42-149"><a href="#cb42-149" aria-hidden="true" tabindex="-1"></a>df_items<span class="sc">$</span>score_TV_start <span class="ot">=</span> <span class="fu">pbmapply</span>(calc_subscore, df_items<span class="sc">$</span>q, df_items<span class="sc">$</span>condition, df_items<span class="sc">$</span>response, <span class="at">MoreArgs =</span> <span class="fu">list</span>(<span class="at">keyframe =</span> keys_tversky_start))</span>
<span id="cb42-150"><a href="#cb42-150" aria-hidden="true" tabindex="-1"></a>df_items<span class="sc">$</span>score_TV_end <span class="ot">=</span> <span class="fu">pbmapply</span>(calc_subscore, df_items<span class="sc">$</span>q, df_items<span class="sc">$</span>condition, df_items<span class="sc">$</span>response, <span class="at">MoreArgs =</span> <span class="fu">list</span>(<span class="at">keyframe =</span> keys_tversky_end))</span>
<span id="cb42-151"><a href="#cb42-151" aria-hidden="true" tabindex="-1"></a>df_items<span class="sc">$</span>score_TV_duration <span class="ot">=</span> <span class="fu">pbmapply</span>(calc_subscore, df_items<span class="sc">$</span>q, df_items<span class="sc">$</span>condition, df_items<span class="sc">$</span>response, <span class="at">MoreArgs =</span> <span class="fu">list</span>(<span class="at">keyframe =</span> keys_tversky_duration))</span>
<span id="cb42-152"><a href="#cb42-152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-153"><a href="#cb42-153" aria-hidden="true" tabindex="-1"></a><span class="co">#SPECIAL ABSOLUTE SUBSCORES</span></span>
<span id="cb42-154"><a href="#cb42-154" aria-hidden="true" tabindex="-1"></a>df_items<span class="sc">$</span>score_REF <span class="ot">=</span> <span class="fu">pbmapply</span>(calc_refscore, df_items<span class="sc">$</span>q, df_items<span class="sc">$</span>response)</span>
<span id="cb42-155"><a href="#cb42-155" aria-hidden="true" tabindex="-1"></a>df_items<span class="sc">$</span>score_BOTH <span class="ot">=</span> <span class="fu">as.integer</span>((df_items<span class="sc">$</span>score_TRI <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">&amp;</span> (df_items<span class="sc">$</span>score_ORTH <span class="sc">==</span><span class="dv">1</span>))</span>
<span id="cb42-156"><a href="#cb42-156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-157"><a href="#cb42-157" aria-hidden="true" tabindex="-1"></a><span class="co">#ABSOLUTE SCORES</span></span>
<span id="cb42-158"><a href="#cb42-158" aria-hidden="true" tabindex="-1"></a>df_items<span class="sc">$</span>score_ABS <span class="ot">=</span> <span class="fu">as.integer</span>(df_items<span class="sc">$</span>correct) </span>
<span id="cb42-159"><a href="#cb42-159" aria-hidden="true" tabindex="-1"></a>df_items<span class="sc">$</span>score_niceABS  <span class="ot">&lt;-</span> <span class="fu">as.integer</span>((df_items<span class="sc">$</span>score_TRI <span class="sc">==</span> <span class="dv">1</span>)) <span class="co">#tri doesn't penalize ref or ve-area</span></span>
<span id="cb42-160"><a href="#cb42-160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-161"><a href="#cb42-161" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-162"><a href="#cb42-162" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-163"><a href="#cb42-163" aria-hidden="true" tabindex="-1"></a><span class="fu">### Derive Interpretation {#sec-SGC4A-interpretation}</span></span>
<span id="cb42-164"><a href="#cb42-164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-165"><a href="#cb42-165" aria-hidden="true" tabindex="-1"></a>Finally, we use the interpretation subscores to classify the response as a particular interpretation (or "?" if the response cannot be classified). <span class="co">[</span><span class="ot">For details, see @sec-SGC3A-interpretation </span><span class="co">]</span></span>
<span id="cb42-166"><a href="#cb42-166" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-169"><a href="#cb42-169" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-170"><a href="#cb42-170" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: DERIVE-INTERPRETATION</span></span>
<span id="cb42-171"><a href="#cb42-171" aria-hidden="true" tabindex="-1"></a><span class="co">#| cache: true</span></span>
<span id="cb42-172"><a href="#cb42-172" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-173"><a href="#cb42-173" aria-hidden="true" tabindex="-1"></a>threshold_range <span class="ot">=</span> <span class="fl">0.5</span> <span class="co">#set required variance in subscores to be discriminant</span></span>
<span id="cb42-174"><a href="#cb42-174" aria-hidden="true" tabindex="-1"></a>threshold_frenzy <span class="ot">=</span> <span class="dv">4</span></span>
<span id="cb42-175"><a href="#cb42-175" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-176"><a href="#cb42-176" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="dv">1</span></span>
<span id="cb42-177"><a href="#cb42-177" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-178"><a href="#cb42-178" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (x <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(df_items)) {</span>
<span id="cb42-179"><a href="#cb42-179" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb42-180"><a href="#cb42-180" aria-hidden="true" tabindex="-1"></a>  <span class="co">#CALCULATE MAX TVERSKY SUBSCORE</span></span>
<span id="cb42-181"><a href="#cb42-181" aria-hidden="true" tabindex="-1"></a>  t <span class="ot">=</span> df_items[x,] <span class="sc">%&gt;%</span> <span class="fu">select</span>(score_TV_max, score_TV_start, score_TV_end, score_TV_duration) <span class="co">#reshape</span></span>
<span id="cb42-182"><a href="#cb42-182" aria-hidden="true" tabindex="-1"></a>  t.long <span class="ot">=</span> <span class="fu">gather</span>(t,score, value, <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>)</span>
<span id="cb42-183"><a href="#cb42-183" aria-hidden="true" tabindex="-1"></a>  t.long[t.long <span class="sc">==</span> <span class="st">""</span>] <span class="ot">=</span> <span class="cn">NA</span> <span class="co">#replace empty scores with NA so we can ignore them</span></span>
<span id="cb42-184"><a href="#cb42-184" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">length</span>(<span class="fu">unique</span>(t.long<span class="sc">$</span>value)) <span class="sc">==</span> <span class="dv">1</span> ){</span>
<span id="cb42-185"><a href="#cb42-185" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(<span class="fu">is.na</span>(<span class="fu">unique</span>(t.long<span class="sc">$</span>value))){</span>
<span id="cb42-186"><a href="#cb42-186" aria-hidden="true" tabindex="-1"></a>      df_items[x,<span class="st">'score_TVERSKY'</span>] <span class="ot">=</span> <span class="cn">NA</span></span>
<span id="cb42-187"><a href="#cb42-187" aria-hidden="true" tabindex="-1"></a>      df_items[x,<span class="st">'tv_type'</span>] <span class="ot">=</span> <span class="cn">NA</span>   </span>
<span id="cb42-188"><a href="#cb42-188" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb42-189"><a href="#cb42-189" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb42-190"><a href="#cb42-190" aria-hidden="true" tabindex="-1"></a>    df_items[x,<span class="st">'score_TVERSKY'</span>] <span class="ot">=</span> <span class="fu">as.numeric</span>(<span class="fu">max</span>(t.long<span class="sc">$</span>value,<span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb42-191"><a href="#cb42-191" aria-hidden="true" tabindex="-1"></a>    df_items[x,<span class="st">'tv_type'</span>] <span class="ot">=</span> t.long[<span class="fu">which.max</span>(t.long<span class="sc">$</span>value),<span class="st">'score'</span>]</span>
<span id="cb42-192"><a href="#cb42-192" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb42-193"><a href="#cb42-193" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb42-194"><a href="#cb42-194" aria-hidden="true" tabindex="-1"></a>  <span class="co">#CALCULATE MAX SATISFICING SUBSCORE</span></span>
<span id="cb42-195"><a href="#cb42-195" aria-hidden="true" tabindex="-1"></a>  t <span class="ot">=</span> df_items[x,] <span class="sc">%&gt;%</span> <span class="fu">select</span>(score_SAT_left, score_SAT_right)</span>
<span id="cb42-196"><a href="#cb42-196" aria-hidden="true" tabindex="-1"></a>  t.long <span class="ot">=</span> <span class="fu">gather</span>(t,score, value, <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>)</span>
<span id="cb42-197"><a href="#cb42-197" aria-hidden="true" tabindex="-1"></a>  t.long[t.long <span class="sc">==</span> <span class="st">""</span>] <span class="ot">=</span> <span class="cn">NA</span> <span class="co">#replace empty scores</span></span>
<span id="cb42-198"><a href="#cb42-198" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">length</span>(<span class="fu">unique</span>(t.long<span class="sc">$</span>value)) <span class="sc">==</span> <span class="dv">1</span> ){</span>
<span id="cb42-199"><a href="#cb42-199" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(<span class="fu">is.na</span>(<span class="fu">unique</span>(t.long<span class="sc">$</span>value))){</span>
<span id="cb42-200"><a href="#cb42-200" aria-hidden="true" tabindex="-1"></a>      df_items[x,<span class="st">'score_SATISFICE'</span>] <span class="ot">=</span> <span class="cn">NA</span></span>
<span id="cb42-201"><a href="#cb42-201" aria-hidden="true" tabindex="-1"></a>      df_items[x,<span class="st">'sat_type'</span>] <span class="ot">=</span> <span class="cn">NA</span>   </span>
<span id="cb42-202"><a href="#cb42-202" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb42-203"><a href="#cb42-203" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb42-204"><a href="#cb42-204" aria-hidden="true" tabindex="-1"></a>    df_items[x,<span class="st">'score_SATISFICE'</span>] <span class="ot">=</span> <span class="fu">as.numeric</span>(<span class="fu">max</span>(t.long<span class="sc">$</span>value,<span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb42-205"><a href="#cb42-205" aria-hidden="true" tabindex="-1"></a>    df_items[x,<span class="st">'sat_type'</span>] <span class="ot">=</span> t.long[<span class="fu">which.max</span>(t.long<span class="sc">$</span>value),<span class="st">'score'</span>]  </span>
<span id="cb42-206"><a href="#cb42-206" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb42-207"><a href="#cb42-207" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb42-208"><a href="#cb42-208" aria-hidden="true" tabindex="-1"></a>  <span class="co">#NOW CALCULATE RANGE AMONG SUBSCORES</span></span>
<span id="cb42-209"><a href="#cb42-209" aria-hidden="true" tabindex="-1"></a>  <span class="co">#order of this selection matters in breaking ties! </span></span>
<span id="cb42-210"><a href="#cb42-210" aria-hidden="true" tabindex="-1"></a>  t <span class="ot">=</span> df_items[x,] <span class="sc">%&gt;%</span> <span class="fu">select</span>(score_TRI, score_TVERSKY, score_SATISFICE, score_ORTH)</span>
<span id="cb42-211"><a href="#cb42-211" aria-hidden="true" tabindex="-1"></a>  t.long <span class="ot">=</span> <span class="fu">gather</span>(t,score, value, <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>)</span>
<span id="cb42-212"><a href="#cb42-212" aria-hidden="true" tabindex="-1"></a>  t.long[t.long <span class="sc">==</span> <span class="st">""</span>] <span class="ot">=</span> <span class="cn">NA</span></span>
<span id="cb42-213"><a href="#cb42-213" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb42-214"><a href="#cb42-214" aria-hidden="true" tabindex="-1"></a>  df_items[x,<span class="st">'top_score'</span>] <span class="ot">=</span> <span class="fu">as.numeric</span>(<span class="fu">max</span>(t.long<span class="sc">$</span>value,<span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb42-215"><a href="#cb42-215" aria-hidden="true" tabindex="-1"></a>  df_items[x,<span class="st">'top_type'</span>] <span class="ot">=</span> t.long[<span class="fu">which.max</span>(t.long<span class="sc">$</span>value),<span class="st">'score'</span>]</span>
<span id="cb42-216"><a href="#cb42-216" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb42-217"><a href="#cb42-217" aria-hidden="true" tabindex="-1"></a>  <span class="co">#calculate the range between highest and lowest scores </span></span>
<span id="cb42-218"><a href="#cb42-218" aria-hidden="true" tabindex="-1"></a>  r <span class="ot">=</span> <span class="fu">as.numeric</span>(<span class="fu">range</span>(t.long<span class="sc">$</span>value,<span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb42-219"><a href="#cb42-219" aria-hidden="true" tabindex="-1"></a>  r <span class="ot">=</span> <span class="fu">diff</span>(r)</span>
<span id="cb42-220"><a href="#cb42-220" aria-hidden="true" tabindex="-1"></a>  df_items[x,<span class="st">'range'</span>] <span class="ot">=</span> r</span>
<span id="cb42-221"><a href="#cb42-221" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb42-222"><a href="#cb42-222" aria-hidden="true" tabindex="-1"></a>  <span class="co">#DISCRIMINANT BETWEEN SUBSCORES TO PREDICT BEST FIT INTERPRETATION</span></span>
<span id="cb42-223"><a href="#cb42-223" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb42-224"><a href="#cb42-224" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (r <span class="sc">&lt;</span> threshold_range) {</span>
<span id="cb42-225"><a href="#cb42-225" aria-hidden="true" tabindex="-1"></a>      <span class="co">#then we can't predict the interpretation, leave it as "?"</span></span>
<span id="cb42-226"><a href="#cb42-226" aria-hidden="true" tabindex="-1"></a>    df_items[x,<span class="st">'best'</span>] <span class="ot">=</span> <span class="st">"?"</span></span>
<span id="cb42-227"><a href="#cb42-227" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb42-228"><a href="#cb42-228" aria-hidden="true" tabindex="-1"></a>      p <span class="ot">=</span>  df_items[x,<span class="st">'top_type'</span>]</span>
<span id="cb42-229"><a href="#cb42-229" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (p <span class="sc">==</span> <span class="st">"score_TRI"</span>) {df_items[x,<span class="st">'best'</span>] <span class="ot">=</span> <span class="st">"Triangular"</span></span>
<span id="cb42-230"><a href="#cb42-230" aria-hidden="true" tabindex="-1"></a>      } <span class="cf">else</span> <span class="cf">if</span>(p <span class="sc">==</span> <span class="st">"score_ORTH"</span>) {df_items[x,<span class="st">'best'</span>] <span class="ot">=</span> <span class="st">"Orthogonal"</span></span>
<span id="cb42-231"><a href="#cb42-231" aria-hidden="true" tabindex="-1"></a>      } <span class="cf">else</span> <span class="cf">if</span>(p <span class="sc">==</span> <span class="st">"score_TVERSKY"</span>) {df_items[x,<span class="st">'best'</span>] <span class="ot">=</span> <span class="st">"Tversky"</span></span>
<span id="cb42-232"><a href="#cb42-232" aria-hidden="true" tabindex="-1"></a>      } <span class="cf">else</span> <span class="cf">if</span>(p <span class="sc">==</span> <span class="st">"score_SATISFICE"</span>) {df_items[x,<span class="st">'best'</span>] <span class="ot">=</span> <span class="st">"Satisfice"</span>}</span>
<span id="cb42-233"><a href="#cb42-233" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb42-234"><a href="#cb42-234" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb42-235"><a href="#cb42-235" aria-hidden="true" tabindex="-1"></a>  <span class="co">#CHECK SPECIAL SITUATIONS</span></span>
<span id="cb42-236"><a href="#cb42-236" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-237"><a href="#cb42-237" aria-hidden="true" tabindex="-1"></a>  <span class="co">#BOTH TRI AND ORTH?  </span></span>
<span id="cb42-238"><a href="#cb42-238" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.na</span>(df_items[x,<span class="st">'score_BOTH'</span>])) { <span class="co">#only check if both is not null</span></span>
<span id="cb42-239"><a href="#cb42-239" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span>( df_items[x,<span class="st">'score_BOTH'</span>] <span class="sc">==</span> <span class="dv">1</span>) {</span>
<span id="cb42-240"><a href="#cb42-240" aria-hidden="true" tabindex="-1"></a>        df_items[x,<span class="st">'best'</span>] <span class="ot">=</span> <span class="st">"both tri + orth"</span>}</span>
<span id="cb42-241"><a href="#cb42-241" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb42-242"><a href="#cb42-242" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb42-243"><a href="#cb42-243" aria-hidden="true" tabindex="-1"></a>  <span class="co">#IS BLANK?</span></span>
<span id="cb42-244"><a href="#cb42-244" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>( df_items[x,<span class="st">'num_o'</span>] <span class="sc">==</span> <span class="dv">0</span>) {  </span>
<span id="cb42-245"><a href="#cb42-245" aria-hidden="true" tabindex="-1"></a>    df_items[x,<span class="st">'best'</span>] <span class="ot">=</span> <span class="st">"blank"</span></span>
<span id="cb42-246"><a href="#cb42-246" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb42-247"><a href="#cb42-247" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb42-248"><a href="#cb42-248" aria-hidden="true" tabindex="-1"></a>  <span class="co">#IS FRENZY?</span></span>
<span id="cb42-249"><a href="#cb42-249" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>( df_items[x,<span class="st">'num_o'</span>] <span class="sc">&gt;</span> threshold_frenzy) { </span>
<span id="cb42-250"><a href="#cb42-250" aria-hidden="true" tabindex="-1"></a>      df_items[x,<span class="st">'best'</span>] <span class="ot">=</span> <span class="st">"frenzy"</span></span>
<span id="cb42-251"><a href="#cb42-251" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb42-252"><a href="#cb42-252" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-253"><a href="#cb42-253" aria-hidden="true" tabindex="-1"></a>  <span class="co">#IS REF POINT?</span></span>
<span id="cb42-254"><a href="#cb42-254" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.na</span>(df_items[x,<span class="st">'score_REF'</span>])) { <span class="co">#only check if the score is NOT null</span></span>
<span id="cb42-255"><a href="#cb42-255" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span>( df_items[x,<span class="st">'score_REF'</span>] <span class="sc">==</span> <span class="dv">1</span>) {</span>
<span id="cb42-256"><a href="#cb42-256" aria-hidden="true" tabindex="-1"></a>          df_items[x,<span class="st">'best'</span>] <span class="ot">=</span> <span class="st">"reference"</span></span>
<span id="cb42-257"><a href="#cb42-257" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb42-258"><a href="#cb42-258" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb42-259"><a href="#cb42-259" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-260"><a href="#cb42-260" aria-hidden="true" tabindex="-1"></a>}<span class="co">#end loop</span></span>
<span id="cb42-261"><a href="#cb42-261" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-262"><a href="#cb42-262" aria-hidden="true" tabindex="-1"></a><span class="co">#cleanup </span></span>
<span id="cb42-263"><a href="#cb42-263" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(t, t.long, x, r,p)</span>
<span id="cb42-264"><a href="#cb42-264" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(threshold_frenzy, threshold_range)</span>
<span id="cb42-265"><a href="#cb42-265" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-266"><a href="#cb42-266" aria-hidden="true" tabindex="-1"></a><span class="co">#set order of levels for response exploration table</span></span>
<span id="cb42-267"><a href="#cb42-267" aria-hidden="true" tabindex="-1"></a>df_items<span class="sc">$</span>int2 <span class="ot">&lt;-</span> <span class="fu">factor</span>(df_items<span class="sc">$</span>best,</span>
<span id="cb42-268"><a href="#cb42-268" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Triangular"</span>, <span class="st">"Tversky"</span>,</span>
<span id="cb42-269"><a href="#cb42-269" aria-hidden="true" tabindex="-1"></a>                                             <span class="st">"Satisfice"</span>, <span class="st">"Orthogonal"</span>, <span class="st">"reference"</span>, <span class="st">"both tri + orth"</span>, <span class="st">"blank"</span>,<span class="st">"frenzy"</span>,<span class="st">"?"</span>))</span>
<span id="cb42-270"><a href="#cb42-270" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-271"><a href="#cb42-271" aria-hidden="true" tabindex="-1"></a><span class="co">#set order of levels</span></span>
<span id="cb42-272"><a href="#cb42-272" aria-hidden="true" tabindex="-1"></a>df_items<span class="sc">$</span>interpretation <span class="ot">&lt;-</span> <span class="fu">factor</span>(df_items<span class="sc">$</span>best,</span>
<span id="cb42-273"><a href="#cb42-273" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Orthogonal"</span>,<span class="st">"Satisfice"</span>, <span class="st">"frenzy"</span>,<span class="st">"?"</span>,<span class="st">"reference"</span>,<span class="st">"blank"</span>,</span>
<span id="cb42-274"><a href="#cb42-274" aria-hidden="true" tabindex="-1"></a>                                               <span class="st">"both tri + orth"</span>, <span class="st">"Tversky"</span>,<span class="st">"Triangular"</span>))</span>
<span id="cb42-275"><a href="#cb42-275" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-276"><a href="#cb42-276" aria-hidden="true" tabindex="-1"></a><span class="co">#collapsed representation of scale of interpretations</span></span>
<span id="cb42-277"><a href="#cb42-277" aria-hidden="true" tabindex="-1"></a>df_items<span class="sc">$</span>high_interpretation <span class="ot">&lt;-</span> <span class="fu">fct_collapse</span>(df_items<span class="sc">$</span>interpretation,</span>
<span id="cb42-278"><a href="#cb42-278" aria-hidden="true" tabindex="-1"></a>  <span class="at">orthogonal =</span> <span class="fu">c</span>(<span class="st">"Satisfice"</span>, <span class="st">"Orthogonal"</span>),</span>
<span id="cb42-279"><a href="#cb42-279" aria-hidden="true" tabindex="-1"></a>  <span class="at">neg.trans =</span> <span class="fu">c</span>(<span class="st">"frenzy"</span>,<span class="st">"?"</span>),</span>
<span id="cb42-280"><a href="#cb42-280" aria-hidden="true" tabindex="-1"></a>  <span class="at">neutral =</span> <span class="fu">c</span>(<span class="st">"reference"</span>,<span class="st">"blank"</span>),</span>
<span id="cb42-281"><a href="#cb42-281" aria-hidden="true" tabindex="-1"></a>  <span class="at">pos.trans =</span> <span class="fu">c</span>(<span class="st">"Tversky"</span>,<span class="st">"both tri + orth"</span>),</span>
<span id="cb42-282"><a href="#cb42-282" aria-hidden="true" tabindex="-1"></a>  <span class="at">triangular =</span> <span class="st">"Triangular"</span></span>
<span id="cb42-283"><a href="#cb42-283" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb42-284"><a href="#cb42-284" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-285"><a href="#cb42-285" aria-hidden="true" tabindex="-1"></a><span class="co">#reorder levels</span></span>
<span id="cb42-286"><a href="#cb42-286" aria-hidden="true" tabindex="-1"></a>df_items<span class="sc">$</span>high_interpretation <span class="ot">=</span> <span class="fu">factor</span>(df_items<span class="sc">$</span>high_interpretation, <span class="at">levels=</span> <span class="fu">c</span>(<span class="st">"orthogonal"</span>, <span class="st">"neg.trans"</span>,<span class="st">"neutral"</span>,<span class="st">"pos.trans"</span>,<span class="st">"triangular"</span>))</span>
<span id="cb42-287"><a href="#cb42-287" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-288"><a href="#cb42-288" aria-hidden="true" tabindex="-1"></a><span class="co">#cleanup </span></span>
<span id="cb42-289"><a href="#cb42-289" aria-hidden="true" tabindex="-1"></a>df_items <span class="ot">&lt;-</span> df_items <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>best)</span>
<span id="cb42-290"><a href="#cb42-290" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-291"><a href="#cb42-291" aria-hidden="true" tabindex="-1"></a><span class="co">#recode as numeric inase they are char </span></span>
<span id="cb42-292"><a href="#cb42-292" aria-hidden="true" tabindex="-1"></a><span class="co"># df_items$score_TV_duration &lt;- df_items$score_TV_duration %&gt;% as.numeric()</span></span>
<span id="cb42-293"><a href="#cb42-293" aria-hidden="true" tabindex="-1"></a><span class="co"># df_items$score_SATISFICE &lt;- df_items$score_SATISFICE %&gt;% as.numeric()</span></span>
<span id="cb42-294"><a href="#cb42-294" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-295"><a href="#cb42-295" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-296"><a href="#cb42-296" aria-hidden="true" tabindex="-1"></a><span class="fu">### Derive Scaled Score {#sec-SGC4A-scaledScore}</span></span>
<span id="cb42-297"><a href="#cb42-297" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-298"><a href="#cb42-298" aria-hidden="true" tabindex="-1"></a>The <span class="in">`interpretation`</span> response variable gives us the finest grain indication of the reader's understanding of the graph for a particular question. However, it is a categorical variable, which poses a challenge for analyzing cumulative performance at the subject level. To address this challenge, we derive a *scaled_score* that converts each possible interpretation to a numeric value on a scale from -1 to +1. This scaling takes advantage of the observation that each interpretation can be positioned along a spectrum of understanding from completely incorrect (orthogonal) to completely correct (triangular). Alternative interpretations lay somewhere between.</span>
<span id="cb42-299"><a href="#cb42-299" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-300"><a href="#cb42-300" aria-hidden="true" tabindex="-1"></a>Specifically, we assign the following values to each interpretation:</span>
<span id="cb42-301"><a href="#cb42-301" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-302"><a href="#cb42-302" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>(-1) : ORTHOGONAL, SATISFICE (satisfice represents an attempt at an orthogonal answer when none is available)</span>
<span id="cb42-303"><a href="#cb42-303" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>(-0.5): ? (some alternative that cannot be identified; but meaningful that it is not orthogonal)</span>
<span id="cb42-304"><a href="#cb42-304" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>(0): REFERENCE POINT, BLANK (indicates the individual thinks there is no answer, recognizes that ORTHOGONAL cannot be correct, but does not conceive of triangular)</span>
<span id="cb42-305"><a href="#cb42-305" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>(+0.5) TVERSKY, BOTH TRI + ORTH (indicates that they "see" a triangular response, but lack certainty and also select the ORTHOGONAL response)</span>
<span id="cb42-306"><a href="#cb42-306" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>(+1) TRIANGULAR +1</span>
<span id="cb42-307"><a href="#cb42-307" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-310"><a href="#cb42-310" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-311"><a href="#cb42-311" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: DISCRIMINANT-SCORE</span></span>
<span id="cb42-312"><a href="#cb42-312" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-313"><a href="#cb42-313" aria-hidden="true" tabindex="-1"></a>df_items<span class="sc">$</span>score_SCALED <span class="ot">&lt;-</span> <span class="fu">recode</span>(df_items<span class="sc">$</span>interpretation,</span>
<span id="cb42-314"><a href="#cb42-314" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"Orthogonal"</span> <span class="ot">=</span> <span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb42-315"><a href="#cb42-315" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"Satisfice"</span> <span class="ot">=</span> <span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb42-316"><a href="#cb42-316" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"frenzy"</span> <span class="ot">=</span> <span class="sc">-</span><span class="fl">0.5</span>,</span>
<span id="cb42-317"><a href="#cb42-317" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"?"</span> <span class="ot">=</span> <span class="sc">-</span><span class="fl">0.5</span>,</span>
<span id="cb42-318"><a href="#cb42-318" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"reference"</span> <span class="ot">=</span> <span class="dv">0</span>,</span>
<span id="cb42-319"><a href="#cb42-319" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"blank"</span> <span class="ot">=</span> <span class="dv">0</span>, </span>
<span id="cb42-320"><a href="#cb42-320" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"both tri + orth"</span> <span class="ot">=</span> <span class="fl">0.5</span>,</span>
<span id="cb42-321"><a href="#cb42-321" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"Tversky"</span> <span class="ot">=</span> <span class="fl">0.5</span>,</span>
<span id="cb42-322"><a href="#cb42-322" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"Triangular"</span> <span class="ot">=</span> <span class="dv">1</span>)</span>
<span id="cb42-323"><a href="#cb42-323" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-324"><a href="#cb42-324" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-325"><a href="#cb42-325" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-326"><a href="#cb42-326" aria-hidden="true" tabindex="-1"></a><span class="fu">## SUMMARIZE BY SUBJECT</span></span>
<span id="cb42-327"><a href="#cb42-327" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-328"><a href="#cb42-328" aria-hidden="true" tabindex="-1"></a>Next, we summarize the item level scores by subject in order to calculate cummulative subscores to be stored on the subject record.</span>
<span id="cb42-329"><a href="#cb42-329" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-332"><a href="#cb42-332" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-333"><a href="#cb42-333" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: SUMMARIZE-BY-SUBJECT</span></span>
<span id="cb42-334"><a href="#cb42-334" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-335"><a href="#cb42-335" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">HACK</span><span class="co"> WD FOR LOCAL RUNNING?</span></span>
<span id="cb42-336"><a href="#cb42-336" aria-hidden="true" tabindex="-1"></a><span class="co"># imac = "/Users/amyraefox/Code/SGC-Scaffolding_Graph_Comprehension/SGC-X/ANALYSIS/MAIN"</span></span>
<span id="cb42-337"><a href="#cb42-337" aria-hidden="true" tabindex="-1"></a><span class="co"># mbp = "/Users/amyfox/Sites/RESEARCH/SGC-Scaffolding_Graph_Comprehension/SGC-X/ANALYSIS/MAIN"</span></span>
<span id="cb42-338"><a href="#cb42-338" aria-hidden="true" tabindex="-1"></a><span class="co"># setwd(imac)</span></span>
<span id="cb42-339"><a href="#cb42-339" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-340"><a href="#cb42-340" aria-hidden="true" tabindex="-1"></a><span class="co">#IMPORT subjects file</span></span>
<span id="cb42-341"><a href="#cb42-341" aria-hidden="true" tabindex="-1"></a>df_subjects <span class="ot">&lt;-</span> <span class="fu">read_rds</span>(<span class="st">'analysis/SGC4A/data/1-study-level/sgc4a_participants.rds'</span>) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">subject =</span> <span class="fu">as.character</span>(subject)) <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(subject)</span>
<span id="cb42-342"><a href="#cb42-342" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-343"><a href="#cb42-343" aria-hidden="true" tabindex="-1"></a><span class="co">#prep items</span></span>
<span id="cb42-344"><a href="#cb42-344" aria-hidden="true" tabindex="-1"></a>df_items <span class="ot">&lt;-</span> df_items <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb42-345"><a href="#cb42-345" aria-hidden="true" tabindex="-1"></a>  <span class="at">tv_type =</span> <span class="fu">as.factor</span>(tv_type),</span>
<span id="cb42-346"><a href="#cb42-346" aria-hidden="true" tabindex="-1"></a>  <span class="at">top_type =</span> <span class="fu">as.factor</span>(top_type)</span>
<span id="cb42-347"><a href="#cb42-347" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb42-348"><a href="#cb42-348" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-349"><a href="#cb42-349" aria-hidden="true" tabindex="-1"></a><span class="co">#summarize SCORES and TIME by subject</span></span>
<span id="cb42-350"><a href="#cb42-350" aria-hidden="true" tabindex="-1"></a>subjects_summary <span class="ot">&lt;-</span> df_items <span class="sc">%&gt;%</span> <span class="fu">filter</span>(q <span class="sc">%nin%</span> <span class="fu">c</span>(<span class="dv">6</span>,<span class="dv">9</span>)) <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(subject) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">summarise</span> (</span>
<span id="cb42-351"><a href="#cb42-351" aria-hidden="true" tabindex="-1"></a>  <span class="at">subject =</span> <span class="fu">as.character</span>(subject),</span>
<span id="cb42-352"><a href="#cb42-352" aria-hidden="true" tabindex="-1"></a>  <span class="at">s_TRI =</span> <span class="fu">sum</span>(score_TRI,<span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb42-353"><a href="#cb42-353" aria-hidden="true" tabindex="-1"></a>  <span class="at">s_ORTH =</span> <span class="fu">sum</span>(score_ORTH,<span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb42-354"><a href="#cb42-354" aria-hidden="true" tabindex="-1"></a>  <span class="at">s_TVERSKY =</span> <span class="fu">sum</span>(score_TVERSKY,<span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb42-355"><a href="#cb42-355" aria-hidden="true" tabindex="-1"></a>  <span class="at">s_SATISFICE =</span> <span class="fu">sum</span>(score_SATISFICE, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb42-356"><a href="#cb42-356" aria-hidden="true" tabindex="-1"></a>  <span class="at">s_REF =</span> <span class="fu">sum</span>(score_REF,<span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb42-357"><a href="#cb42-357" aria-hidden="true" tabindex="-1"></a>  <span class="at">s_ABS =</span> <span class="fu">sum</span>(score_ABS,<span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb42-358"><a href="#cb42-358" aria-hidden="true" tabindex="-1"></a>  <span class="at">s_NABS =</span> <span class="fu">sum</span>(score_niceABS,<span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb42-359"><a href="#cb42-359" aria-hidden="true" tabindex="-1"></a>  <span class="at">s_SCALED =</span> <span class="fu">sum</span>(score_SCALED,<span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb42-360"><a href="#cb42-360" aria-hidden="true" tabindex="-1"></a>  <span class="at">DV_percent_NABS =</span> s_NABS<span class="sc">/</span><span class="dv">13</span>,</span>
<span id="cb42-361"><a href="#cb42-361" aria-hidden="true" tabindex="-1"></a>  <span class="at">rt_m =</span> <span class="fu">sum</span>(rt_s)<span class="sc">/</span><span class="dv">60</span>,</span>
<span id="cb42-362"><a href="#cb42-362" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_avg_rt =</span> <span class="fu">mean</span>(rt_s),</span>
<span id="cb42-363"><a href="#cb42-363" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_min_rt =</span> <span class="fu">min</span>(rt_s),</span>
<span id="cb42-364"><a href="#cb42-364" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_max_rt =</span> <span class="fu">max</span>(rt_s),</span>
<span id="cb42-365"><a href="#cb42-365" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_n_TRI =</span> <span class="fu">sum</span>(interpretation <span class="sc">==</span> <span class="st">"Triangular"</span>),</span>
<span id="cb42-366"><a href="#cb42-366" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_n_ORTH =</span> <span class="fu">sum</span>(interpretation <span class="sc">==</span> <span class="st">"Orthogonal"</span>),</span>
<span id="cb42-367"><a href="#cb42-367" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_n_TV =</span> <span class="fu">sum</span>(interpretation <span class="sc">==</span> <span class="st">"Tversky"</span>),</span>
<span id="cb42-368"><a href="#cb42-368" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_n_SAT =</span> <span class="fu">sum</span>(interpretation <span class="sc">==</span> <span class="st">"Satisfice"</span>),</span>
<span id="cb42-369"><a href="#cb42-369" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_n_OTHER =</span> <span class="fu">sum</span>(interpretation <span class="sc">%nin%</span> <span class="fu">c</span>(<span class="st">"Triangular"</span>,<span class="st">"Orthogonal"</span>,<span class="st">"Tversky"</span>,<span class="st">"Satisfice"</span>)),</span>
<span id="cb42-370"><a href="#cb42-370" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_n_POS =</span> <span class="fu">sum</span>(high_interpretation <span class="sc">==</span> <span class="st">"pos.trans"</span>),</span>
<span id="cb42-371"><a href="#cb42-371" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_n_NEG =</span> <span class="fu">sum</span>(high_interpretation <span class="sc">==</span> <span class="st">"neg.trans"</span>),</span>
<span id="cb42-372"><a href="#cb42-372" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_n_NEUTRAL =</span> <span class="fu">sum</span>(high_interpretation <span class="sc">==</span> <span class="st">"neutral"</span>)</span>
<span id="cb42-373"><a href="#cb42-373" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(subject) <span class="sc">%&gt;%</span> <span class="fu">slice</span>(1L)</span>
<span id="cb42-374"><a href="#cb42-374" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-375"><a href="#cb42-375" aria-hidden="true" tabindex="-1"></a><span class="co">#summarize first scaffold item of interest by subject</span></span>
<span id="cb42-376"><a href="#cb42-376" aria-hidden="true" tabindex="-1"></a>subjects_q1 <span class="ot">&lt;-</span> df_items <span class="sc">%&gt;%</span> <span class="fu">filter</span>(q <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb42-377"><a href="#cb42-377" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_q1_NABS =</span> score_niceABS,</span>
<span id="cb42-378"><a href="#cb42-378" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_q1_SCALED =</span> score_SCALED,</span>
<span id="cb42-379"><a href="#cb42-379" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_q1_interpretation =</span> interpretation,</span>
<span id="cb42-380"><a href="#cb42-380" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_q1_rt =</span> rt_s,</span>
<span id="cb42-381"><a href="#cb42-381" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(subject, item_q1_NABS, item_q1_SCALED, item_q1_interpretation,item_q1_rt) <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(subject)</span>
<span id="cb42-382"><a href="#cb42-382" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-383"><a href="#cb42-383" aria-hidden="true" tabindex="-1"></a><span class="co">#summarize last test item of interest by subject</span></span>
<span id="cb42-384"><a href="#cb42-384" aria-hidden="true" tabindex="-1"></a>subjects_q5 <span class="ot">&lt;-</span> df_items <span class="sc">%&gt;%</span> <span class="fu">filter</span>(q <span class="sc">==</span> <span class="dv">5</span>) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb42-385"><a href="#cb42-385" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_q5_NABS =</span> score_niceABS,</span>
<span id="cb42-386"><a href="#cb42-386" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_q5_SCALED =</span> score_SCALED,</span>
<span id="cb42-387"><a href="#cb42-387" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_q5_interpretation =</span> interpretation,</span>
<span id="cb42-388"><a href="#cb42-388" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_q5_rt =</span> rt_s,</span>
<span id="cb42-389"><a href="#cb42-389" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(subject, item_q5_NABS, item_q5_SCALED, item_q5_interpretation,item_q5_rt) <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(subject)</span>
<span id="cb42-390"><a href="#cb42-390" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-391"><a href="#cb42-391" aria-hidden="true" tabindex="-1"></a><span class="co">#summarize first test item of interest by subject</span></span>
<span id="cb42-392"><a href="#cb42-392" aria-hidden="true" tabindex="-1"></a>subjects_q7 <span class="ot">&lt;-</span> df_items <span class="sc">%&gt;%</span> <span class="fu">filter</span>(q <span class="sc">==</span> <span class="dv">7</span>) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb42-393"><a href="#cb42-393" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_q7_NABS =</span> score_niceABS,</span>
<span id="cb42-394"><a href="#cb42-394" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_q7_interpretation =</span> interpretation,</span>
<span id="cb42-395"><a href="#cb42-395" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_q7_rt =</span> rt_s,</span>
<span id="cb42-396"><a href="#cb42-396" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(subject, item_q7_NABS, item_q7_interpretation,item_q7_rt) <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(subject)</span>
<span id="cb42-397"><a href="#cb42-397" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-398"><a href="#cb42-398" aria-hidden="true" tabindex="-1"></a><span class="co">#summarize last test item of interest by subject</span></span>
<span id="cb42-399"><a href="#cb42-399" aria-hidden="true" tabindex="-1"></a>subjects_q15 <span class="ot">&lt;-</span> df_items <span class="sc">%&gt;%</span> <span class="fu">filter</span>(q <span class="sc">==</span> <span class="dv">15</span>) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb42-400"><a href="#cb42-400" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_q15_NABS =</span> score_niceABS,</span>
<span id="cb42-401"><a href="#cb42-401" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_q15_interpretation =</span> interpretation,</span>
<span id="cb42-402"><a href="#cb42-402" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_q15_rt =</span> rt_s,</span>
<span id="cb42-403"><a href="#cb42-403" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(subject, item_q15_NABS, item_q15_interpretation,item_q15_rt) <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(subject)</span>
<span id="cb42-404"><a href="#cb42-404" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-405"><a href="#cb42-405" aria-hidden="true" tabindex="-1"></a><span class="co">#summarize scaffold phase performance</span></span>
<span id="cb42-406"><a href="#cb42-406" aria-hidden="true" tabindex="-1"></a>subjects_scaffold <span class="ot">&lt;-</span> df_items <span class="sc">%&gt;%</span> <span class="fu">filter</span>(q<span class="sc">&lt;</span><span class="dv">6</span>)  <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(subject) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">summarise</span> (</span>
<span id="cb42-407"><a href="#cb42-407" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_scaffold_NABS =</span> <span class="fu">sum</span>(score_niceABS),</span>
<span id="cb42-408"><a href="#cb42-408" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_scaffold_rt =</span> <span class="fu">sum</span>(rt_s)</span>
<span id="cb42-409"><a href="#cb42-409" aria-hidden="true" tabindex="-1"></a>)<span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(subject, item_scaffold_NABS, item_scaffold_rt) <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(subject)</span>
<span id="cb42-410"><a href="#cb42-410" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-411"><a href="#cb42-411" aria-hidden="true" tabindex="-1"></a><span class="co">#summarize test phase performance</span></span>
<span id="cb42-412"><a href="#cb42-412" aria-hidden="true" tabindex="-1"></a>subjects_test <span class="ot">&lt;-</span> df_items <span class="sc">%&gt;%</span> <span class="fu">filter</span>(q <span class="sc">%nin%</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">9</span>)) <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(subject) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">summarise</span> (</span>
<span id="cb42-413"><a href="#cb42-413" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_test_NABS =</span> <span class="fu">sum</span>(score_niceABS),</span>
<span id="cb42-414"><a href="#cb42-414" aria-hidden="true" tabindex="-1"></a>  <span class="at">item_test_rt =</span> <span class="fu">sum</span>(rt_s)</span>
<span id="cb42-415"><a href="#cb42-415" aria-hidden="true" tabindex="-1"></a>)<span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(subject, item_test_NABS, item_test_rt) <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(subject)</span>
<span id="cb42-416"><a href="#cb42-416" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-417"><a href="#cb42-417" aria-hidden="true" tabindex="-1"></a><span class="co">#SANITY CHECK SUBJECT ORDER BEFORE MERGE; BOTH SHOULD BE TRUE</span></span>
<span id="cb42-418"><a href="#cb42-418" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(subjects_summary<span class="sc">$</span>subject <span class="sc">==</span> df_subjects<span class="sc">$</span>subject)</span>
<span id="cb42-419"><a href="#cb42-419" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(subjects_summary<span class="sc">$</span>subject <span class="sc">==</span> subjects_q1<span class="sc">$</span>subject)</span>
<span id="cb42-420"><a href="#cb42-420" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(subjects_summary<span class="sc">$</span>subject <span class="sc">==</span> subjects_q5<span class="sc">$</span>subject)</span>
<span id="cb42-421"><a href="#cb42-421" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(subjects_summary<span class="sc">$</span>subject <span class="sc">==</span> subjects_q7<span class="sc">$</span>subject)</span>
<span id="cb42-422"><a href="#cb42-422" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(subjects_summary<span class="sc">$</span>subject <span class="sc">==</span> subjects_q15<span class="sc">$</span>subject)</span>
<span id="cb42-423"><a href="#cb42-423" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(subjects_summary<span class="sc">$</span>subject <span class="sc">==</span> subjects_scaffold<span class="sc">$</span>subject)</span>
<span id="cb42-424"><a href="#cb42-424" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(subjects_summary<span class="sc">$</span>subject <span class="sc">==</span> subjects_test<span class="sc">$</span>subject)</span>
<span id="cb42-425"><a href="#cb42-425" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-426"><a href="#cb42-426" aria-hidden="true" tabindex="-1"></a><span class="co">#CAREFULLY CHECK THIS — RELIES ON </span></span>
<span id="cb42-427"><a href="#cb42-427" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">merge</span>(df_subjects, subjects_summary)</span>
<span id="cb42-428"><a href="#cb42-428" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">merge</span>(x, subjects_q1)</span>
<span id="cb42-429"><a href="#cb42-429" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">merge</span>(x, subjects_q5)</span>
<span id="cb42-430"><a href="#cb42-430" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">merge</span>(x, subjects_q7)</span>
<span id="cb42-431"><a href="#cb42-431" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">merge</span>(x, subjects_q15)</span>
<span id="cb42-432"><a href="#cb42-432" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">merge</span>(x, subjects_scaffold)</span>
<span id="cb42-433"><a href="#cb42-433" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">merge</span>(x, subjects_test)</span>
<span id="cb42-434"><a href="#cb42-434" aria-hidden="true" tabindex="-1"></a>df_subjects <span class="ot">&lt;-</span> x </span>
<span id="cb42-435"><a href="#cb42-435" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-436"><a href="#cb42-436" aria-hidden="true" tabindex="-1"></a><span class="co">#cleanup</span></span>
<span id="cb42-437"><a href="#cb42-437" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(subjects_q1, subjects_q5, subjects_q7, subjects_q15, subjects_scaffold, subjects_test, subjects_summary, x)</span>
<span id="cb42-438"><a href="#cb42-438" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-439"><a href="#cb42-439" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-442"><a href="#cb42-442" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-443"><a href="#cb42-443" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: SUMMARIZE-CUMULATIVE ABSOLUTE PROGRESS</span></span>
<span id="cb42-444"><a href="#cb42-444" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-445"><a href="#cb42-445" aria-hidden="true" tabindex="-1"></a><span class="co">#filter for valid items</span></span>
<span id="cb42-446"><a href="#cb42-446" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> df_items <span class="sc">%&gt;%</span> <span class="fu">filter</span>(q <span class="sc">%nin%</span> <span class="fu">c</span>(<span class="dv">6</span>,<span class="dv">9</span>)) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(subject,mode, condition, q,score_niceABS) </span>
<span id="cb42-447"><a href="#cb42-447" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-448"><a href="#cb42-448" aria-hidden="true" tabindex="-1"></a><span class="co">#pivot wider</span></span>
<span id="cb42-449"><a href="#cb42-449" aria-hidden="true" tabindex="-1"></a>wide <span class="ot">&lt;-</span> x <span class="sc">%&gt;%</span> <span class="fu">pivot_wider</span>(<span class="at">names_from=</span>q, <span class="at">names_glue =</span> <span class="st">"q_{q}"</span>, <span class="at">values_from =</span> score_niceABS)</span>
<span id="cb42-450"><a href="#cb42-450" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-451"><a href="#cb42-451" aria-hidden="true" tabindex="-1"></a><span class="co">#calc stepwise cumulative score</span></span>
<span id="cb42-452"><a href="#cb42-452" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c1 <span class="ot">=</span> wide<span class="sc">$</span>q_1</span>
<span id="cb42-453"><a href="#cb42-453" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c2 <span class="ot">=</span> wide<span class="sc">$</span>c1 <span class="sc">+</span> wide<span class="sc">$</span>q_2</span>
<span id="cb42-454"><a href="#cb42-454" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c3 <span class="ot">=</span> wide<span class="sc">$</span>c2 <span class="sc">+</span> wide<span class="sc">$</span>q_3</span>
<span id="cb42-455"><a href="#cb42-455" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c4 <span class="ot">=</span> wide<span class="sc">$</span>c3 <span class="sc">+</span> wide<span class="sc">$</span>q_4</span>
<span id="cb42-456"><a href="#cb42-456" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c5 <span class="ot">=</span> wide<span class="sc">$</span>c4 <span class="sc">+</span> wide<span class="sc">$</span>q_5</span>
<span id="cb42-457"><a href="#cb42-457" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c6 <span class="ot">=</span> wide<span class="sc">$</span>c5 <span class="sc">+</span> wide<span class="sc">$</span>q_7</span>
<span id="cb42-458"><a href="#cb42-458" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c7 <span class="ot">=</span> wide<span class="sc">$</span>c6 <span class="sc">+</span> wide<span class="sc">$</span>q_8</span>
<span id="cb42-459"><a href="#cb42-459" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c8 <span class="ot">=</span> wide<span class="sc">$</span>c7 <span class="sc">+</span> wide<span class="sc">$</span>q_10</span>
<span id="cb42-460"><a href="#cb42-460" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c9 <span class="ot">=</span> wide<span class="sc">$</span>c8 <span class="sc">+</span> wide<span class="sc">$</span>q_11</span>
<span id="cb42-461"><a href="#cb42-461" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c10 <span class="ot">=</span> wide<span class="sc">$</span>c9 <span class="sc">+</span> wide<span class="sc">$</span>q_12</span>
<span id="cb42-462"><a href="#cb42-462" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c11 <span class="ot">=</span> wide<span class="sc">$</span>c10 <span class="sc">+</span> wide<span class="sc">$</span>q_13</span>
<span id="cb42-463"><a href="#cb42-463" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c12 <span class="ot">=</span> wide<span class="sc">$</span>c11 <span class="sc">+</span> wide<span class="sc">$</span>q_14</span>
<span id="cb42-464"><a href="#cb42-464" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c13 <span class="ot">=</span> wide<span class="sc">$</span>c12 <span class="sc">+</span> wide<span class="sc">$</span>q_15</span>
<span id="cb42-465"><a href="#cb42-465" aria-hidden="true" tabindex="-1"></a>wide <span class="ot">&lt;-</span> wide <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(subject,mode, condition,c1,c2,c3,c4,c5,c6, c7,c8,c9, c10,c11,c12,c13)</span>
<span id="cb42-466"><a href="#cb42-466" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-467"><a href="#cb42-467" aria-hidden="true" tabindex="-1"></a><span class="co">#lengthen </span></span>
<span id="cb42-468"><a href="#cb42-468" aria-hidden="true" tabindex="-1"></a>df_absolute_progress <span class="ot">&lt;-</span> wide <span class="sc">%&gt;%</span> <span class="fu">pivot_longer</span>(<span class="at">cols=</span> c1<span class="sc">:</span>c13, <span class="at">names_to =</span> <span class="st">"question"</span>, <span class="at">names_pattern =</span> <span class="st">"c(.*)"</span>, <span class="at">values_to =</span> <span class="st">"score"</span>)</span>
<span id="cb42-469"><a href="#cb42-469" aria-hidden="true" tabindex="-1"></a>df_absolute_progress<span class="sc">$</span>question <span class="ot">&lt;-</span> <span class="fu">as.integer</span>(df_absolute_progress<span class="sc">$</span>question)</span>
<span id="cb42-470"><a href="#cb42-470" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-471"><a href="#cb42-471" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-472"><a href="#cb42-472" aria-hidden="true" tabindex="-1"></a><span class="co">#cleanup </span></span>
<span id="cb42-473"><a href="#cb42-473" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(x,wide)</span>
<span id="cb42-474"><a href="#cb42-474" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-475"><a href="#cb42-475" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-476"><a href="#cb42-476" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-479"><a href="#cb42-479" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-480"><a href="#cb42-480" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: SUMMARIZE-CUMULATIVE SCALED PROGRESS</span></span>
<span id="cb42-481"><a href="#cb42-481" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-482"><a href="#cb42-482" aria-hidden="true" tabindex="-1"></a><span class="co">#filter for valid items</span></span>
<span id="cb42-483"><a href="#cb42-483" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> df_items <span class="sc">%&gt;%</span> <span class="fu">filter</span>(q <span class="sc">%nin%</span> <span class="fu">c</span>(<span class="dv">6</span>,<span class="dv">9</span>)) <span class="sc">%&gt;%</span> <span class="fu">select</span>(subject,mode, condition, q,score_SCALED)</span>
<span id="cb42-484"><a href="#cb42-484" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-485"><a href="#cb42-485" aria-hidden="true" tabindex="-1"></a><span class="co">#pivot wider</span></span>
<span id="cb42-486"><a href="#cb42-486" aria-hidden="true" tabindex="-1"></a>wide <span class="ot">&lt;-</span> x <span class="sc">%&gt;%</span> <span class="fu">pivot_wider</span>(<span class="at">names_from=</span>q, <span class="at">names_glue =</span> <span class="st">"q_{q}"</span>, <span class="at">values_from =</span> score_SCALED)</span>
<span id="cb42-487"><a href="#cb42-487" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-488"><a href="#cb42-488" aria-hidden="true" tabindex="-1"></a><span class="co">#calc stepwise cumulative score</span></span>
<span id="cb42-489"><a href="#cb42-489" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c1 <span class="ot">=</span> wide<span class="sc">$</span>q_1</span>
<span id="cb42-490"><a href="#cb42-490" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c2 <span class="ot">=</span> wide<span class="sc">$</span>c1 <span class="sc">+</span> wide<span class="sc">$</span>q_2</span>
<span id="cb42-491"><a href="#cb42-491" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c3 <span class="ot">=</span> wide<span class="sc">$</span>c2 <span class="sc">+</span> wide<span class="sc">$</span>q_3</span>
<span id="cb42-492"><a href="#cb42-492" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c4 <span class="ot">=</span> wide<span class="sc">$</span>c3 <span class="sc">+</span> wide<span class="sc">$</span>q_4</span>
<span id="cb42-493"><a href="#cb42-493" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c5 <span class="ot">=</span> wide<span class="sc">$</span>c4 <span class="sc">+</span> wide<span class="sc">$</span>q_5</span>
<span id="cb42-494"><a href="#cb42-494" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c6 <span class="ot">=</span> wide<span class="sc">$</span>c5 <span class="sc">+</span> wide<span class="sc">$</span>q_7</span>
<span id="cb42-495"><a href="#cb42-495" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c7 <span class="ot">=</span> wide<span class="sc">$</span>c6 <span class="sc">+</span> wide<span class="sc">$</span>q_8</span>
<span id="cb42-496"><a href="#cb42-496" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c8 <span class="ot">=</span> wide<span class="sc">$</span>c7 <span class="sc">+</span> wide<span class="sc">$</span>q_10</span>
<span id="cb42-497"><a href="#cb42-497" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c9 <span class="ot">=</span> wide<span class="sc">$</span>c8 <span class="sc">+</span> wide<span class="sc">$</span>q_11</span>
<span id="cb42-498"><a href="#cb42-498" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c10 <span class="ot">=</span> wide<span class="sc">$</span>c9 <span class="sc">+</span> wide<span class="sc">$</span>q_12</span>
<span id="cb42-499"><a href="#cb42-499" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c11 <span class="ot">=</span> wide<span class="sc">$</span>c10 <span class="sc">+</span> wide<span class="sc">$</span>q_13</span>
<span id="cb42-500"><a href="#cb42-500" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c12 <span class="ot">=</span> wide<span class="sc">$</span>c11 <span class="sc">+</span> wide<span class="sc">$</span>q_14</span>
<span id="cb42-501"><a href="#cb42-501" aria-hidden="true" tabindex="-1"></a>wide<span class="sc">$</span>c13 <span class="ot">=</span> wide<span class="sc">$</span>c12 <span class="sc">+</span> wide<span class="sc">$</span>q_15</span>
<span id="cb42-502"><a href="#cb42-502" aria-hidden="true" tabindex="-1"></a>wide <span class="ot">&lt;-</span> wide <span class="sc">%&gt;%</span> <span class="fu">select</span>(subject,mode, condition,c1,c2,c3,c4,c5,c6, c7,c8,c9, c10,c11,c12,c13)</span>
<span id="cb42-503"><a href="#cb42-503" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-504"><a href="#cb42-504" aria-hidden="true" tabindex="-1"></a><span class="co">#lengthen </span></span>
<span id="cb42-505"><a href="#cb42-505" aria-hidden="true" tabindex="-1"></a>df_scaled_progress <span class="ot">&lt;-</span> wide <span class="sc">%&gt;%</span> <span class="fu">pivot_longer</span>(<span class="at">cols=</span> c1<span class="sc">:</span>c13, <span class="at">names_to =</span> <span class="st">"question"</span>, <span class="at">names_pattern =</span> <span class="st">"c(.*)"</span>, <span class="at">values_to =</span> <span class="st">"score"</span>)</span>
<span id="cb42-506"><a href="#cb42-506" aria-hidden="true" tabindex="-1"></a>df_scaled_progress<span class="sc">$</span>question <span class="ot">&lt;-</span> <span class="fu">as.integer</span>(df_scaled_progress<span class="sc">$</span>question)</span>
<span id="cb42-507"><a href="#cb42-507" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-508"><a href="#cb42-508" aria-hidden="true" tabindex="-1"></a><span class="co">#cleanup </span></span>
<span id="cb42-509"><a href="#cb42-509" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(x,wide)</span>
<span id="cb42-510"><a href="#cb42-510" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-511"><a href="#cb42-511" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-512"><a href="#cb42-512" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-513"><a href="#cb42-513" aria-hidden="true" tabindex="-1"></a><span class="fu">## EXPLORE DISTRIBUTIONS</span></span>
<span id="cb42-514"><a href="#cb42-514" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-517"><a href="#cb42-517" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-518"><a href="#cb42-518" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: VIS-SETUP</span></span>
<span id="cb42-519"><a href="#cb42-519" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-520"><a href="#cb42-520" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">repr.plot.width =</span><span class="dv">9</span>, <span class="at">repr.plot.height =</span><span class="dv">12</span>)</span>
<span id="cb42-521"><a href="#cb42-521" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-522"><a href="#cb42-522" aria-hidden="true" tabindex="-1"></a><span class="co">#create temp data frame for visualizations</span></span>
<span id="cb42-523"><a href="#cb42-523" aria-hidden="true" tabindex="-1"></a>df <span class="ot">=</span> df_items <span class="sc">%&gt;%</span> <span class="fu">filter</span> (q <span class="sc">%nin%</span> <span class="fu">c</span>(<span class="dv">6</span>,<span class="dv">9</span>)) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb42-524"><a href="#cb42-524" aria-hidden="true" tabindex="-1"></a>  <span class="at">score_niceABS =</span> <span class="fu">as.factor</span>(score_niceABS),</span>
<span id="cb42-525"><a href="#cb42-525" aria-hidden="true" tabindex="-1"></a>  <span class="at">pretty_condition =</span> <span class="fu">recode_factor</span>(condition, <span class="st">"11111"</span> <span class="ot">=</span> <span class="st">"control"</span>, <span class="st">"113"</span> <span class="ot">=</span>  <span class="st">"cond3"</span>, <span class="st">"114"</span><span class="ot">=</span><span class="st">"cond4"</span>, <span class="st">"115"</span><span class="ot">=</span><span class="st">"cond5"</span>),</span>
<span id="cb42-526"><a href="#cb42-526" aria-hidden="true" tabindex="-1"></a>  <span class="at">pretty_interpretation =</span> <span class="fu">factor</span>(interpretation,</span>
<span id="cb42-527"><a href="#cb42-527" aria-hidden="true" tabindex="-1"></a>    <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Orthogonal"</span>, <span class="st">"Satisfice"</span>, </span>
<span id="cb42-528"><a href="#cb42-528" aria-hidden="true" tabindex="-1"></a>               <span class="st">"frenzy"</span>,<span class="st">"?"</span>,</span>
<span id="cb42-529"><a href="#cb42-529" aria-hidden="true" tabindex="-1"></a>                <span class="st">"reference"</span>,<span class="st">"blank"</span>,</span>
<span id="cb42-530"><a href="#cb42-530" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Tversky"</span>, <span class="st">"both tri + orth"</span>,</span>
<span id="cb42-531"><a href="#cb42-531" aria-hidden="true" tabindex="-1"></a>               <span class="st">"Triangular"</span> ))</span>
<span id="cb42-532"><a href="#cb42-532" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb42-533"><a href="#cb42-533" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-534"><a href="#cb42-534" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-535"><a href="#cb42-535" aria-hidden="true" tabindex="-1"></a><span class="fu">### Absolute Score</span></span>
<span id="cb42-536"><a href="#cb42-536" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-539"><a href="#cb42-539" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-540"><a href="#cb42-540" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: DISTR-ABSCORE</span></span>
<span id="cb42-541"><a href="#cb42-541" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-542"><a href="#cb42-542" aria-hidden="true" tabindex="-1"></a><span class="co">#DISTRIBUTION ABSOLUTE SCORE FULL </span><span class="al">TASK</span></span>
<span id="cb42-543"><a href="#cb42-543" aria-hidden="true" tabindex="-1"></a><span class="fu">gf_props</span>(<span class="sc">~</span>score_niceABS, <span class="at">fill =</span> <span class="sc">~</span>pretty_condition, <span class="at">position =</span> <span class="fu">position_dodge</span>(), <span class="at">data =</span> df) <span class="sc">+</span></span>
<span id="cb42-544"><a href="#cb42-544" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>( <span class="at">x =</span> <span class="st">"Absolute Score"</span>, </span>
<span id="cb42-545"><a href="#cb42-545" aria-hidden="true" tabindex="-1"></a>        <span class="at">title =</span> <span class="st">"Distribution of Absolute Score (all Items)"</span>,</span>
<span id="cb42-546"><a href="#cb42-546" aria-hidden="true" tabindex="-1"></a>        <span class="at">subtitle =</span> <span class="fu">paste</span>(<span class="st">"Impasse Condition (blue) yields more correct responses across the entire task"</span>),</span>
<span id="cb42-547"><a href="#cb42-547" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="st">"Proportion of Items"</span>) <span class="sc">+</span></span>
<span id="cb42-548"><a href="#cb42-548" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_discrete</span>(<span class="at">name =</span> <span class="st">"Condition"</span>) <span class="sc">+</span>  </span>
<span id="cb42-549"><a href="#cb42-549" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb42-550"><a href="#cb42-550" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-551"><a href="#cb42-551" aria-hidden="true" tabindex="-1"></a><span class="co">#DISTRIBUTION ABSOLUTE SCORE BY ITEM</span></span>
<span id="cb42-552"><a href="#cb42-552" aria-hidden="true" tabindex="-1"></a><span class="co"># gf_props(~score_niceABS, fill = ~pretty_condition, position = position_dodge(), data = df)  %&gt;% </span></span>
<span id="cb42-553"><a href="#cb42-553" aria-hidden="true" tabindex="-1"></a><span class="co">#   gf_facet_grid(pretty_condition~q) + </span></span>
<span id="cb42-554"><a href="#cb42-554" aria-hidden="true" tabindex="-1"></a><span class="co">#   labs( x = "Absolute Score", </span></span>
<span id="cb42-555"><a href="#cb42-555" aria-hidden="true" tabindex="-1"></a><span class="co">#         title = "Distribution of Absolute Score (by Item)",</span></span>
<span id="cb42-556"><a href="#cb42-556" aria-hidden="true" tabindex="-1"></a><span class="co">#         subtitle = "Impasse Condition (blue) yields more correct responses on each item",</span></span>
<span id="cb42-557"><a href="#cb42-557" aria-hidden="true" tabindex="-1"></a><span class="co">#         y = "Proprition of Subjects") +</span></span>
<span id="cb42-558"><a href="#cb42-558" aria-hidden="true" tabindex="-1"></a><span class="co">#   scale_fill_discrete(name = "Condition") +  </span></span>
<span id="cb42-559"><a href="#cb42-559" aria-hidden="true" tabindex="-1"></a><span class="co">#   theme_minimal()</span></span>
<span id="cb42-560"><a href="#cb42-560" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-561"><a href="#cb42-561" aria-hidden="true" tabindex="-1"></a><span class="co">#DISTRIBUTION ABSOLUTE SCORE BY SUBJECT</span></span>
<span id="cb42-562"><a href="#cb42-562" aria-hidden="true" tabindex="-1"></a><span class="co"># gf_props(~s_NABS, fill = ~pretty_condition, position = position_dodge(), data = df_subjects) %&gt;%</span></span>
<span id="cb42-563"><a href="#cb42-563" aria-hidden="true" tabindex="-1"></a><span class="co"># gf_facet_grid(pretty_condition ~. )+</span></span>
<span id="cb42-564"><a href="#cb42-564" aria-hidden="true" tabindex="-1"></a><span class="co">#   labs( x = "Total Absolute Score",</span></span>
<span id="cb42-565"><a href="#cb42-565" aria-hidden="true" tabindex="-1"></a><span class="co">#         title = "Distribution of Total Absolute Score (by Subject)",</span></span>
<span id="cb42-566"><a href="#cb42-566" aria-hidden="true" tabindex="-1"></a><span class="co">#         subtitle = "Impasse Condition (blue) yields higher total absolute scores",</span></span>
<span id="cb42-567"><a href="#cb42-567" aria-hidden="true" tabindex="-1"></a><span class="co">#         y = "Proportion of Subjects") +</span></span>
<span id="cb42-568"><a href="#cb42-568" aria-hidden="true" tabindex="-1"></a><span class="co">#   scale_fill_discrete(name = "Condition") +</span></span>
<span id="cb42-569"><a href="#cb42-569" aria-hidden="true" tabindex="-1"></a><span class="co">#   theme_minimal() + theme(legend.position = "blank")</span></span>
<span id="cb42-570"><a href="#cb42-570" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-571"><a href="#cb42-571" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-572"><a href="#cb42-572" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-573"><a href="#cb42-573" aria-hidden="true" tabindex="-1"></a><span class="fu">### Scaled Score</span></span>
<span id="cb42-574"><a href="#cb42-574" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-577"><a href="#cb42-577" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-578"><a href="#cb42-578" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: DISTR-SCALEDSCORE</span></span>
<span id="cb42-579"><a href="#cb42-579" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-580"><a href="#cb42-580" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">repr.plot.width =</span><span class="dv">9</span>, <span class="at">repr.plot.height =</span><span class="dv">12</span>)</span>
<span id="cb42-581"><a href="#cb42-581" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-582"><a href="#cb42-582" aria-hidden="true" tabindex="-1"></a><span class="co">#DISTRIBUTION SCALED SCORE FULL </span><span class="al">TASK</span></span>
<span id="cb42-583"><a href="#cb42-583" aria-hidden="true" tabindex="-1"></a><span class="fu">gf_props</span>(<span class="sc">~</span>score_SCALED, <span class="at">fill =</span> <span class="sc">~</span>pretty_condition, <span class="at">position =</span> <span class="fu">position_dodge</span>(), <span class="at">data =</span> df) <span class="sc">+</span></span>
<span id="cb42-584"><a href="#cb42-584" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>( <span class="at">x =</span> <span class="st">"Scaled Score"</span>, </span>
<span id="cb42-585"><a href="#cb42-585" aria-hidden="true" tabindex="-1"></a>        <span class="at">title =</span> <span class="st">"Distribution of Scaled Score (all Items)"</span>,</span>
<span id="cb42-586"><a href="#cb42-586" aria-hidden="true" tabindex="-1"></a>        <span class="at">subtitle =</span> <span class="st">"Impasse Condition (blue) yields higher scaled scores across the entire task"</span>,</span>
<span id="cb42-587"><a href="#cb42-587" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="st">"Proportion of Items"</span>) <span class="sc">+</span></span>
<span id="cb42-588"><a href="#cb42-588" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_discrete</span>(<span class="at">name =</span> <span class="st">"Condition"</span>) <span class="sc">+</span>  </span>
<span id="cb42-589"><a href="#cb42-589" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb42-590"><a href="#cb42-590" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-591"><a href="#cb42-591" aria-hidden="true" tabindex="-1"></a><span class="co">#DISTRIBUTION SCALED SCORE BY ITEM</span></span>
<span id="cb42-592"><a href="#cb42-592" aria-hidden="true" tabindex="-1"></a><span class="co"># gf_props(~score_SCALED, fill = ~pretty_condition, position = position_dodge(), data = df)  %&gt;% </span></span>
<span id="cb42-593"><a href="#cb42-593" aria-hidden="true" tabindex="-1"></a><span class="co">#   gf_facet_grid(q~pretty_condition) + </span></span>
<span id="cb42-594"><a href="#cb42-594" aria-hidden="true" tabindex="-1"></a><span class="co">#   labs( x = "Scaled Score", </span></span>
<span id="cb42-595"><a href="#cb42-595" aria-hidden="true" tabindex="-1"></a><span class="co">#         title = "Distribution of Scaled Score (by Item)",</span></span>
<span id="cb42-596"><a href="#cb42-596" aria-hidden="true" tabindex="-1"></a><span class="co">#         subtitle = "Impasse Condition (blue) yields higher scaled scores on each item",</span></span>
<span id="cb42-597"><a href="#cb42-597" aria-hidden="true" tabindex="-1"></a><span class="co">#         y = "Proportion of Subjects") +</span></span>
<span id="cb42-598"><a href="#cb42-598" aria-hidden="true" tabindex="-1"></a><span class="co">#   scale_fill_discrete(name = "Condition") +  scale_y_continuous(breaks=c(0,0.5)) + </span></span>
<span id="cb42-599"><a href="#cb42-599" aria-hidden="true" tabindex="-1"></a><span class="co">#   theme_minimal() + theme(legend.position="blank")</span></span>
<span id="cb42-600"><a href="#cb42-600" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-601"><a href="#cb42-601" aria-hidden="true" tabindex="-1"></a><span class="co">#DISTRIBUTION SCALED SCORE BY SUBJECT</span></span>
<span id="cb42-602"><a href="#cb42-602" aria-hidden="true" tabindex="-1"></a><span class="co"># gf_props(~s_SCALED, fill = ~pretty_condition, data = df_subjects)  %&gt;%</span></span>
<span id="cb42-603"><a href="#cb42-603" aria-hidden="true" tabindex="-1"></a><span class="co">#   gf_facet_grid(pretty_condition ~. )+</span></span>
<span id="cb42-604"><a href="#cb42-604" aria-hidden="true" tabindex="-1"></a><span class="co">#   labs( x = "Total Scaled Score",</span></span>
<span id="cb42-605"><a href="#cb42-605" aria-hidden="true" tabindex="-1"></a><span class="co">#         title = "Distribution of Total Scaled Score (by Subject)",</span></span>
<span id="cb42-606"><a href="#cb42-606" aria-hidden="true" tabindex="-1"></a><span class="co">#         subtitle = "Impasse Condition (blue) yields higher cumulative scaled scores",</span></span>
<span id="cb42-607"><a href="#cb42-607" aria-hidden="true" tabindex="-1"></a><span class="co">#         y = "Number of Subjects") +</span></span>
<span id="cb42-608"><a href="#cb42-608" aria-hidden="true" tabindex="-1"></a><span class="co">#   scale_fill_discrete(name = "Condition") +</span></span>
<span id="cb42-609"><a href="#cb42-609" aria-hidden="true" tabindex="-1"></a><span class="co">#   theme_minimal()</span></span>
<span id="cb42-610"><a href="#cb42-610" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-611"><a href="#cb42-611" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-612"><a href="#cb42-612" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-613"><a href="#cb42-613" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>TODO: INVESTIGATE if some of the scores assigned to 0 should be assigned to -0.5 to balance</span>
<span id="cb42-614"><a href="#cb42-614" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>TODO: INVESTIGATE DISTRIBUTIONS of each subscore type</span>
<span id="cb42-615"><a href="#cb42-615" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-616"><a href="#cb42-616" aria-hidden="true" tabindex="-1"></a><span class="fu">### Interpretations</span></span>
<span id="cb42-617"><a href="#cb42-617" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-620"><a href="#cb42-620" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-621"><a href="#cb42-621" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: DISTR-INTERPRETATIONS</span></span>
<span id="cb42-622"><a href="#cb42-622" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-623"><a href="#cb42-623" aria-hidden="true" tabindex="-1"></a><span class="co">#DISTRIBUTION OF INTERPRETATION</span></span>
<span id="cb42-624"><a href="#cb42-624" aria-hidden="true" tabindex="-1"></a><span class="fu">gf_props</span>(<span class="sc">~</span>pretty_interpretation, <span class="at">fill =</span> <span class="sc">~</span>pretty_condition, <span class="at">data =</span> df) <span class="sc">%&gt;%</span> </span>
<span id="cb42-625"><a href="#cb42-625" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gf_facet_grid</span>( pretty_condition <span class="sc">~</span> ., <span class="at">labeller =</span> label_both) <span class="sc">+</span> </span>
<span id="cb42-626"><a href="#cb42-626" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>( <span class="at">title =</span> <span class="st">"Distribution of Interpretations (across Task)"</span>,</span>
<span id="cb42-627"><a href="#cb42-627" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="st">"Graph Interpretation"</span>,</span>
<span id="cb42-628"><a href="#cb42-628" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="st">"Proportion of Responses"</span>,</span>
<span id="cb42-629"><a href="#cb42-629" aria-hidden="true" tabindex="-1"></a>        <span class="at">subtitle =</span> <span class="st">"Impasse condition (blue) yields fewer Orthogonal and more Triangular responses"</span>) <span class="sc">+</span> </span>
<span id="cb42-630"><a href="#cb42-630" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"blank"</span>)</span>
<span id="cb42-631"><a href="#cb42-631" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-632"><a href="#cb42-632" aria-hidden="true" tabindex="-1"></a><span class="co">#DISTRIBUTION OF INTERPRETATION ACROSS ITEMS</span></span>
<span id="cb42-633"><a href="#cb42-633" aria-hidden="true" tabindex="-1"></a><span class="fu">gf_propsh</span>(<span class="sc">~</span> pretty_interpretation, <span class="at">fill =</span> <span class="sc">~</span>pretty_condition, <span class="at">data =</span> df) <span class="sc">%&gt;%</span> </span>
<span id="cb42-634"><a href="#cb42-634" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gf_facet_grid</span>( pretty_condition<span class="sc">~</span>q) <span class="sc">+</span> </span>
<span id="cb42-635"><a href="#cb42-635" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>( <span class="at">title =</span> <span class="st">"Distribution of Interpretations (by Item)"</span>,</span>
<span id="cb42-636"><a href="#cb42-636" aria-hidden="true" tabindex="-1"></a>        <span class="at">subtitle =</span> <span class="st">"Impasse condition (blue) yields more Triangular responses on each question"</span>,</span>
<span id="cb42-637"><a href="#cb42-637" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="st">"Interpretation"</span>, <span class="at">x =</span> <span class="st">"Proportion of Subjects"</span>) <span class="sc">+</span> <span class="fu">theme_minimal</span>() <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"blank"</span>)</span>
<span id="cb42-638"><a href="#cb42-638" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-639"><a href="#cb42-639" aria-hidden="true" tabindex="-1"></a><span class="co">#DISTRIBUTION OF INTERPRETATION TYPE ACROSS ITEMS</span></span>
<span id="cb42-640"><a href="#cb42-640" aria-hidden="true" tabindex="-1"></a><span class="fu">gf_propsh</span>(<span class="sc">~</span> high_interpretation, <span class="at">fill =</span> <span class="sc">~</span>pretty_condition, <span class="at">data =</span> df) <span class="sc">%&gt;%</span> </span>
<span id="cb42-641"><a href="#cb42-641" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gf_facet_grid</span>( pretty_condition<span class="sc">~</span>q) <span class="sc">+</span> </span>
<span id="cb42-642"><a href="#cb42-642" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>( <span class="at">title =</span> <span class="st">"Distribution of Interpretations (by Item)"</span>,</span>
<span id="cb42-643"><a href="#cb42-643" aria-hidden="true" tabindex="-1"></a>        <span class="at">subtitle =</span> <span class="st">"Impasse condition (blue) yields more positive trending responses on each question"</span>,</span>
<span id="cb42-644"><a href="#cb42-644" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="st">"Interpretation"</span>, <span class="at">x =</span> <span class="st">"Proportion of Subjects"</span>) <span class="sc">+</span> <span class="fu">theme_minimal</span>() <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"blank"</span>)</span>
<span id="cb42-645"><a href="#cb42-645" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-646"><a href="#cb42-646" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-647"><a href="#cb42-647" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-648"><a href="#cb42-648" aria-hidden="true" tabindex="-1"></a><span class="fu">### Progress over Task</span></span>
<span id="cb42-649"><a href="#cb42-649" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-652"><a href="#cb42-652" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-653"><a href="#cb42-653" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: VIZ-PROGRESS</span></span>
<span id="cb42-654"><a href="#cb42-654" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-655"><a href="#cb42-655" aria-hidden="true" tabindex="-1"></a><span class="co">#recode factors</span></span>
<span id="cb42-656"><a href="#cb42-656" aria-hidden="true" tabindex="-1"></a>df_absolute_progress <span class="ot">&lt;-</span> df_absolute_progress <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb42-657"><a href="#cb42-657" aria-hidden="true" tabindex="-1"></a>    <span class="at">pretty_condition =</span> <span class="fu">recode_factor</span>(condition, <span class="st">"11111"</span> <span class="ot">=</span> <span class="st">"control"</span>, <span class="st">"113"</span> <span class="ot">=</span>  <span class="st">"cond3"</span>, <span class="st">"114"</span><span class="ot">=</span><span class="st">"cond4"</span>, <span class="st">"115"</span><span class="ot">=</span><span class="st">"cond5"</span>)</span>
<span id="cb42-658"><a href="#cb42-658" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb42-659"><a href="#cb42-659" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-660"><a href="#cb42-660" aria-hidden="true" tabindex="-1"></a>df_scaled_progress <span class="ot">&lt;-</span> df_scaled_progress <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb42-661"><a href="#cb42-661" aria-hidden="true" tabindex="-1"></a>    <span class="at">pretty_condition =</span> <span class="fu">recode_factor</span>(condition, <span class="st">"11111"</span> <span class="ot">=</span> <span class="st">"control"</span>, <span class="st">"113"</span> <span class="ot">=</span>  <span class="st">"cond3"</span>, <span class="st">"114"</span><span class="ot">=</span><span class="st">"cond4"</span>, <span class="st">"115"</span><span class="ot">=</span><span class="st">"cond5"</span>)</span>
<span id="cb42-662"><a href="#cb42-662" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb42-663"><a href="#cb42-663" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-664"><a href="#cb42-664" aria-hidden="true" tabindex="-1"></a><span class="co">#VISUALIZE progress over time ABSOLUTE score </span></span>
<span id="cb42-665"><a href="#cb42-665" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> df_absolute_progress, <span class="fu">aes</span>(<span class="at">x =</span> question, <span class="at">y =</span> score, <span class="at">group =</span> subject, <span class="at">alpha =</span> <span class="fl">0.01</span>, <span class="at">color =</span> pretty_condition)) <span class="sc">+</span> </span>
<span id="cb42-666"><a href="#cb42-666" aria-hidden="true" tabindex="-1"></a> <span class="fu">geom_line</span>(<span class="at">position=</span><span class="fu">position_jitter</span>(<span class="at">w=</span><span class="fl">0.15</span>, <span class="at">h=</span><span class="fl">0.15</span>), <span class="at">size=</span><span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb42-667"><a href="#cb42-667" aria-hidden="true" tabindex="-1"></a> <span class="fu">facet_wrap</span>(<span class="sc">~</span>pretty_condition) <span class="sc">+</span> </span>
<span id="cb42-668"><a href="#cb42-668" aria-hidden="true" tabindex="-1"></a> <span class="fu">labs</span> (<span class="at">title =</span> <span class="st">"Cumulative Absolute Score over sequence of task"</span>, <span class="at">x =</span> <span class="st">"Question"</span> , <span class="at">y =</span> <span class="st">"Cumulative Absolute Score"</span>) <span class="sc">+</span> </span>
<span id="cb42-669"><a href="#cb42-669" aria-hidden="true" tabindex="-1"></a> <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">9</span>,<span class="dv">10</span>,<span class="dv">11</span>,<span class="dv">12</span>,<span class="dv">13</span>)) <span class="sc">+</span></span>
<span id="cb42-670"><a href="#cb42-670" aria-hidden="true" tabindex="-1"></a> <span class="fu">theme_minimal</span>() <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"blank"</span>)</span>
<span id="cb42-671"><a href="#cb42-671" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-672"><a href="#cb42-672" aria-hidden="true" tabindex="-1"></a><span class="co">#VISUALIZE progress over time SCALED score </span></span>
<span id="cb42-673"><a href="#cb42-673" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> df_scaled_progress, <span class="fu">aes</span>(<span class="at">x =</span> question, <span class="at">y =</span> score, <span class="at">group =</span> subject, <span class="at">alpha =</span> <span class="fl">0.01</span>, <span class="at">color =</span> pretty_condition)) <span class="sc">+</span> </span>
<span id="cb42-674"><a href="#cb42-674" aria-hidden="true" tabindex="-1"></a> <span class="fu">geom_line</span>(<span class="at">position=</span><span class="fu">position_jitter</span>(<span class="at">w=</span><span class="fl">0.15</span>, <span class="at">h=</span><span class="fl">0.15</span>), <span class="at">size=</span><span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb42-675"><a href="#cb42-675" aria-hidden="true" tabindex="-1"></a> <span class="fu">facet_wrap</span>(<span class="sc">~</span>pretty_condition) <span class="sc">+</span> </span>
<span id="cb42-676"><a href="#cb42-676" aria-hidden="true" tabindex="-1"></a> <span class="fu">labs</span> (<span class="at">title =</span> <span class="st">"Cumulative Scaled Score over sequence of task"</span>, <span class="at">x =</span> <span class="st">"Question"</span> , <span class="at">y =</span> <span class="st">"Cumulative Scaled Score"</span>) <span class="sc">+</span> </span>
<span id="cb42-677"><a href="#cb42-677" aria-hidden="true" tabindex="-1"></a> <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">9</span>,<span class="dv">10</span>,<span class="dv">11</span>,<span class="dv">12</span>,<span class="dv">13</span>)) <span class="sc">+</span></span>
<span id="cb42-678"><a href="#cb42-678" aria-hidden="true" tabindex="-1"></a> <span class="fu">theme_minimal</span>() <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"blank"</span>)</span>
<span id="cb42-679"><a href="#cb42-679" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-680"><a href="#cb42-680" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-681"><a href="#cb42-681" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-682"><a href="#cb42-682" aria-hidden="true" tabindex="-1"></a><span class="fu">### Interpretation Subscores</span></span>
<span id="cb42-683"><a href="#cb42-683" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-686"><a href="#cb42-686" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-687"><a href="#cb42-687" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: DIST-SUBSCORES</span></span>
<span id="cb42-688"><a href="#cb42-688" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-689"><a href="#cb42-689" aria-hidden="true" tabindex="-1"></a><span class="co"># gf_density(~ s_TRI, fill = ~pretty_condition, data = df_subjects) %&gt;% </span></span>
<span id="cb42-690"><a href="#cb42-690" aria-hidden="true" tabindex="-1"></a><span class="co">#   gf_facet_wrap( ~ pretty_condition) + </span></span>
<span id="cb42-691"><a href="#cb42-691" aria-hidden="true" tabindex="-1"></a><span class="co">#   labs( title = "Distribution of Total Triangular Score",</span></span>
<span id="cb42-692"><a href="#cb42-692" aria-hidden="true" tabindex="-1"></a><span class="co">#         subtitle = "Impasse shifts density toward higher Triagular scores",</span></span>
<span id="cb42-693"><a href="#cb42-693" aria-hidden="true" tabindex="-1"></a><span class="co">#         x = "Item Triangular Score", y = "Proportion of Subjects") + </span></span>
<span id="cb42-694"><a href="#cb42-694" aria-hidden="true" tabindex="-1"></a><span class="co">#         theme_minimal() + theme(legend.position = "blank")</span></span>
<span id="cb42-695"><a href="#cb42-695" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb42-696"><a href="#cb42-696" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb42-697"><a href="#cb42-697" aria-hidden="true" tabindex="-1"></a><span class="co"># gf_density(~ s_ORTH, fill = ~pretty_condition, data = df_subjects) %&gt;% </span></span>
<span id="cb42-698"><a href="#cb42-698" aria-hidden="true" tabindex="-1"></a><span class="co">#   gf_facet_wrap( ~ pretty_condition) + </span></span>
<span id="cb42-699"><a href="#cb42-699" aria-hidden="true" tabindex="-1"></a><span class="co">#   labs( title = "Distribution of Total Orthogonal Score",</span></span>
<span id="cb42-700"><a href="#cb42-700" aria-hidden="true" tabindex="-1"></a><span class="co">#         subtitle = "Impasse shifts density toward lower Orthogonal scores",</span></span>
<span id="cb42-701"><a href="#cb42-701" aria-hidden="true" tabindex="-1"></a><span class="co">#         x = "Item Orthogonal Score", y = "Proportion of Subjects") + </span></span>
<span id="cb42-702"><a href="#cb42-702" aria-hidden="true" tabindex="-1"></a><span class="co">#         theme_minimal() + theme(legend.position = "blank")</span></span>
<span id="cb42-703"><a href="#cb42-703" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb42-704"><a href="#cb42-704" aria-hidden="true" tabindex="-1"></a><span class="co"># gf_density(~ s_TVERSKY, fill = ~pretty_condition, data = df_subjects) %&gt;% </span></span>
<span id="cb42-705"><a href="#cb42-705" aria-hidden="true" tabindex="-1"></a><span class="co">#   gf_facet_wrap( ~ pretty_condition) + </span></span>
<span id="cb42-706"><a href="#cb42-706" aria-hidden="true" tabindex="-1"></a><span class="co">#   labs( title = "Distribution of Total Tversky Score",</span></span>
<span id="cb42-707"><a href="#cb42-707" aria-hidden="true" tabindex="-1"></a><span class="co">#         subtitle = "Impasse shifts density toward higher Tversky scores",</span></span>
<span id="cb42-708"><a href="#cb42-708" aria-hidden="true" tabindex="-1"></a><span class="co">#         x = "Item Orthogonal Score", y = "Proportion of Subjects") + </span></span>
<span id="cb42-709"><a href="#cb42-709" aria-hidden="true" tabindex="-1"></a><span class="co">#         theme_minimal() + theme(legend.position = "blank")</span></span>
<span id="cb42-710"><a href="#cb42-710" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb42-711"><a href="#cb42-711" aria-hidden="true" tabindex="-1"></a><span class="co"># gf_histogram(~ s_SATISFICE, fill = ~pretty_condition, data = df_subjects) %&gt;% </span></span>
<span id="cb42-712"><a href="#cb42-712" aria-hidden="true" tabindex="-1"></a><span class="co">#   gf_facet_wrap( ~ pretty_condition) + </span></span>
<span id="cb42-713"><a href="#cb42-713" aria-hidden="true" tabindex="-1"></a><span class="co">#   labs( title = "Distribution of Total Satisfice Score",</span></span>
<span id="cb42-714"><a href="#cb42-714" aria-hidden="true" tabindex="-1"></a><span class="co">#         subtitle = "Satisficing only occurs in impasse, when no orthogonal response is available",</span></span>
<span id="cb42-715"><a href="#cb42-715" aria-hidden="true" tabindex="-1"></a><span class="co">#         x = "Item Orthogonal Score", y = "Proportion of Subjects") + </span></span>
<span id="cb42-716"><a href="#cb42-716" aria-hidden="true" tabindex="-1"></a><span class="co">#         theme_minimal() + theme(legend.position = "blank")</span></span>
<span id="cb42-717"><a href="#cb42-717" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-718"><a href="#cb42-718" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-719"><a href="#cb42-719" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-720"><a href="#cb42-720" aria-hidden="true" tabindex="-1"></a><span class="fu">## EXPLORE RESPONSES</span></span>
<span id="cb42-721"><a href="#cb42-721" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-722"><a href="#cb42-722" aria-hidden="true" tabindex="-1"></a>In this section we explore responses given by participants to each particular item in the graph comprehension task, indicate how each response was scored, and what interpretation of the graph is indicated by different responses.</span>
<span id="cb42-723"><a href="#cb42-723" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-724"><a href="#cb42-724" aria-hidden="true" tabindex="-1"></a>TODO</span>
<span id="cb42-725"><a href="#cb42-725" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-726"><a href="#cb42-726" aria-hidden="true" tabindex="-1"></a><span class="fu">## EXPORT</span></span>
<span id="cb42-727"><a href="#cb42-727" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-728"><a href="#cb42-728" aria-hidden="true" tabindex="-1"></a>Finally, we export the scores for each item (<span class="in">`df_items`</span>) and summarized over subjects (<span class="in">`df_subjects`</span>), as well as cumulative progress dataframes (<span class="in">`df_absolute_progress`</span>, <span class="in">`df_scaled_progress`</span>)</span>
<span id="cb42-729"><a href="#cb42-729" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-732"><a href="#cb42-732" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-733"><a href="#cb42-733" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: EXPORT-SCORES</span></span>
<span id="cb42-734"><a href="#cb42-734" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-735"><a href="#cb42-735" aria-hidden="true" tabindex="-1"></a><span class="co"># #HACK WD FOR LOCAL RUNNING?</span></span>
<span id="cb42-736"><a href="#cb42-736" aria-hidden="true" tabindex="-1"></a><span class="co"># imac = "/Users/amyraefox/Code/SGC-Scaffolding_Graph_Comprehension/SGC-X/ANALYSIS/MAIN"</span></span>
<span id="cb42-737"><a href="#cb42-737" aria-hidden="true" tabindex="-1"></a><span class="co"># # mbp = "/Users/amyfox/Sites/RESEARCH/SGC—Scaffolding Graph Comprehension/SGC-X/ANALYSIS/MAIN"</span></span>
<span id="cb42-738"><a href="#cb42-738" aria-hidden="true" tabindex="-1"></a><span class="co"># setwd(imac)</span></span>
<span id="cb42-739"><a href="#cb42-739" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-740"><a href="#cb42-740" aria-hidden="true" tabindex="-1"></a><span class="co">#SAVE FILES</span></span>
<span id="cb42-741"><a href="#cb42-741" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(df_subjects,<span class="st">"analysis/SGC4A/data/2-scored-data/sgc4a_scored_participants.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb42-742"><a href="#cb42-742" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(df_items,<span class="st">"analysis/SGC4A/data/2-scored-data/sgc4a_scored_items.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb42-743"><a href="#cb42-743" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(df_absolute_progress,<span class="st">"analysis/SGC4A/data/2-scored-data/sgc4a_absolute_progress.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb42-744"><a href="#cb42-744" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(df_scaled_progress,<span class="st">"analysis/SGC4A/data/2-scored-data/sgc4a_scaled_progress.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb42-745"><a href="#cb42-745" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-746"><a href="#cb42-746" aria-hidden="true" tabindex="-1"></a><span class="co">#SAVE R Data Structures </span></span>
<span id="cb42-747"><a href="#cb42-747" aria-hidden="true" tabindex="-1"></a><span class="co">#export R DATA STRUCTURES (include codebook metadata)</span></span>
<span id="cb42-748"><a href="#cb42-748" aria-hidden="true" tabindex="-1"></a>rio<span class="sc">::</span><span class="fu">export</span>(df_subjects, <span class="st">"analysis/SGC4A/data/2-scored-data/sgc4a_scored_participants.rds"</span>) <span class="co"># to R data structure file</span></span>
<span id="cb42-749"><a href="#cb42-749" aria-hidden="true" tabindex="-1"></a>rio<span class="sc">::</span><span class="fu">export</span>(df_items, <span class="st">"analysis/SGC4A/data/2-scored-data/sgc4a_scored_items.rds"</span>) <span class="co"># to R data structure file</span></span>
<span id="cb42-750"><a href="#cb42-750" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-751"><a href="#cb42-751" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-752"><a href="#cb42-752" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-753"><a href="#cb42-753" aria-hidden="true" tabindex="-1"></a><span class="fu">## RESOURCES</span></span>
<span id="cb42-754"><a href="#cb42-754" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-757"><a href="#cb42-757" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-758"><a href="#cb42-758" aria-hidden="true" tabindex="-1"></a><span class="fu">sessionInfo</span>()</span>
<span id="cb42-759"><a href="#cb42-759" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>