<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-0.9.328">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>SGC-X - 19&nbsp; Hypothesis Testing</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<link href="../../analysis/SGC4C/1_sgc4C_introduction.html" rel="next">
<link href="../../analysis/SGC4B/2_sgc4B_scoring.html" rel="prev">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link id="quarto-text-highlighting-styles" href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script src="../../site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="../../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Hypothesis Testing</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../../">SGC-X</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
    <div class="sidebar-item-container"> 
        <a href="../../index.html" class="sidebar-item-text sidebar-link">MAIN</a>
      <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
        <i class="bi bi-chevron-right ms-2"></i>
      </a>
    </div>
    <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../analysis/utils/scoring.html" class="sidebar-item-text sidebar-link">Scoring Strategy</a>
  </div>
</li>
    </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
    <div class="sidebar-item-container"> 
        <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">SGC2</a>
      <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
        <i class="bi bi-chevron-right ms-2"></i>
      </a>
    </div>
    <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../analysis/SGC2/1_sgc2_introduction.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../analysis/SGC2/3_sgc2_description.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Description</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../analysis/SGC2/4_sgc2_hypotesting.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Hypothesis Testing</span></a>
  </div>
</li>
    </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
    <div class="sidebar-item-container"> 
        <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">SGC3A</a>
      <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
        <i class="bi bi-chevron-right ms-2"></i>
      </a>
    </div>
    <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../analysis/SGC3A/1_sgc3A_introduction.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../analysis/SGC3A/2_sgc3A_scoring.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Response Scoring</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../analysis/SGC3A/3_sgc3A_description.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Description</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../analysis/SGC3A/4_sgc3A_lab_hypotesting.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">SGC3A (Lab) Hypothesis Testing</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../analysis/SGC3A/4_sgc3A_replication_hypotesting.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">SGC3A (Replication) Hypothesis Testing</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../analysis/SGC3A/4_sgc3A_ospan_hypotesting.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">SGC3 (OSPAN) Hypothesis Testing</span></a>
  </div>
</li>
    </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
    <div class="sidebar-item-container"> 
        <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">SGC3B</a>
      <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
        <i class="bi bi-chevron-right ms-2"></i>
      </a>
    </div>
    <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../analysis/SGC3B/1_sgc3B_introduction.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../analysis/SGC3B/2_sgc3B_scoring.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Response Scoring</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../analysis/SGC3B/4_sgc3B_hypotesting.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">SGC3B (Impasse * Explicit) Hypothesis Testing</span></a>
  </div>
</li>
    </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
    <div class="sidebar-item-container"> 
        <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">SGC4A</a>
      <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
        <i class="bi bi-chevron-right ms-2"></i>
      </a>
    </div>
    <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../analysis/SGC4A/1_sgc4A_introduction.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../analysis/SGC4A/2_sgc4A_scoring.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Response Scoring</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../analysis/SGC4A/3_sgc4A_description.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Description</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../analysis/SGC4A/4_sgc4A_hypotesting.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Hypothesis Testing</span></a>
  </div>
</li>
    </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
    <div class="sidebar-item-container"> 
        <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">SGC4B</a>
      <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">
        <i class="bi bi-chevron-right ms-2"></i>
      </a>
    </div>
    <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../analysis/SGC4B/1_sgc4B_introduction.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../analysis/SGC4B/2_sgc4B_scoring.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Response Scoring</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../analysis/SGC4B/4_sgc4B_hypotesting.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Hypothesis Testing</span></a>
  </div>
</li>
    </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
    <div class="sidebar-item-container"> 
        <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true">SGC4C</a>
      <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true">
        <i class="bi bi-chevron-right ms-2"></i>
      </a>
    </div>
    <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../analysis/SGC4C/1_sgc4C_introduction.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../analysis/SGC4C/2_sgc4C_scoring.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Response Scoring</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../analysis/SGC4C/4_sgc4C_hypotesting.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Hypothesis Testing</span></a>
  </div>
</li>
    </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
    <div class="sidebar-item-container"> 
        <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="true">SGC4D</a>
      <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="true">
        <i class="bi bi-chevron-right ms-2"></i>
      </a>
    </div>
    <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">  
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../analysis/SGC4D/1_sgc4D_introduction.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../analysis/SGC4D/2_sgc4D_scoring.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Response Scoring</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../analysis/SGC4D/4_sgc4D_hypotesting.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Hypothesis Testing</span></a>
  </div>
</li>
    </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#sample" id="toc-sample" class="nav-link active" data-scroll-target="#sample">SAMPLE</a>
  <ul class="collapse">
  <li><a href="#data-collection" id="toc-data-collection" class="nav-link" data-scroll-target="#data-collection">Data Collection</a></li>
  <li><a href="#participants" id="toc-participants" class="nav-link" data-scroll-target="#participants">Participants</a></li>
  </ul></li>
  <li><a href="#h1-overall-task-accuracy" id="toc-h1-overall-task-accuracy" class="nav-link" data-scroll-target="#h1-overall-task-accuracy">H1 — OVERALL TASK ACCURACY</a>
  <ul class="collapse">
  <li><a href="#setup" id="toc-setup" class="nav-link" data-scroll-target="#setup">Setup</a></li>
  <li><a href="#visualize" id="toc-visualize" class="nav-link" data-scroll-target="#visualize">Visualize</a></li>
  <li><a href="#present" id="toc-present" class="nav-link" data-scroll-target="#present">Present</a></li>
  <li><a href="#describe" id="toc-describe" class="nav-link" data-scroll-target="#describe">Describe</a></li>
  <li><a href="#tests" id="toc-tests" class="nav-link" data-scroll-target="#tests">TESTS</a>
  <ul class="collapse">
  <li><a href="#aligned-ranks-transformation" id="toc-aligned-ranks-transformation" class="nav-link" data-scroll-target="#aligned-ranks-transformation">Aligned Ranks Transformation</a></li>
  <li><a href="#kruskal-wallis-test" id="toc-kruskal-wallis-test" class="nav-link" data-scroll-target="#kruskal-wallis-test">Kruskal Wallis Test</a></li>
  <li><a href="#visualize-1" id="toc-visualize-1" class="nav-link" data-scroll-target="#visualize-1">Visualize</a></li>
  </ul></li>
  <li><a href="#mixed-logistic-regression" id="toc-mixed-logistic-regression" class="nav-link" data-scroll-target="#mixed-logistic-regression">MIXED LOGISTIC REGRESSION</a>
  <ul class="collapse">
  <li><a href="#fit-model" id="toc-fit-model" class="nav-link" data-scroll-target="#fit-model">Fit Model</a></li>
  <li><a href="#describe-1" id="toc-describe-1" class="nav-link" data-scroll-target="#describe-1">Describe</a></li>
  <li><a href="#inference" id="toc-inference" class="nav-link" data-scroll-target="#inference">Inference</a></li>
  <li><a href="#visualize-2" id="toc-visualize-2" class="nav-link" data-scroll-target="#visualize-2">Visualize</a></li>
  <li><a href="#marginal-effects" id="toc-marginal-effects" class="nav-link" data-scroll-target="#marginal-effects">Marginal Effects</a></li>
  <li><a href="#present-1" id="toc-present-1" class="nav-link" data-scroll-target="#present-1">Present</a></li>
  <li><a href="#print" id="toc-print" class="nav-link" data-scroll-target="#print">Print</a></li>
  <li><a href="#diagnostics" id="toc-diagnostics" class="nav-link" data-scroll-target="#diagnostics">Diagnostics</a></li>
  <li><a href="#bayesian" id="toc-bayesian" class="nav-link" data-scroll-target="#bayesian">BAYESIAN</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#h1a-overall-interpretation-state" id="toc-h1a-overall-interpretation-state" class="nav-link" data-scroll-target="#h1a-overall-interpretation-state">H1A | OVERALL INTERPRETATION STATE</a>
  <ul class="collapse">
  <li><a href="#setup-1" id="toc-setup-1" class="nav-link" data-scroll-target="#setup-1">Setup</a></li>
  <li><a href="#mixed-multinomial-regression" id="toc-mixed-multinomial-regression" class="nav-link" data-scroll-target="#mixed-multinomial-regression">MIXED MULTINOMIAL REGRESSION</a>
  <ul class="collapse">
  <li><a href="#fit-model-brms" id="toc-fit-model-brms" class="nav-link" data-scroll-target="#fit-model-brms">Fit Model [brms]</a></li>
  <li><a href="#describe-2" id="toc-describe-2" class="nav-link" data-scroll-target="#describe-2">Describe</a></li>
  <li><a href="#todo-inference" id="toc-todo-inference" class="nav-link" data-scroll-target="#todo-inference">TODO INFERENCE</a></li>
  <li><a href="#print-1" id="toc-print-1" class="nav-link" data-scroll-target="#print-1">Print</a></li>
  <li><a href="#visualize-3" id="toc-visualize-3" class="nav-link" data-scroll-target="#visualize-3">Visualize</a></li>
  <li><a href="#compare" id="toc-compare" class="nav-link" data-scroll-target="#compare">COMPARE</a></li>
  <li><a href="#diagnostics-1" id="toc-diagnostics-1" class="nav-link" data-scroll-target="#diagnostics-1">Diagnostics</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title"><span id="sec-SGC4B-hypotesting" class="quarto-section-identifier d-none d-lg-block"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Hypothesis Testing</span></span></h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
<p class="subtitle lead">Study SGC4B | Hypothesis Testing</p>
</div>





<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<div style="page-break-after: always;"></div>
<p><em>The purpose of this notebook is test the hypotheses that determined the designs of the SGC4B study.</em></p>
<div class="cell">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#UTILITIES</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Hmisc) <span class="co"># %nin% operator</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom) <span class="co">#tidy model output</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom.mixed) <span class="co">#tidy model output</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mosaic) <span class="co">#favstats</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co"># library(modelr)</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(distributional)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co"># library(jtools)</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co"># library(pwr) #power analysis</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="co">#VISUALIZATION</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="co"># library(ggpubr) #arrange plots</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="co"># library(cowplot) #arrange shift function plots</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggformula) <span class="co">#easy graphs</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="co"># # library(vcd) #mosaic plots</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="co"># # library(vcdExtra) #mosaic plots</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra) <span class="co">#printing tables</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sjPlot) <span class="co">#visualize model coefficients</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggdist) <span class="co">#uncertainty viz</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gghalves) <span class="co"># plots. in half</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggbeeswarm) <span class="co"># violin plot stuffs</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(statsExpressions)</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggstatsplot) <span class="co">#plots with stats</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(modelsummary) <span class="co">#latex tables for models!</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a><span class="co">#MODELLING</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ARTool) <span class="co">#nonparametric anova</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a><span class="co"># library(rstatix) #helpful testing functions incl wilcoxon, etc</span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(insight)</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(report) <span class="co">#easystats reporting</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(see) <span class="co">#easystats visualization</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(performance) <span class="co">#easystats model diagnostics</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(parameters) <span class="co">#easystats model summary and vis</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a><span class="co"># library(qqplotr) #confint on qq plot</span></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a><span class="co"># library(gmodels) #contingency table and CHISQR</span></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a><span class="co"># library(equatiomatic) #extract model equation</span></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a><span class="co"># library(pscl) #zeroinfl / hurdle models </span></span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lme4) <span class="co">#mixed effects models</span></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lmerTest) <span class="co">#for CIs in glmer</span></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(merTools)</span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a><span class="co"># library(ggeffects) #visualization log regr models</span></span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a><span class="co">#MULTINOMIAL </span></span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(nnet) <span class="co">#multinomial logistic regression [not mixed] #no p values</span></span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mclogit) <span class="co">#frequentist mixed multinomial logistic regression [mblogit] #gives p values</span></span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a><span class="co">#BAYESIAN</span></span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(cmdstanr) <span class="co">#executing stan</span></span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(brms) <span class="co">#bayesian mixed multinomials [+ other bayesian reg models]</span></span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(bayestestR) </span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) <span class="co">#ALL THE THINGS</span></span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a><span class="co">#OUTPUT OPTIONS</span></span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr, <span class="at">warn.conflicts =</span> <span class="cn">FALSE</span>)</span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">dplyr.summarise.inform =</span> <span class="cn">FALSE</span>)</span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">ggplot2.summarise.inform =</span> <span class="cn">FALSE</span>)</span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen=</span><span class="dv">1</span>, <span class="at">digits=</span><span class="dv">3</span>)</span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a><span class="co">#GRAPH THEMEING</span></span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a><span class="co"># theme_set(theme_minimal()) </span></span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a><span class="co"># Custom ggplot theme to make pretty plots</span></span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the font at https://fonts.google.com/specimen/Barlow+Semi+Condensed</span></span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a>theme_clean <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_family =</span> <span class="st">"Barlow Semi Condensed"</span>) <span class="sc">+</span></span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a>          <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">"BarlowSemiCondensed-Bold"</span>),</span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a>          <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">"BarlowSemiCondensed-Medium"</span>),</span>
<span id="cb1-69"><a href="#cb1-69" aria-hidden="true" tabindex="-1"></a>          <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">"BarlowSemiCondensed-Bold"</span>,</span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">1</span>), <span class="at">hjust =</span> <span class="dv">0</span>),</span>
<span id="cb1-71"><a href="#cb1-71" aria-hidden="true" tabindex="-1"></a>          <span class="at">strip.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"grey80"</span>, <span class="at">color =</span> <span class="cn">NA</span>))</span>
<span id="cb1-72"><a href="#cb1-72" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-73"><a href="#cb1-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-74"><a href="#cb1-74" aria-hidden="true" tabindex="-1"></a><span class="fu">set_theme</span>(<span class="at">base =</span> <span class="fu">theme_clean</span>())</span>
<span id="cb1-75"><a href="#cb1-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-76"><a href="#cb1-76" aria-hidden="true" tabindex="-1"></a><span class="do">##IMPORT CUSTOM COLOR PALETTES</span></span>
<span id="cb1-77"><a href="#cb1-77" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"analysis/utils/foxy_palettes.R"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="4_sgc4B_hypotesting_files/figure-html/SETUP-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1234</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">HACK</span><span class="co"> WD FOR LOCAL RUNNING?</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co"># imac = "/Users/amyraefox/Code/SGC-Scaffolding_Graph_Comprehension/SGC-X/ANALYSIS/MAIN"</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co"># mbp = "/Users/amyfox/Sites/RESEARCH/SGC—Scaffolding Graph Comprehension/SGC-X/ANALYSIS/MAIN"</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># setwd(mbp)</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="co">#IMPORT DATA </span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>df_subjects <span class="ot">&lt;-</span> <span class="fu">read_rds</span>(<span class="st">'analysis/SGC4B/data/2-scored-data/sgc4b_scored_participants.rds'</span>)<span class="sc">%&gt;%</span> </span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">task_percent =</span> DV_percent_NABS</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>df_items <span class="ot">&lt;-</span> <span class="fu">read_rds</span>(<span class="st">'analysis/SGC4B/data/2-scored-data/sgc4b_scored_items.rds'</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span> (</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">q =</span> <span class="fu">as.factor</span>(q), </span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">subject =</span> <span class="fu">as.factor</span>(subject),</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">accuracy =</span> <span class="fu">recode_factor</span>(score_niceABS, <span class="st">"0"</span> <span class="ot">=</span><span class="st">"incorrect"</span>,<span class="st">"1"</span><span class="ot">=</span><span class="st">"correct"</span>),</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">pretty_condition =</span> <span class="fu">fct_relevel</span>(pretty_condition,</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>                               <span class="fu">c</span>(<span class="st">"point"</span>,<span class="st">"cross"</span>,<span class="st">"arrow"</span>)),</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">state =</span> <span class="fu">recode_factor</span>(score_SCALED, <span class="co">#for ordinal</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"-1"</span> <span class="ot">=</span> <span class="st">"orthogonal"</span>,</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"-0.5"</span> <span class="ot">=</span> <span class="st">"other"</span>,</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"0"</span> <span class="ot">=</span> <span class="st">"other"</span>,</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"0.5"</span> <span class="ot">=</span> <span class="st">"angular"</span>,</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"1"</span> <span class="ot">=</span> <span class="st">"triangular"</span>),</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">state =</span> <span class="fu">as.ordered</span>(state))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="sample" class="level2">
<h2 class="anchored" data-anchor-id="sample">SAMPLE</h2>
<section id="data-collection" class="level3">
<h3 class="anchored" data-anchor-id="data-collection">Data Collection</h3>
<div class="cell">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>title <span class="ot">=</span> <span class="st">"Participants by Condition and Data Collection Period"</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>cols <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"point"</span>,<span class="st">"cross"</span>,<span class="st">"arrow"</span>,<span class="st">"Total for Period"</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>cont <span class="ot">&lt;-</span> <span class="fu">table</span>(df_subjects<span class="sc">$</span>term, df_subjects<span class="sc">$</span>condition)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>cont <span class="sc">%&gt;%</span> <span class="fu">addmargins</span>() <span class="sc">%&gt;%</span> <span class="fu">kbl</span>(<span class="at">caption =</span> title, <span class="at">col.names =</span> cols) <span class="sc">%&gt;%</span>  <span class="fu">kable_classic</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class=" lightable-classic" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; margin-left: auto; margin-right: auto;">
<caption>Participants by Condition and Data Collection Period</caption>
 <thead>
  <tr>
   <th style="text-align:left;">   </th>
   <th style="text-align:right;"> point </th>
   <th style="text-align:right;"> cross </th>
   <th style="text-align:right;"> arrow </th>
   <th style="text-align:right;"> Total for Period </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> winter22 </td>
   <td style="text-align:right;"> 99 </td>
   <td style="text-align:right;"> 106 </td>
   <td style="text-align:right;"> 96 </td>
   <td style="text-align:right;"> 301 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Sum </td>
   <td style="text-align:right;"> 99 </td>
   <td style="text-align:right;"> 106 </td>
   <td style="text-align:right;"> 96 </td>
   <td style="text-align:right;"> 301 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</section>
<section id="participants" class="level3">
<h3 class="anchored" data-anchor-id="participants">Participants</h3>
<div class="cell">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Describe participants</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>subject.stats <span class="ot">&lt;-</span>df_subjects <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(age) <span class="sc">%&gt;%</span> <span class="fu">unlist</span>() <span class="sc">%&gt;%</span> <span class="fu">favstats</span>()</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>subject.stats<span class="sc">$</span>percent.male <span class="ot">&lt;-</span> ((df_subjects <span class="sc">%&gt;%</span> <span class="fu">filter</span>(gender<span class="sc">==</span><span class="st">"Male"</span>) <span class="sc">%&gt;%</span> <span class="fu">count</span>())<span class="sc">/</span><span class="fu">count</span>(df_subjects))<span class="sc">$</span>n</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>subject.stats<span class="sc">$</span>percent.female <span class="ot">&lt;-</span> ((df_subjects <span class="sc">%&gt;%</span> <span class="fu">filter</span>(gender<span class="sc">==</span><span class="st">"Female"</span>) <span class="sc">%&gt;%</span> <span class="fu">count</span>())<span class="sc">/</span><span class="fu">count</span>(df_subjects))<span class="sc">$</span>n</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>subject.stats<span class="sc">$</span>percent.other <span class="ot">&lt;-</span> ((df_subjects <span class="sc">%&gt;%</span> <span class="fu">filter</span>(gender <span class="sc">%nin%</span> <span class="fu">c</span>(<span class="st">"Female"</span>,<span class="st">"Male"</span>)) <span class="sc">%&gt;%</span> <span class="fu">count</span>())<span class="sc">/</span><span class="fu">count</span>(df_subjects))<span class="sc">$</span>n</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>title <span class="ot">=</span> <span class="st">"Descriptive Statistics of Participant Age and Gender"</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>subject.stats <span class="sc">%&gt;%</span> <span class="fu">kbl</span> (<span class="at">caption =</span> title) <span class="sc">%&gt;%</span> <span class="fu">kable_classic</span>()<span class="sc">%&gt;%</span> </span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">footnote</span>(<span class="at">general =</span> <span class="st">"Age in Years"</span>, </span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>           <span class="at">general_title =</span> <span class="st">"Note: "</span>,<span class="at">footnote_as_chunk =</span> T) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class=" lightable-classic" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; margin-left: auto; margin-right: auto;border-bottom: 0;">
<caption>Descriptive Statistics of Participant Age and Gender</caption>
 <thead>
  <tr>
   <th style="text-align:left;">   </th>
   <th style="text-align:right;"> min </th>
   <th style="text-align:right;"> Q1 </th>
   <th style="text-align:right;"> median </th>
   <th style="text-align:right;"> Q3 </th>
   <th style="text-align:right;"> max </th>
   <th style="text-align:right;"> mean </th>
   <th style="text-align:right;"> sd </th>
   <th style="text-align:right;"> n </th>
   <th style="text-align:right;"> missing </th>
   <th style="text-align:right;"> percent.male </th>
   <th style="text-align:right;"> percent.female </th>
   <th style="text-align:right;"> percent.other </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;">  </td>
   <td style="text-align:right;"> 12 </td>
   <td style="text-align:right;"> 19 </td>
   <td style="text-align:right;"> 20 </td>
   <td style="text-align:right;"> 21 </td>
   <td style="text-align:right;"> 30 </td>
   <td style="text-align:right;"> 20.3 </td>
   <td style="text-align:right;"> 1.74 </td>
   <td style="text-align:right;"> 301 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0.355 </td>
   <td style="text-align:right;"> 0.628 </td>
   <td style="text-align:right;"> 0.017 </td>
  </tr>
</tbody>
<tfoot><tr><td style="padding: 0; " colspan="100%">
<span style="font-style: italic;">Note: </span> <sup></sup> Age in Years</td></tr></tfoot>
</table>

</div>
</div>
<p><strong>Reported</strong></p>
<p><strong>Overall</strong> 301 participants (36 % male, 63 % female, 2 % other) undergraduate STEM majors at a public American University participated in exchange for course credit (age: 12 - 30 years).</p>
</section>
</section>
<section id="h1-overall-task-accuracy" class="level2">
<h2 class="anchored" data-anchor-id="h1-overall-task-accuracy">H1 — OVERALL TASK ACCURACY</h2>
<section id="setup" class="level4">
<h4 class="anchored" data-anchor-id="setup">Setup</h4>
<div class="cell">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>df_s <span class="ot">&lt;-</span> df_subjects <span class="sc">%&gt;%</span> </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>   dplyr<span class="sc">::</span><span class="fu">select</span>(pretty_condition, task_percent)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>df_i <span class="ot">=</span> df_items <span class="sc">%&gt;%</span> <span class="fu">filter</span>(q <span class="sc">%nin%</span> <span class="fu">c</span>(<span class="dv">6</span>,<span class="dv">9</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(pretty_condition, accuracy, subject,q)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="visualize" class="level4">
<h4 class="anchored" data-anchor-id="visualize">Visualize</h4>
<div class="cell">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co">#:::::::: STACKED PROPORTIONAL BAR CHART</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>df_i <span class="sc">%&gt;%</span> </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">data =</span> .,</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> pretty_condition,</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>                       <span class="at">fill =</span> accuracy)) <span class="sc">+</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"fill"</span> ) <span class="sc">+</span> <span class="co">#,color = "black") +</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Set1"</span>)  <span class="sc">+</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># facet_wrap(~pretty_mode) + </span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>   <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Overall Accuracy"</span>,</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Condition"</span>,</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">""</span>,</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle=</span><span class="st">"The full grid decreases performance"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="4_sgc4B_hypotesting_files/figure-html/DESC-ACC-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">#:::::::: STACKED BAR CHART BY QUESTION</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>df_items <span class="sc">%&gt;%</span> </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">data =</span> .,</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> pretty_condition,</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>                       <span class="at">fill =</span> accuracy)) <span class="sc">+</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"fill"</span> ) <span class="sc">+</span> <span class="co">#,color = "black") +</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Set1"</span>)  <span class="sc">+</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>q) <span class="sc">+</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>   <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Accuracy by Question"</span>,</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Condition"</span>,</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">""</span>,</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle=</span><span class="st">"Q6 and Q9 are non-discriminative"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="4_sgc4B_hypotesting_files/figure-html/DESC-ACC-2.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co">#:::::::: FACETED HISTOGRAM</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>stats <span class="ot">=</span> df_s <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(pretty_condition) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">summarise</span>(<span class="at">mean =</span> <span class="fu">mean</span>(task_percent))</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">gf_props</span>(<span class="sc">~</span>task_percent,</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">fill =</span> <span class="sc">~</span>pretty_condition, <span class="at">data =</span> df_s) <span class="sc">%&gt;%</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># gf_facet_grid(pretty_condition ~ pretty_mode) %&gt;%</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gf_facet_grid</span>(<span class="sc">~</span>pretty_condition) <span class="sc">%&gt;%</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gf_vline</span>(<span class="at">data =</span> stats, <span class="at">xintercept =</span> <span class="sc">~</span>mean, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"% Correct"</span>,</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"proportion of subjects"</span>,</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Overall Absolute Score (% Correct)"</span>,</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">""</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"blank"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="4_sgc4B_hypotesting_files/figure-html/DESC-ACC-3.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="present" class="level4">
<h4 class="anchored" data-anchor-id="present">Present</h4>
<div class="cell">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">#:::::::: RAINCLOUD WITH STATS</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df_s <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">task_percent =</span> task_percent<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>                      <span class="at">condition =</span> <span class="fu">fct_rev</span>(pretty_condition))</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span>   <span class="fu">ggbetweenstats</span>(<span class="at">data =</span> df, <span class="at">x =</span> condition, <span class="at">y =</span> task_percent,</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>               <span class="at">plot.type =</span> <span class="st">"box"</span>, </span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>               <span class="co"># centrality.type = "parametric",</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>               <span class="at">results.subtitle =</span> <span class="cn">FALSE</span>,</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>               <span class="at">subtitle =</span> <span class="cn">NULL</span>,</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>               <span class="co"># package = "RColorBrewer",</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>               <span class="co"># palette = "PRGn",</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>               <span class="at">centrality.point.args =</span> <span class="fu">list</span>(<span class="at">color=</span><span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">shape =</span> <span class="dv">1</span>),</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>               <span class="at">point.args =</span> <span class="fu">list</span>(<span class="at">alpha=</span><span class="dv">0</span>), <span class="co">#suppress points</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>               <span class="at">ggplot.component =</span> <span class="do">## modify further with `{ggplot2}` functions</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>                <span class="fu">list</span>(</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># aes(color = pretty_condition, fill = pretty_condition),</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># scale_colour_manual(values = paletteer::paletteer_c("viridis::viridis", 3)),</span></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># scale_fill_manual(values = paletteer::paletteer_c("viridis::viridis", 3)),</span></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>)))</span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>               ) <span class="sc">+</span></span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>  <span class="co"># ggdist::stat_halfeye(</span></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   alpha = 0.7, </span></span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   point_colour = NA,</span></span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   adjust = .5, </span></span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   width = .5, .width = 0, </span></span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   justification = -.5) +</span></span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(</span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.1</span>,</span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">width =</span> .<span class="dv">2</span>, </span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">outlier.shape =</span> <span class="cn">NA</span></span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">2</span>,</span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> .<span class="dv">5</span>,</span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">position =</span> <span class="fu">position_jitter</span>(</span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a>      <span class="at">seed =</span> <span class="dv">1</span>, <span class="at">width =</span> .<span class="dv">08</span>, <span class="at">height =</span> <span class="fl">1.5</span></span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a>  )  <span class="sc">+</span></span>
<span id="cb10-40"><a href="#cb10-40" aria-hidden="true" tabindex="-1"></a><span class="fu">coord_flip</span>() <span class="sc">+</span> <span class="fu">theme_clean</span>() <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"blank"</span>)</span>
<span id="cb10-41"><a href="#cb10-41" aria-hidden="true" tabindex="-1"></a>p<span class="sc">$</span>layers[[<span class="dv">3</span>]]<span class="ot">=</span><span class="cn">NULL</span> <span class="co">#remove default boxplot</span></span>
<span id="cb10-42"><a href="#cb10-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-43"><a href="#cb10-43" aria-hidden="true" tabindex="-1"></a><span class="co"># e &lt;- statsExpressions::two_sample_test(y = task_percent, x = pretty_condition, data = df,</span></span>
<span id="cb10-44"><a href="#cb10-44" aria-hidden="true" tabindex="-1"></a>                                <span class="co"># type = "nonparametric", alternative = "less",</span></span>
<span id="cb10-45"><a href="#cb10-45" aria-hidden="true" tabindex="-1"></a>                                <span class="co"># var.equal = FALSE)</span></span>
<span id="cb10-46"><a href="#cb10-46" aria-hidden="true" tabindex="-1"></a><span class="co">#labels are layer 4</span></span>
<span id="cb10-47"><a href="#cb10-47" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"STUDY 4B | Distribution of Total Score"</span>,</span>
<span id="cb10-48"><a href="#cb10-48" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Percentage of correct responses across task"</span>, <span class="at">x =</span> <span class="st">""</span>,</span>
<span id="cb10-49"><a href="#cb10-49" aria-hidden="true" tabindex="-1"></a>         <span class="at">subtitle =</span> <span class="st">"Impasse condition yields greater variance and more high scores"</span>)</span>
<span id="cb10-50"><a href="#cb10-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-51"><a href="#cb10-51" aria-hidden="true" tabindex="-1"></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="4_sgc4B_hypotesting_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ggsave(p, filename = "figures/SGC4B_MARKS_totalscore.png", width = 6, height =4)</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ggsave(p, filename = "figures/SGC3A_LAB_totalscore.svg", width = 6, height =4)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co">#:::::::: LABELLED </span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co"># temp &lt;- df_i %&gt;% mutate(</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   accuracy = fct_rev(accuracy)</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="co"># )  </span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="co"># p &lt;-  </span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="co"># ggbarstats(data = temp, x = accuracy, y = pretty_condition,</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="co">#                results.subtitle = FALSE,</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="co">#                ggplot.component = ## modify further with `{ggplot2}` functions</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a><span class="co">#                 list(</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a><span class="co">#                   scale_fill_foxy(discrete = TRUE, "accuracy")</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a><span class="co">#                   # scale_fill_manual(values = paletteer::paletteer_d("lisa::FridaKahlo", 2))</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a><span class="co">#                   # scale_fill_manual(values = paletteer::paletteer_d("lisa::FridaKahlo", 2))</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a><span class="co">#                   # theme(axis.text.x = element_text(angle = 90)))</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a><span class="co">#                ))  + theme_clean() + theme(legend.position = "bottom")</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a><span class="co"># p &lt;- p + labs(title = "DISTRIBUTION | Question Accuracy",</span></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a><span class="co">#          y = "Proportion of Questions", x = "Condition",</span></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a><span class="co">#          subtitle = "")</span></span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a><span class="co"># p </span></span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> df_i <span class="sc">%&gt;%</span> </span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">data =</span> .,</span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a>         <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> pretty_condition,</span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a>                       <span class="at">fill =</span> accuracy)) <span class="sc">+</span></span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"fill"</span>, <span class="at">width =</span> <span class="fl">0.5</span> ) <span class="sc">+</span> <span class="co">#,color = "black") +</span></span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_foxy</span>(<span class="at">discrete =</span> <span class="cn">TRUE</span>, <span class="st">"accuracy"</span>)  <span class="sc">+</span></span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a>  <span class="co"># scale_fill_manual(values = paletteer::paletteer_d("lisa::FridaKahlo", 2))+</span></span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a>  <span class="co"># facet_wrap(~pretty_mode) + </span></span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a>  <span class="co"># coord_flip() +</span></span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">"bottom"</span>)<span class="sc">+</span></span>
<span id="cb12-35"><a href="#cb12-35" aria-hidden="true" tabindex="-1"></a>   <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"DISTRIBUTION | Question Accuracy"</span>,</span>
<span id="cb12-36"><a href="#cb12-36" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Condition"</span>,</span>
<span id="cb12-37"><a href="#cb12-37" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Proportion of Questions"</span>,</span>
<span id="cb12-38"><a href="#cb12-38" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">""</span>,</span>
<span id="cb12-39"><a href="#cb12-39" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle=</span><span class="st">""</span>)</span>
<span id="cb12-40"><a href="#cb12-40" aria-hidden="true" tabindex="-1"></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="4_sgc4B_hypotesting_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ggsave(p, filename = "figures/SGC4B_MARKS_accuracy.png", width = 6, height =4)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="describe" class="level4">
<h4 class="anchored" data-anchor-id="describe">Describe</h4>
<div class="cell">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>title <span class="ot">=</span> <span class="st">"Descriptive Statistics of Response Accuracy (Total % Correct)"</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>tbl1 <span class="ot">&lt;-</span> mosaic<span class="sc">::</span><span class="fu">favstats</span>(<span class="sc">~</span>task_percent, <span class="at">data =</span> df_s) </span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>tbl1 <span class="sc">%&gt;%</span> <span class="fu">kbl</span> (<span class="at">caption =</span> title) <span class="sc">%&gt;%</span> <span class="fu">kable_classic</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class=" lightable-classic" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; margin-left: auto; margin-right: auto;">
<caption>Descriptive Statistics of Response Accuracy (Total % Correct)</caption>
 <thead>
  <tr>
   <th style="text-align:left;">   </th>
   <th style="text-align:right;"> min </th>
   <th style="text-align:right;"> Q1 </th>
   <th style="text-align:right;"> median </th>
   <th style="text-align:right;"> Q3 </th>
   <th style="text-align:right;"> max </th>
   <th style="text-align:right;"> mean </th>
   <th style="text-align:right;"> sd </th>
   <th style="text-align:right;"> n </th>
   <th style="text-align:right;"> missing </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;">  </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0.154 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0.205 </td>
   <td style="text-align:right;"> 0.333 </td>
   <td style="text-align:right;"> 301 </td>
   <td style="text-align:right;"> 0 </td>
  </tr>
</tbody>
</table>

</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>title <span class="ot">=</span> <span class="st">"Descriptive Statistics of Response Accuracy (Total % Correct) BY CONDITION"</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>tbl2 <span class="ot">&lt;-</span> mosaic<span class="sc">::</span><span class="fu">favstats</span>(task_percent <span class="sc">~</span> pretty_condition, <span class="at">data =</span> df_s) </span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>tbl2 <span class="sc">%&gt;%</span> <span class="fu">kbl</span> (<span class="at">caption =</span> title) <span class="sc">%&gt;%</span> <span class="fu">kable_classic</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class=" lightable-classic" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; margin-left: auto; margin-right: auto;">
<caption>Descriptive Statistics of Response Accuracy (Total % Correct) BY CONDITION</caption>
 <thead>
  <tr>
   <th style="text-align:left;"> pretty_condition </th>
   <th style="text-align:right;"> min </th>
   <th style="text-align:right;"> Q1 </th>
   <th style="text-align:right;"> median </th>
   <th style="text-align:right;"> Q3 </th>
   <th style="text-align:right;"> max </th>
   <th style="text-align:right;"> mean </th>
   <th style="text-align:right;"> sd </th>
   <th style="text-align:right;"> n </th>
   <th style="text-align:right;"> missing </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> point </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0.000 </td>
   <td style="text-align:right;"> 0.077 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0.148 </td>
   <td style="text-align:right;"> 0.295 </td>
   <td style="text-align:right;"> 99 </td>
   <td style="text-align:right;"> 0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> cross </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0.000 </td>
   <td style="text-align:right;"> 0.154 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0.190 </td>
   <td style="text-align:right;"> 0.317 </td>
   <td style="text-align:right;"> 96 </td>
   <td style="text-align:right;"> 0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> arrow </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0.077 </td>
   <td style="text-align:right;"> 0.519 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0.273 </td>
   <td style="text-align:right;"> 0.368 </td>
   <td style="text-align:right;"> 106 </td>
   <td style="text-align:right;"> 0 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<p><strong>REPORTED</strong></p>
<p>Across all conditions, overall accuracy on the task ranges from 0 to 100 with a mean of 20.547.</p>
<p>To explore the effect of on TM graph reading performance, we start by describing the distribution of . Across all conditions, ranged from 0 to 100 with a mean of 21%. In Figure <span class="math inline">\(\ref{fig_4B_MARKS_totalscore}\)</span> we see that participant level accuracy on the interval graph comprehension task is low (less than 50%) consistent with prior studies, but that the average score (and variance in the distribution) are slightly higher for the and conditions.</p>
</section>
<section id="tests" class="level4">
<h4 class="anchored" data-anchor-id="tests">TESTS</h4>
<section id="aligned-ranks-transformation" class="level5">
<h5 class="anchored" data-anchor-id="aligned-ranks-transformation">Aligned Ranks Transformation</h5>
<!-- https://rcompanion.org/handbook/F_16.html -->
<div class="cell">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>m.art <span class="ot">=</span> <span class="fu">art</span>(task_percent <span class="sc">~</span> pretty_condition, <span class="at">data =</span> df_s)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">anova</span>(m.art)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Analysis of Variance of Aligned Rank Transformed Data

Table Type: Anova Table (Type III tests) 
Model: No Repeated Measures (lm)
Response: art(task_percent)

                   Df Df.res F value Pr(&gt;F)   
1 pretty_condition  2    298  5.4686  0.005 **
---
Signif. codes:   0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 </code></pre>
</div>
</div>
</section>
<section id="kruskal-wallis-test" class="level5">
<h5 class="anchored" data-anchor-id="kruskal-wallis-test">Kruskal Wallis Test</h5>
<div class="cell">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>(k <span class="ot">&lt;-</span> <span class="fu">kruskal.test</span>(df_s<span class="sc">$</span>task_percent <span class="sc">~</span> df_s<span class="sc">$</span>pretty_condition))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
    Kruskal-Wallis rank sum test

data:  df_s$task_percent by df_s$pretty_condition
Kruskal-Wallis chi-squared = 11, df = 2, p-value = 0.005</code></pre>
</div>
</div>
</section>
<section id="visualize-1" class="level5">
<h5 class="anchored" data-anchor-id="visualize-1">Visualize</h5>
<div class="cell">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>(results <span class="ot">&lt;-</span> statsExpressions<span class="sc">::</span><span class="fu">oneway_anova</span>(<span class="at">data =</span> df_s, </span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>          <span class="at">x =</span> pretty_condition, <span class="at">y =</span> task_percent,</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">type =</span> <span class="st">"nonparametric"</span>, <span class="at">alternative =</span> <span class="st">"less"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 15
  parameter1   parameter2  statistic df.error p.value method effectsize estimate
  &lt;chr&gt;        &lt;chr&gt;           &lt;dbl&gt;    &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;         &lt;dbl&gt;
1 task_percent pretty_con…      10.6        2 0.00494 Krusk… Epsilon2 …   0.0354
# … with 7 more variables: conf.level &lt;dbl&gt;, conf.low &lt;dbl&gt;, conf.high &lt;dbl&gt;,
#   conf.method &lt;chr&gt;, conf.iterations &lt;int&gt;, n.obs &lt;int&gt;, expression &lt;list&gt;</code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co">#:::::::: STATSPLOT | VIOLIN</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggbetweenstats</span>(<span class="at">y =</span> task_percent, <span class="at">x =</span> pretty_condition, </span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">data =</span> df_s, <span class="at">type =</span> <span class="st">"nonparametric"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="4_sgc4B_hypotesting_files/figure-html/TEST-VIZ-ACC-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="mixed-logistic-regression" class="level4">
<h4 class="anchored" data-anchor-id="mixed-logistic-regression">MIXED LOGISTIC REGRESSION</h4>
<p><em>Fit a mixed logistic regression (at the item level), predicting accuracy (absolute score) on all discriminating questions by condition; accounting for random effects of subject and item.</em></p>
<section id="fit-model" class="level5">
<h5 class="anchored" data-anchor-id="fit-model">Fit Model</h5>
<div class="cell">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="do">## 0 | SETUP</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="co">#confirm 13 items [all discriminating items]</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(df_i) <span class="sc">/</span> <span class="fu">nrow</span>(df_s) <span class="sc">==</span> <span class="dv">13</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co">#confirm all factors </span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">is.factor</span>(df_i<span class="sc">$</span>q) <span class="sc">&amp;&amp;</span> <span class="fu">is.factor</span>(df_i<span class="sc">$</span>subject) <span class="sc">&amp;&amp;</span> <span class="fu">is.factor</span>(df_i<span class="sc">$</span>pretty_condition) <span class="sc">&amp;&amp;</span> <span class="fu">is.factor</span>(df_i<span class="sc">$</span>accuracy)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="do">## 1 | SETUP RANDOM INTERCEPT SUBJECT</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="co">#:: EMPTY MODEL (baseline, no random effect)</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"Empty fixed model"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Empty fixed model"</code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>m0 <span class="ot">=</span> <span class="fu">glm</span>(accuracy <span class="sc">~</span> <span class="dv">1</span>, <span class="at">family =</span> <span class="st">"binomial"</span>, <span class="at">data =</span> df_i) </span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="co"># summary(m0)</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="co">#:: RANDOM INTERCEPT SUBJECT + ITEM</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"Subject Intercept + Item intercept random model"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Subject Intercept + Item intercept random model"</code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>mm.rSQ <span class="ot">&lt;-</span> <span class="fu">glmer</span>(accuracy <span class="sc">~</span> (<span class="dv">1</span><span class="sc">|</span>subject) <span class="sc">+</span> (<span class="dv">1</span><span class="sc">|</span>q), <span class="at">data =</span> df_i, <span class="at">family =</span> <span class="st">"binomial"</span>,</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>                <span class="at">control =</span> <span class="fu">glmerControl</span>(<span class="at">optimizer=</span><span class="st">"bobyqa"</span>, <span class="at">optCtrl=</span><span class="fu">list</span>(<span class="at">maxfun=</span><span class="fl">2e5</span>)))</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="co">#summary(mm.rSQ)</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 2 | ADD FIXED EFFECT CONDITION</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"FIXED Condition + Subject &amp; Item random intercepts"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "FIXED Condition + Subject &amp; Item random intercepts"</code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>mm.CrSQ <span class="ot">&lt;-</span> <span class="fu">glmer</span>(accuracy <span class="sc">~</span> pretty_condition <span class="sc">+</span> (<span class="dv">1</span><span class="sc">|</span>subject) <span class="sc">+</span> (<span class="dv">1</span><span class="sc">|</span>q) ,</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> df_i, <span class="at">family =</span> binomial,</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">control =</span> <span class="fu">glmerControl</span>(<span class="at">optimizer=</span><span class="st">"bobyqa"</span>, <span class="at">optCtrl=</span><span class="fu">list</span>(<span class="at">maxfun=</span><span class="fl">2e5</span>)))</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="co"># summary(mm.CrSQ)</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="co"># car::Anova(mm.CrSQ)</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a><span class="fu">test_lrt</span>(mm.rSQ,mm.CrSQ) <span class="co">#same as anova(m0, m1, test = "Chi")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># Likelihood-Ratio-Test (LRT) for Model Comparison (ML-estimator)

Name    |    Model | df | df_diff |  Chi2 |      p
--------------------------------------------------
mm.rSQ  | glmerMod |  3 |         |       |       
mm.CrSQ | glmerMod |  5 |       2 | 15.09 | &lt; .001</code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">"Likelihood Ratio test is significant? p = "</span>,(<span class="fu">test_lrt</span>(mm.rSQ,mm.CrSQ))<span class="sc">$</span>p[<span class="dv">2</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Likelihood Ratio test is significant? p =  0.000527719053438071"</code></pre>
</div>
</div>
<p><strong>Reported</strong></p>
<p>To explore the effect of marks on accuracy, we fit a mixed effects logistic regression model with random intercepts for subjects and questions, with mark design as a fixed effect. A likelihood ratio test indicates that a model including this main effect is a significantly better fit for the data than an intercepts-only baseline model (<span class="math inline">\(\chi^2 (3,5) = 15.09, p &lt; 0.001\)</span>).</p>
</section>
<section id="describe-1" class="level5">
<h5 class="anchored" data-anchor-id="describe-1">Describe</h5>
<div class="cell">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># best model</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> mm.CrSQ</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>m <span class="sc">%&gt;%</span> <span class="fu">write_rds</span>(<span class="at">file =</span> <span class="st">"analysis/SGC4B/models/sgc4b_glmer_acc_mm.CrSQ.rds"</span>)</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a><span class="co">#::::::::: PRINT MODEL </span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"PREDICTOR MODEL"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "PREDICTOR MODEL"</code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(m)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Generalized linear mixed model fit by maximum likelihood (Laplace
  Approximation) [glmerMod]
 Family: binomial  ( logit )
Formula: accuracy ~ pretty_condition + (1 | subject) + (1 | q)
   Data: df_i
Control: glmerControl(optimizer = "bobyqa", optCtrl = list(maxfun = 200000))

     AIC      BIC   logLik deviance df.resid 
    1857     1888     -923     1847     3908 

Scaled residuals: 
   Min     1Q Median     3Q    Max 
-9.717 -0.149 -0.044 -0.017  5.949 

Random effects:
 Groups  Name        Variance Std.Dev.
 subject (Intercept) 25.71    5.07    
 q       (Intercept)  1.22    1.10    
Number of obs: 3913, groups:  subject, 301; q, 13

Fixed effects:
                      Estimate Std. Error z value Pr(&gt;|z|)    
(Intercept)             -6.794      1.000   -6.79  1.1e-11 ***
pretty_conditioncross    1.549      0.953    1.63   0.1039    
pretty_conditionarrow    3.464      0.978    3.54   0.0004 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Correlation of Fixed Effects:
             (Intr) prtty_cndtnc
prtty_cndtnc -0.575             
prtty_cndtnr -0.752  0.537      </code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"SIGNIFICANCE TEST [non directional]"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "SIGNIFICANCE TEST [non directional]"</code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>car<span class="sc">::</span><span class="fu">Anova</span>(m, <span class="at">type =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Analysis of Deviance Table (Type II Wald chisquare tests)

Response: accuracy
                 Chisq Df Pr(&gt;Chisq)   
pretty_condition  12.7  2     0.0018 **
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co">#:::::::: MANUAL ONE-SIDED SIGTEST </span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="co">#note: anova and chi square are always one-tailed, but that is independent of being one-sided</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="co">#https://www.ibm.com/support/pages/can-one-get-one-tailed-tests-logistic-regression-dividing-significance-levels-half</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a><span class="co"># one-sided (right tail) z test for B COEFFICIENT</span></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a><span class="co">#SANITY CHECK 2-tailed test should match the model output</span></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a><span class="co"># tt &lt;- 2*pnorm(summary(m)$coefficients[2,3], lower.tail = F)</span></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a><span class="co"># paste("p value for two-tailed test, null B = 0 : ",round(tt,5))</span></span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a><span class="co"># ot &lt;- pnorm(summary(m)$coefficients[2,3], lower.tail = F)</span></span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a><span class="co"># paste("BUT we want a one  directional, null: B &lt;= 0: ",round(ot,5))</span></span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a><span class="co">#:::::::: INTERPRET COEFFICIENTS</span></span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">"LOG ODDS"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "LOG ODDS"</code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># se &lt;- sqrt(diag(stats::vcov(m)))</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="co"># (tab &lt;- cbind(Est = fixef(m),</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a><span class="co">#               LL = fixef(m) - 1.96 * se,</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a><span class="co">#               UL = fixef(m) + 1.96 * se))</span></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a><span class="fu">tidy</span>(m,   <span class="at">conf.int =</span> <span class="cn">TRUE</span>, <span class="at">conf.level =</span> <span class="fl">0.95</span>, <span class="at">conf.method =</span> <span class="st">"Wald"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 9
  effect   group term  estimate std.error statistic   p.value conf.low conf.high
  &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt;    &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;
1 fixed    &lt;NA&gt;  (Int…    -6.79     1.00      -6.79  1.11e-11   -8.75      -4.83
2 fixed    &lt;NA&gt;  pret…     1.55     0.953      1.63  1.04e- 1   -0.318      3.42
3 fixed    &lt;NA&gt;  pret…     3.46     0.978      3.54  3.98e- 4    1.55       5.38
4 ran_pars subj… sd__…     5.07    NA         NA    NA          NA         NA   
5 ran_pars q     sd__…     1.10    NA         NA    NA          NA         NA   </code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">"ODDS RATIOS"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "ODDS RATIOS"</code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># (e &lt;- exp(tab))</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tidy</span>(m,   <span class="at">conf.int =</span> <span class="cn">TRUE</span>, <span class="at">conf.level =</span> <span class="fl">0.95</span>, <span class="at">conf.method =</span> <span class="st">"Wald"</span>, <span class="at">exponentiate =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 9
  effect   group term  estimate std.error statistic   p.value conf.low conf.high
  &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt;    &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;
1 fixed    &lt;NA&gt;  (Int…  0.00112   0.00112     -6.79  1.11e-11  1.58e-4   0.00796
2 fixed    &lt;NA&gt;  pret…  4.71      4.49         1.63  1.04e- 1  7.28e-1  30.5    
3 fixed    &lt;NA&gt;  pret… 31.9      31.3          3.54  3.98e- 4  4.70e+0 217.     
4 ran_pars subj… sd__…  5.07     NA           NA    NA        NA        NA      
5 ran_pars q     sd__…  1.10     NA           NA    NA        NA        NA      </code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">"PROBABILITIES"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "PROBABILITIES"</code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co">#probability control = plogis(intercept)</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="co">#probability impasse = plogis(intercept + coefficient)</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a><span class="co">#FROM predict()</span></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a><span class="co"># newdata &lt;- df_i %&gt;% dplyr::select(pretty_condition, subject, q)</span></span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a><span class="co"># preds &lt;- predict(m, newdata = newdata, type = "response")</span></span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a><span class="co"># preds &lt;- cbind(newdata, preds)</span></span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a><span class="co"># p &lt;- preds %&gt;% </span></span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a><span class="co">#   dplyr::select(pretty_condition, preds) %&gt;% </span></span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a><span class="co">#   group_by(pretty_condition) %&gt;% </span></span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a><span class="co">#   summarise(</span></span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a><span class="co">#     median = median(preds),</span></span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a><span class="co">#     se = sd(preds)/sqrt(n()),</span></span>
<span id="cb55-14"><a href="#cb55-14" aria-hidden="true" tabindex="-1"></a><span class="co">#     lwr = median - 1.96*se,</span></span>
<span id="cb55-15"><a href="#cb55-15" aria-hidden="true" tabindex="-1"></a><span class="co">#     upr = median + 1.96*se)</span></span>
<span id="cb55-16"><a href="#cb55-16" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb55-17"><a href="#cb55-17" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb55-18"><a href="#cb55-18" aria-hidden="true" tabindex="-1"></a><span class="co">#FROM merTools</span></span>
<span id="cb55-19"><a href="#cb55-19" aria-hidden="true" tabindex="-1"></a><span class="co">#setup df </span></span>
<span id="cb55-20"><a href="#cb55-20" aria-hidden="true" tabindex="-1"></a>newdata <span class="ot">&lt;-</span> df_i <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(pretty_condition, subject, q)</span>
<span id="cb55-21"><a href="#cb55-21" aria-hidden="true" tabindex="-1"></a><span class="co">#make predictions</span></span>
<span id="cb55-22"><a href="#cb55-22" aria-hidden="true" tabindex="-1"></a>preds <span class="ot">&lt;-</span> <span class="fu">predictInterval</span>(m, <span class="at">newdata =</span> newdata,</span>
<span id="cb55-23"><a href="#cb55-23" aria-hidden="true" tabindex="-1"></a>                              <span class="at">which =</span> <span class="st">"fixed"</span>, <span class="co">#full, fixed or random for those only</span></span>
<span id="cb55-24"><a href="#cb55-24" aria-hidden="true" tabindex="-1"></a>                              <span class="at">type =</span> <span class="st">"probability"</span>, <span class="co">#linear.prediction</span></span>
<span id="cb55-25"><a href="#cb55-25" aria-hidden="true" tabindex="-1"></a>                              <span class="at">stat =</span> <span class="st">"median"</span>,</span>
<span id="cb55-26"><a href="#cb55-26" aria-hidden="true" tabindex="-1"></a>                              <span class="at">n.sims =</span> <span class="dv">1000</span>,</span>
<span id="cb55-27"><a href="#cb55-27" aria-hidden="true" tabindex="-1"></a>                              <span class="at">level =</span> <span class="fl">0.80</span>) <span class="co">#width of prediction interval</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: executing %dopar% sequentially: no parallel backend registered</code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co">#join predictions to the new dataframe</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>preds <span class="ot">&lt;-</span> <span class="fu">cbind</span>(newdata, preds)</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a><span class="co">#summarize</span></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>(summ_preds <span class="ot">&lt;-</span> preds <span class="sc">%&gt;%</span> </span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(pretty_condition, fit, lwr, upr) <span class="sc">%&gt;%</span> </span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pretty_condition) <span class="sc">%&gt;%</span> </span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">median =</span> <span class="fu">median</span>(fit),</span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">lower =</span> <span class="fu">median</span>(lwr),</span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">upper =</span> <span class="fu">median</span>(upr)</span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a>  )) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 4
  pretty_condition  median    lower   upper
  &lt;fct&gt;              &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt;
1 point            0.00116 0.000185 0.00696
2 cross            0.00503 0.000895 0.0277 
3 arrow            0.0359  0.00770  0.150  </code></pre>
</div>
</div>
</section>
<section id="inference" class="level5">
<h5 class="anchored" data-anchor-id="inference">Inference</h5>
<p><strong>Reported</strong></p>
<p>A Wald Chi-Square tests confirms a main effect of mark design (<span class="math inline">\(\chi^2 (2) = 12.7, p &lt; 0.001\)</span>).</p>
<p> Model coefficients indicate that relative to the point mark condition, the arrow mark increases the odds of a correct response (<span class="math inline">\(e^{b_{1[arrow]}} = 31.95, SE = 3.54, p &lt; 0.001\)</span>).</p>
<p> Model coefficients indicate that relative to the point mark condition, the cross mark did not change the odds of a correct response (<span class="math inline">\(e^{b_{1[cross]}} = 4.71, SE = 4.48, p = 0.10\)</span>). Model predictions are visualized in Figure <span class="math inline">\(\ref{fig_4B_accuracy}\)</span> [B], while parameter estimates and model specification is detailed in Appendix <span class="math inline">\(\ref{SGC4B_MARKS_MODEL_accuracy}\)</span>.</p>
</section>
<section id="visualize-2" class="level5">
<h5 class="anchored" data-anchor-id="visualize-2">Visualize</h5>
<div class="cell">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="do">## | PLOT PARAMETERS </span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a><span class="co">#SJPLOT | MODEL | ODDS RATIO</span></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_model</span>(m, <span class="at">vline.color =</span> <span class="st">"red"</span>, </span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">show.intercept =</span> <span class="cn">TRUE</span>, </span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">show.values =</span> <span class="cn">TRUE</span>,</span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>           <span class="at">p.threshold =</span> <span class="fl">0.1</span>, <span class="co">#manually adjust to account for directional test</span></span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a>           <span class="at">ci.lvl =</span> <span class="fl">0.95</span> ) <span class="sc">+</span> <span class="co">#manually adjusted for directional test   </span></span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Model Estimate | Odds Ratio"</span>,</span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">""</span>,</span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Condition"</span>) <span class="co">#why no error bars? problem with model?</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="4_sgc4B_hypotesting_files/figure-html/MODEL-VIS-ACC-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co">#EASYSTATS | MODEL | ODDS RATIO</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">model_parameters</span>(m, <span class="at">exponentiate =</span> <span class="cn">TRUE</span>, <span class="at">component =</span> <span class="st">"all"</span>)</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(result)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="4_sgc4B_hypotesting_files/figure-html/MODEL-VIS-ACC-2.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="do">## | PLOT TESTS</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">equivalence_test</span>(m, <span class="at">rule =</span> <span class="st">"classic"</span>, <span class="at">ci=</span><span class="fl">0.9</span>) <span class="co">#classic[tost], , bayes</span></span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(result)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="4_sgc4B_hypotesting_files/figure-html/MODEL-VIS-ACC-3.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="do">## | PLOT PREDICTIONS</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a><span class="co">#SJPLOT | MODEL | PROBABILITIES</span></span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_model</span>(m, <span class="at">type=</span><span class="st">"eff"</span>,</span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">show.intercept =</span> <span class="cn">TRUE</span>,</span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">show.values =</span> <span class="cn">TRUE</span>,</span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a>           <span class="at">title =</span> <span class="st">"Model Prediction | Probability of Accurate Response"</span>,</span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true" tabindex="-1"></a>           <span class="at">axis.title =</span> <span class="fu">c</span>(<span class="st">"Condition"</span>,<span class="st">"Probability of Accurate Response"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>$pretty_condition</code></pre>
</div>
<div class="cell-output-display">
<p><img src="4_sgc4B_hypotesting_files/figure-html/MODEL-VIS-ACC-4.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="co">#PLOT MODEL PREDICTION</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_model</span>(m, <span class="at">type =</span> <span class="st">"pred"</span>)[[<span class="dv">1</span>]] <span class="sc">+</span></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>,<span class="dv">1</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Scale for 'y' is already present. Adding another scale for 'y', which will
replace the existing scale.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="4_sgc4B_hypotesting_files/figure-html/MODEL-VIS-ACC-5.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># labs(</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   title = "Model Prediction | Probability of Accurate Response",</span></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   subtitle = "Impasse increases Probability of Correct Response"</span></span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># )</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="marginal-effects" class="level5">
<h5 class="anchored" data-anchor-id="marginal-effects">Marginal Effects</h5>
<div class="cell">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="co"># https://cran.r-project.org/web/packages/emmeans/vignettes/interactions.html#simple</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a><span class="co"># https://stats.oarc.ucla.edu/stata/faq/how-can-i-understand-a-categorical-by-categorical-interaction-in-logistic-regression-stata-12/</span></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a><span class="co"># https://stats.oarc.ucla.edu/stata/seminars/deciphering-interactions-in-logistic-regression/</span></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(emmeans)</span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a><span class="co">#sanity check reference grid</span></span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ref_grid</span>(m)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>'emmGrid' object with variables:
    pretty_condition = point, cross, arrow
Transformation: "logit" </code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="co">#PRINT ESTIMATED MARGINAL MEANS</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a><span class="co">#should be same as summ_preds</span></span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a><span class="fu">emmeans</span>(m,  <span class="sc">~</span> pretty_condition, <span class="at">type =</span> <span class="st">"response"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> pretty_condition   prob      SE  df asymp.LCL asymp.UCL
 point            0.0011 0.00112 Inf   0.00016    0.0079
 cross            0.0052 0.00470 Inf   0.00090    0.0299
 arrow            0.0346 0.02327 Inf   0.00904    0.1231

Confidence level used: 0.95 
Intervals are back-transformed from the logit scale </code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="do">##POST-HOC COMPARISONS</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"POSTHOC COMPARISONS"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "POSTHOC COMPARISONS"</code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="fu">emmeans</span>(m,  pairwise <span class="sc">~</span> pretty_condition, </span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>        <span class="at">type =</span> <span class="st">"response"</span> , <span class="at">adjust =</span> <span class="st">"none"</span>) <span class="co">#sidak, tukey</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>$emmeans
 pretty_condition   prob      SE  df asymp.LCL asymp.UCL
 point            0.0011 0.00112 Inf   0.00016    0.0079
 cross            0.0052 0.00470 Inf   0.00090    0.0299
 arrow            0.0346 0.02327 Inf   0.00904    0.1231

Confidence level used: 0.95 
Intervals are back-transformed from the logit scale 

$contrasts
 contrast      odds.ratio     SE  df null z.ratio p.value
 point / cross     0.2124 0.2023 Inf    1  -1.630  0.1039
 point / arrow     0.0313 0.0306 Inf    1  -3.540  0.0004
 cross / arrow     0.1474 0.1370 Inf    1  -2.060  0.0394

Tests are performed on the log odds ratio scale </code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="do">##PLOT INTERACTION</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a><span class="co">#equivalent to plot_model, type = "int"</span></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a><span class="co"># emmip(m, SHAPE * SCALE ,</span></span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a><span class="co">#       type = "response",</span></span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a><span class="co">#       CIs = TRUE,</span></span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a><span class="co">#       linearg = list(linetype = "dashed"),</span></span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a><span class="co">#       engine = "ggplot")</span></span>
<span id="cb75-8"><a href="#cb75-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-9"><a href="#cb75-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-10"><a href="#cb75-10" aria-hidden="true" tabindex="-1"></a><span class="do">##PLOT PROBABILITY</span></span>
<span id="cb75-11"><a href="#cb75-11" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">ref_grid</span>(m), <span class="at">by =</span> <span class="st">"pretty_condition"</span>, <span class="at">type =</span> <span class="st">"response"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="4_sgc4B_hypotesting_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="present-1" class="level5">
<h5 class="anchored" data-anchor-id="present-1">Present</h5>
<div class="cell">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="do">## PLOT INTERACTION / marginals</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggeffects)</span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggpredict</span>(m, <span class="at">terms =</span> <span class="fu">c</span>(<span class="st">"pretty_condition"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>(<span class="at">connect.lines =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># scale_color_manual(values = fct_rev(paletteer::paletteer_d("nbapalettes::bulls")))+</span></span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># scale_color_manual(values = paletteer::paletteer_d("awtools::gpalette",3))+</span></span>
<span id="cb76-8"><a href="#cb76-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># scale_color_manual(values = paletteer::paletteer_d("lisa::FridaKahlo", 3))+</span></span>
<span id="cb76-9"><a href="#cb76-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># scale_colour_manual(values = paletteer::paletteer_c("viridis::viridis", 2)) + </span></span>
<span id="cb76-10"><a href="#cb76-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_clean</span>() <span class="sc">+</span> <span class="fu">labs</span>(</span>
<span id="cb76-11"><a href="#cb76-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">"MODEL | Predicted probability of correct response"</span>,</span>
<span id="cb76-12"><a href="#cb76-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="st">"SCALE"</span></span>
<span id="cb76-13"><a href="#cb76-13" aria-hidden="true" tabindex="-1"></a>)<span class="sc">+</span> </span>
<span id="cb76-14"><a href="#cb76-14" aria-hidden="true" tabindex="-1"></a> <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>))<span class="sc">+</span></span>
<span id="cb76-15"><a href="#cb76-15" aria-hidden="true" tabindex="-1"></a> <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">"bottom"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Scale for 'y' is already present. Adding another scale for 'y', which will
replace the existing scale.</code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="4_sgc4B_hypotesting_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ggsave(p, filename = "figures/SGC4B_MARKS_accuracy_prediction.png", width = 6, height =4)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="print" class="level5">
<h5 class="anchored" data-anchor-id="print">Print</h5>
<div class="cell">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="co">#SJPLOT | MODEL | TABLE</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a><span class="co"># tab_model(m)</span></span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a><span class="co"># #MODEL SUMMARY | save latex table</span></span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-6"><a href="#cb80-6" aria-hidden="true" tabindex="-1"></a><span class="co"># models &lt;- list("odds ratios" = m, "(log odds)" = m)</span></span>
<span id="cb80-7"><a href="#cb80-7" aria-hidden="true" tabindex="-1"></a><span class="co"># title = "Study 4B | Question Accuracy"</span></span>
<span id="cb80-8"><a href="#cb80-8" aria-hidden="true" tabindex="-1"></a><span class="co"># notes = list("* p &lt; 0.05, ** p &lt; 0.01, *** p &lt; 0.001",</span></span>
<span id="cb80-9"><a href="#cb80-9" aria-hidden="true" tabindex="-1"></a><span class="co">#              paste("n = ",n_obs(m), "R^2(Conditional) =", round(r2(m)[[1]],2),</span></span>
<span id="cb80-10"><a href="#cb80-10" aria-hidden="true" tabindex="-1"></a><span class="co">#                    "R^2(Marginal) =", round(r2(m)[[2]],2)),</span></span>
<span id="cb80-11"><a href="#cb80-11" aria-hidden="true" tabindex="-1"></a><span class="co">#              "Accuracy  ~ MARK +  (1 | subject) + (1 | q)")</span></span>
<span id="cb80-12"><a href="#cb80-12" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb80-13"><a href="#cb80-13" aria-hidden="true" tabindex="-1"></a><span class="co"># modelsummary(models,</span></span>
<span id="cb80-14"><a href="#cb80-14" aria-hidden="true" tabindex="-1"></a><span class="co">#              exponentiate = c(TRUE, FALSE),</span></span>
<span id="cb80-15"><a href="#cb80-15" aria-hidden="true" tabindex="-1"></a><span class="co">#              shape = term ~ model + statistic,</span></span>
<span id="cb80-16"><a href="#cb80-16" aria-hidden="true" tabindex="-1"></a><span class="co">#              fmt = 2, #two digits w/ trailing zero</span></span>
<span id="cb80-17"><a href="#cb80-17" aria-hidden="true" tabindex="-1"></a><span class="co">#              estimate  = "{estimate} {stars}",</span></span>
<span id="cb80-18"><a href="#cb80-18" aria-hidden="true" tabindex="-1"></a><span class="co">#              statistic = "conf.int",</span></span>
<span id="cb80-19"><a href="#cb80-19" aria-hidden="true" tabindex="-1"></a><span class="co">#              gof_map = c("AIC", "sigma"),</span></span>
<span id="cb80-20"><a href="#cb80-20" aria-hidden="true" tabindex="-1"></a><span class="co">#              gof_omit = 'RMSE|ICC|BIC',</span></span>
<span id="cb80-21"><a href="#cb80-21" aria-hidden="true" tabindex="-1"></a><span class="co">#              coef_rename = c("pretty_conditioncross" = "MARK[cross]",</span></span>
<span id="cb80-22"><a href="#cb80-22" aria-hidden="true" tabindex="-1"></a><span class="co">#              "pretty_conditionarrow" = "MARK[arrow]"),</span></span>
<span id="cb80-23"><a href="#cb80-23" aria-hidden="true" tabindex="-1"></a><span class="co">#              title = title,</span></span>
<span id="cb80-24"><a href="#cb80-24" aria-hidden="true" tabindex="-1"></a><span class="co">#              notes = notes,</span></span>
<span id="cb80-25"><a href="#cb80-25" aria-hidden="true" tabindex="-1"></a><span class="co">#              output  = "tables/SGC4B_MARKS_GLMER_OverallAccuracy.tex")</span></span>
<span id="cb80-26"><a href="#cb80-26" aria-hidden="true" tabindex="-1"></a><span class="co"># # #              # coef_omit = "Intercept",</span></span>
<span id="cb80-27"><a href="#cb80-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-28"><a href="#cb80-28" aria-hidden="true" tabindex="-1"></a><span class="co"># extract_eq(m, use_coefs = TRUE, wrap = TRUE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="diagnostics" class="level5">
<h5 class="anchored" data-anchor-id="diagnostics">Diagnostics</h5>
<div class="cell">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"SANITY CHECK REPORTING"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "SANITY CHECK REPORTING"</code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="co"># report(m)</span></span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"DIAGNOSTICS"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "DIAGNOSTICS"</code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="fu">check_model</span>(m)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="4_sgc4B_hypotesting_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="bayesian" class="level5">
<h5 class="anchored" data-anchor-id="bayesian">BAYESIAN</h5>
<p>For some reason there are convergence difficulties. Try again with the brms version</p>
</section>
</section>
</section>
<section id="h1a-overall-interpretation-state" class="level2">
<h2 class="anchored" data-anchor-id="h1a-overall-interpretation-state">H1A | OVERALL INTERPRETATION STATE</h2>
<ul>
<li><p><strong>“orthogonal”</strong> [reference category] includes orthogonal and satisficing responses ==&gt; indicates a primarily <em>orthogonal</em> state of coordinate system understanding</p></li>
<li><p><strong>“other”</strong> includes: blank, reference point, responses that can’t be classified (including selecting all datapoints), =&gt; indicates an uncertain or unidentifiable state of coordinate system understanding, but one that is distinctly <em>not</em> orthogonal nor triangular</p></li>
<li><p><strong>“angular”</strong> includes ‘lines connecting’ responses as well as responses that include both orthogonal <em>and</em> triangular answers =&gt; indicates some degree of angular/triangular coordinate understanding</p></li>
<li><p><strong>“triangular”</strong> includes correct triangular =&gt; indicates a correct triangular coordinate understanding</p></li>
</ul>
<section id="setup-1" class="level4">
<h4 class="anchored" data-anchor-id="setup-1">Setup</h4>
<div class="cell">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="co">#:::::::: PREP DATA</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>df_i <span class="ot">=</span> df_items <span class="sc">%&gt;%</span> <span class="fu">filter</span>(q <span class="sc">%nin%</span> <span class="fu">c</span>(<span class="dv">6</span>,<span class="dv">9</span>)) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(q,subject,state,pretty_condition)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="co">#:::::::: STACKED BAR CHART</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>df_i <span class="sc">%&gt;%</span> </span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">data =</span> .,</span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> pretty_condition,</span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a>                       <span class="at">fill =</span> state)) <span class="sc">+</span></span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"fill"</span> ) <span class="sc">+</span> <span class="co">#,color = "black") +</span></span>
<span id="cb87-7"><a href="#cb87-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Set1"</span>)  <span class="sc">+</span></span>
<span id="cb87-8"><a href="#cb87-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># facet_wrap(~pretty_mode) + </span></span>
<span id="cb87-9"><a href="#cb87-9" aria-hidden="true" tabindex="-1"></a>   <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Interpretation across all Questions"</span>,</span>
<span id="cb87-10"><a href="#cb87-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Condition"</span>,</span>
<span id="cb87-11"><a href="#cb87-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">""</span>,</span>
<span id="cb87-12"><a href="#cb87-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle=</span><span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="4_sgc4B_hypotesting_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="co">#:::::::: STACKED BAR CHART</span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>df_i <span class="sc">%&gt;%</span> </span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">data =</span> .,</span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> pretty_condition,</span>
<span id="cb88-5"><a href="#cb88-5" aria-hidden="true" tabindex="-1"></a>                       <span class="at">fill =</span> state)) <span class="sc">+</span></span>
<span id="cb88-6"><a href="#cb88-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"fill"</span> ) <span class="sc">+</span> <span class="co">#,color = "black") +</span></span>
<span id="cb88-7"><a href="#cb88-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Set1"</span>)  <span class="sc">+</span></span>
<span id="cb88-8"><a href="#cb88-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>q) <span class="sc">+</span></span>
<span id="cb88-9"><a href="#cb88-9" aria-hidden="true" tabindex="-1"></a>   <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Interpretation by Question"</span>,</span>
<span id="cb88-10"><a href="#cb88-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Condition"</span>,</span>
<span id="cb88-11"><a href="#cb88-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">""</span>,</span>
<span id="cb88-12"><a href="#cb88-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle=</span><span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="4_sgc4B_hypotesting_files/figure-html/unnamed-chunk-21-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="co">#::::::::::::DESCRIPTIVES</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(df_i<span class="sc">$</span>state, df_i<span class="sc">$</span>pretty_condition) <span class="sc">%&gt;%</span> <span class="fu">addmargins</span>(<span class="dv">2</span>) <span class="sc">%&gt;%</span> <span class="co">#display sum for row</span></span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">prop.table</span>(<span class="at">margin=</span><span class="dv">2</span>) <span class="sc">%&gt;%</span>  <span class="co">#return proportion (of column)</span></span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a>      <span class="fu">addmargins</span>(<span class="dv">1</span>) <span class="co">#sanity check sum of columns</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>            
              point  cross  arrow    Sum
  orthogonal 0.6737 0.5857 0.5784 0.6121
  other      0.1453 0.1763 0.1132 0.1439
  angular    0.0326 0.0481 0.0363 0.0388
  triangular 0.1484 0.1899 0.2721 0.2052
  Sum        1.0000 1.0000 1.0000 1.0000</code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>(t <span class="ot">&lt;-</span> <span class="fu">table</span>(df_i<span class="sc">$</span>state, df_i<span class="sc">$</span>pretty_condition) <span class="sc">%&gt;%</span> <span class="fu">addmargins</span>(<span class="dv">2</span>) <span class="sc">%&gt;%</span> <span class="co">#display sum for row</span></span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>      <span class="fu">addmargins</span>(<span class="dv">1</span>)) <span class="co">#sanity check sum of columns</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>            
             point cross arrow  Sum
  orthogonal   867   731   797 2395
  other        187   220   156  563
  angular       42    60    50  152
  triangular   191   237   375  803
  Sum         1287  1248  1378 3913</code></pre>
</div>
</div>
</section>
<section id="mixed-multinomial-regression" class="level4">
<h4 class="anchored" data-anchor-id="mixed-multinomial-regression">MIXED MULTINOMIAL REGRESSION</h4>
<p><em>Does condition affect the response state of of items across the task?</em></p>
<section id="fit-model-brms" class="level5">
<h5 class="anchored" data-anchor-id="fit-model-brms">Fit Model [brms]</h5>
<div class="cell">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="co">#BAYESIAN RANDOM ONLY</span></span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a>Bmm.cat.rSQ <span class="ot">&lt;-</span> <span class="fu">brm</span>( state <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> (<span class="dv">1</span><span class="sc">|</span>subject) <span class="sc">+</span> (<span class="dv">1</span><span class="sc">|</span>q), </span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">data =</span> df_i, </span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">family =</span> <span class="st">"categorical"</span>,</span>
<span id="cb93-5"><a href="#cb93-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">chains =</span> <span class="dv">4</span>, <span class="at">iter =</span> <span class="dv">2500</span>, <span class="at">warmup =</span> <span class="dv">1000</span>,</span>
<span id="cb93-6"><a href="#cb93-6" aria-hidden="true" tabindex="-1"></a>                 <span class="at">cores =</span> <span class="dv">4</span>, <span class="at">seed =</span> <span class="dv">1234</span>,</span>
<span id="cb93-7"><a href="#cb93-7" aria-hidden="true" tabindex="-1"></a>                 <span class="at">save_pars =</span> <span class="fu">save_pars</span>(<span class="at">all =</span> <span class="cn">TRUE</span>),</span>
<span id="cb93-8"><a href="#cb93-8" aria-hidden="true" tabindex="-1"></a>                 <span class="co"># backend = "cmdstanr",</span></span>
<span id="cb93-9"><a href="#cb93-9" aria-hidden="true" tabindex="-1"></a>                 <span class="at">file =</span><span class="st">"analysis/SGC4B/models/sgc4b_brms_state_Bmm.cat.rSQ_LAB.rds"</span>)</span>
<span id="cb93-10"><a href="#cb93-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-11"><a href="#cb93-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-12"><a href="#cb93-12" aria-hidden="true" tabindex="-1"></a><span class="co">#set priors [see justification, in SGC3A]</span></span>
<span id="cb93-13"><a href="#cb93-13" aria-hidden="true" tabindex="-1"></a>inf_priors <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb93-14"><a href="#cb93-14" aria-hidden="true" tabindex="-1"></a>   <span class="co">#prior on INTERCEPTS</span></span>
<span id="cb93-15"><a href="#cb93-15" aria-hidden="true" tabindex="-1"></a>   <span class="co">#25% chance of each answer in control, scale = from 0.01 to 62%</span></span>
<span id="cb93-16"><a href="#cb93-16" aria-hidden="true" tabindex="-1"></a>   <span class="fu">prior</span>(<span class="fu">normal</span>(<span class="sc">-</span><span class="fl">1.1</span>, <span class="fl">1.5</span>),  <span class="at">class =</span> <span class="st">"Intercept"</span>, <span class="at">dpar =</span> <span class="st">"muangular"</span>),</span>
<span id="cb93-17"><a href="#cb93-17" aria-hidden="true" tabindex="-1"></a>   <span class="fu">prior</span>(<span class="fu">normal</span>(<span class="sc">-</span><span class="fl">1.1</span>, <span class="fl">1.5</span>),  <span class="at">class =</span> <span class="st">"Intercept"</span>, <span class="at">dpar =</span> <span class="st">"muother"</span>),</span>
<span id="cb93-18"><a href="#cb93-18" aria-hidden="true" tabindex="-1"></a>   <span class="fu">prior</span>(<span class="fu">normal</span>(<span class="sc">-</span><span class="fl">1.1</span>, <span class="fl">1.5</span>),  <span class="at">class =</span> <span class="st">"Intercept"</span>, <span class="at">dpar =</span> <span class="st">"mutriangular"</span>),</span>
<span id="cb93-19"><a href="#cb93-19" aria-hidden="true" tabindex="-1"></a>   <span class="co">#prior on COEFFICIENT</span></span>
<span id="cb93-20"><a href="#cb93-20" aria-hidden="true" tabindex="-1"></a>   <span class="co">#likely to change odds between 0 and 2.4</span></span>
<span id="cb93-21"><a href="#cb93-21" aria-hidden="true" tabindex="-1"></a>   <span class="fu">prior</span>(<span class="fu">normal</span>(<span class="dv">0</span>, <span class="fl">2.42</span>), <span class="at">class =</span> b, <span class="at">coef=</span><span class="st">"pretty_conditioncross"</span>, <span class="at">dpar =</span> <span class="st">"muangular"</span>),</span>
<span id="cb93-22"><a href="#cb93-22" aria-hidden="true" tabindex="-1"></a>   <span class="fu">prior</span>(<span class="fu">normal</span>(<span class="dv">0</span>, <span class="fl">2.42</span>), <span class="at">class =</span> b, <span class="at">coef=</span><span class="st">"pretty_conditioncross"</span>, <span class="at">dpar =</span> <span class="st">"muother"</span>),</span>
<span id="cb93-23"><a href="#cb93-23" aria-hidden="true" tabindex="-1"></a>   <span class="fu">prior</span>(<span class="fu">normal</span>(<span class="dv">0</span>, <span class="fl">2.42</span>), <span class="at">class =</span> b, <span class="at">coef=</span><span class="st">"pretty_conditioncross"</span>, <span class="at">dpar =</span> <span class="st">"mutriangular"</span>),</span>
<span id="cb93-24"><a href="#cb93-24" aria-hidden="true" tabindex="-1"></a>   <span class="fu">prior</span>(<span class="fu">normal</span>(<span class="dv">0</span>, <span class="fl">2.42</span>), <span class="at">class =</span> b, <span class="at">coef=</span><span class="st">"pretty_conditionarrow"</span>, <span class="at">dpar =</span> <span class="st">"muangular"</span>),</span>
<span id="cb93-25"><a href="#cb93-25" aria-hidden="true" tabindex="-1"></a>   <span class="fu">prior</span>(<span class="fu">normal</span>(<span class="dv">0</span>, <span class="fl">2.42</span>), <span class="at">class =</span> b, <span class="at">coef=</span><span class="st">"pretty_conditionarrow"</span>, <span class="at">dpar =</span> <span class="st">"muother"</span>),</span>
<span id="cb93-26"><a href="#cb93-26" aria-hidden="true" tabindex="-1"></a>   <span class="fu">prior</span>(<span class="fu">normal</span>(<span class="dv">0</span>, <span class="fl">2.42</span>), <span class="at">class =</span> b, <span class="at">coef=</span><span class="st">"pretty_conditionarrow"</span>, <span class="at">dpar =</span> <span class="st">"mutriangular"</span>)</span>
<span id="cb93-27"><a href="#cb93-27" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb93-28"><a href="#cb93-28" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb93-29"><a href="#cb93-29" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb93-30"><a href="#cb93-30" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb93-31"><a href="#cb93-31" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb93-32"><a href="#cb93-32" aria-hidden="true" tabindex="-1"></a><span class="co"># #UNINFORMATIVE PRIOR BAYESIAN MIXED VERSION</span></span>
<span id="cb93-33"><a href="#cb93-33" aria-hidden="true" tabindex="-1"></a><span class="co"># flat_Bmm.cat.CrSQ &lt;- brm( state ~ pretty_condition + (1|subject) + (1|q),</span></span>
<span id="cb93-34"><a href="#cb93-34" aria-hidden="true" tabindex="-1"></a><span class="co">#                  data = df_i,</span></span>
<span id="cb93-35"><a href="#cb93-35" aria-hidden="true" tabindex="-1"></a><span class="co">#                  family = "categorical",</span></span>
<span id="cb93-36"><a href="#cb93-36" aria-hidden="true" tabindex="-1"></a><span class="co">#                  chains = 4, iter = 2000, warmup = 1000,</span></span>
<span id="cb93-37"><a href="#cb93-37" aria-hidden="true" tabindex="-1"></a><span class="co">#                  cores = 4, seed = 1234,</span></span>
<span id="cb93-38"><a href="#cb93-38" aria-hidden="true" tabindex="-1"></a><span class="co">#                  save_pars = save_pars(all = TRUE),</span></span>
<span id="cb93-39"><a href="#cb93-39" aria-hidden="true" tabindex="-1"></a><span class="co">#                  backend = "cmdstanr",</span></span>
<span id="cb93-40"><a href="#cb93-40" aria-hidden="true" tabindex="-1"></a><span class="co">#                  file ="analysis/SGC4B/models/sgc4b_brms_state_FLAT_Bmm.cat.CrSQ_LAB.rds")</span></span>
<span id="cb93-41"><a href="#cb93-41" aria-hidden="true" tabindex="-1"></a><span class="co"># # # </span></span>
<span id="cb93-42"><a href="#cb93-42" aria-hidden="true" tabindex="-1"></a><span class="co"># # # # determine default priors </span></span>
<span id="cb93-43"><a href="#cb93-43" aria-hidden="true" tabindex="-1"></a><span class="co"># prior_summary(flat_Bmm.cat.CrSQ)</span></span>
<span id="cb93-44"><a href="#cb93-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-45"><a href="#cb93-45" aria-hidden="true" tabindex="-1"></a><span class="co">#INFORMATIVE PRIORS</span></span>
<span id="cb93-46"><a href="#cb93-46" aria-hidden="true" tabindex="-1"></a>Bmm.cat.CrSQ <span class="ot">&lt;-</span> <span class="fu">brm</span>( state <span class="sc">~</span> pretty_condition <span class="sc">+</span> (<span class="dv">1</span><span class="sc">|</span>subject) <span class="sc">+</span> (<span class="dv">1</span><span class="sc">|</span>q), </span>
<span id="cb93-47"><a href="#cb93-47" aria-hidden="true" tabindex="-1"></a>                 <span class="at">data =</span> df_i, </span>
<span id="cb93-48"><a href="#cb93-48" aria-hidden="true" tabindex="-1"></a>                 <span class="at">family =</span> <span class="st">"categorical"</span>,</span>
<span id="cb93-49"><a href="#cb93-49" aria-hidden="true" tabindex="-1"></a>                 <span class="at">prior =</span> inf_priors,</span>
<span id="cb93-50"><a href="#cb93-50" aria-hidden="true" tabindex="-1"></a>                 <span class="at">chains =</span> <span class="dv">4</span>, <span class="at">iter =</span> <span class="dv">2500</span>, <span class="at">warmup =</span> <span class="dv">1000</span>,</span>
<span id="cb93-51"><a href="#cb93-51" aria-hidden="true" tabindex="-1"></a>                 <span class="at">cores =</span> <span class="dv">4</span>, <span class="at">seed =</span> <span class="dv">1234</span>,</span>
<span id="cb93-52"><a href="#cb93-52" aria-hidden="true" tabindex="-1"></a>                 <span class="at">save_pars =</span> <span class="fu">save_pars</span>(<span class="at">all =</span> <span class="cn">TRUE</span>),</span>
<span id="cb93-53"><a href="#cb93-53" aria-hidden="true" tabindex="-1"></a>                 <span class="at">control =</span> <span class="fu">list</span>(<span class="at">adapt_delta =</span> <span class="fl">0.98</span>),  <span class="co"># to deal with divergent transitions</span></span>
<span id="cb93-54"><a href="#cb93-54" aria-hidden="true" tabindex="-1"></a>                 <span class="co"># backend = "cmdstanr",</span></span>
<span id="cb93-55"><a href="#cb93-55" aria-hidden="true" tabindex="-1"></a>                 <span class="at">file =</span><span class="st">"analysis/SGC4B/models/sgc4b_brms_state_Bmm.cat.CrSQ_LAB.rds"</span></span>
<span id="cb93-56"><a href="#cb93-56" aria-hidden="true" tabindex="-1"></a>                 )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Compiling Stan program...</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Trying to compile a simple C file</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Running /Library/Frameworks/R.framework/Resources/bin/R CMD SHLIB foo.c
clang -mmacosx-version-min=10.13 -I"/Library/Frameworks/R.framework/Resources/include" -DNDEBUG   -I"/Library/Frameworks/R.framework/Versions/4.2/Resources/library/Rcpp/include/"  -I"/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppEigen/include/"  -I"/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppEigen/include/unsupported"  -I"/Library/Frameworks/R.framework/Versions/4.2/Resources/library/BH/include" -I"/Library/Frameworks/R.framework/Versions/4.2/Resources/library/StanHeaders/include/src/"  -I"/Library/Frameworks/R.framework/Versions/4.2/Resources/library/StanHeaders/include/"  -I"/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppParallel/include/"  -I"/Library/Frameworks/R.framework/Versions/4.2/Resources/library/rstan/include" -DEIGEN_NO_DEBUG  -DBOOST_DISABLE_ASSERTS  -DBOOST_PENDING_INTEGER_LOG2_HPP  -DSTAN_THREADS  -DBOOST_NO_AUTO_PTR  -include '/Library/Frameworks/R.framework/Versions/4.2/Resources/library/StanHeaders/include/stan/math/prim/mat/fun/Eigen.hpp'  -D_REENTRANT -DRCPP_PARALLEL_USE_TBB=1   -I/usr/local/include   -fPIC  -Wall -g -O2  -c foo.c -o foo.o
In file included from &lt;built-in&gt;:1:
In file included from /Library/Frameworks/R.framework/Versions/4.2/Resources/library/StanHeaders/include/stan/math/prim/mat/fun/Eigen.hpp:13:
In file included from /Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppEigen/include/Eigen/Dense:1:
In file included from /Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppEigen/include/Eigen/Core:88:
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppEigen/include/Eigen/src/Core/util/Macros.h:628:1: error: unknown type name 'namespace'
namespace Eigen {
^
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppEigen/include/Eigen/src/Core/util/Macros.h:628:16: error: expected ';' after top level declarator
namespace Eigen {
               ^
               ;
In file included from &lt;built-in&gt;:1:
In file included from /Library/Frameworks/R.framework/Versions/4.2/Resources/library/StanHeaders/include/stan/math/prim/mat/fun/Eigen.hpp:13:
In file included from /Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppEigen/include/Eigen/Dense:1:
/Library/Frameworks/R.framework/Versions/4.2/Resources/library/RcppEigen/include/Eigen/Core:96:10: fatal error: 'complex' file not found
#include &lt;complex&gt;
         ^~~~~~~~~
3 errors generated.
make: *** [foo.o] Error 1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Start sampling</code></pre>
</div>
</div>
</section>
<section id="describe-2" class="level5">
<h5 class="anchored" data-anchor-id="describe-2">Describe</h5>
<div class="cell">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="co"># best model</span></span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a><span class="co"># m &lt;- Bmm.cat.CrSQ</span></span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> Bmm.cat.CrSQ</span>
<span id="cb98-4"><a href="#cb98-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-5"><a href="#cb98-5" aria-hidden="true" tabindex="-1"></a><span class="co">#::::::::: PRINT MODEL </span></span>
<span id="cb98-6"><a href="#cb98-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-7"><a href="#cb98-7" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"PREDICTOR MODEL"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "PREDICTOR MODEL"</code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(m)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> Family: categorical 
  Links: muother = logit; muangular = logit; mutriangular = logit 
Formula: state ~ pretty_condition + (1 | subject) + (1 | q) 
   Data: df_i (Number of observations: 3913) 
  Draws: 4 chains, each with iter = 2500; warmup = 1000; thin = 1;
         total post-warmup draws = 6000

Group-Level Effects: 
~q (Number of levels: 13) 
                           Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS
sd(muother_Intercept)          1.98      0.45     1.29     3.07 1.00     1603
sd(muangular_Intercept)        1.77      0.52     1.04     3.01 1.00     2347
sd(mutriangular_Intercept)     2.08      0.49     1.35     3.22 1.00     1964
                           Tail_ESS
sd(muother_Intercept)          3313
sd(muangular_Intercept)        3232
sd(mutriangular_Intercept)     3571

~subject (Number of levels: 301) 
                           Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS
sd(muother_Intercept)          1.92      0.14     1.66     2.21 1.00     2305
sd(muangular_Intercept)        1.97      0.23     1.55     2.44 1.00     2199
sd(mutriangular_Intercept)     5.68      0.45     4.87     6.62 1.00     1653
                           Tail_ESS
sd(muother_Intercept)          3880
sd(muangular_Intercept)        3625
sd(mutriangular_Intercept)     2782

Population-Level Effects: 
                                   Estimate Est.Error l-95% CI u-95% CI Rhat
muother_Intercept                     -2.49      0.57    -3.58    -1.32 1.00
muangular_Intercept                   -4.51      0.61    -5.70    -3.28 1.00
mutriangular_Intercept                -4.96      0.84    -6.56    -3.29 1.00
muother_pretty_conditioncross          0.54      0.33    -0.10     1.18 1.00
muother_pretty_conditionarrow          0.05      0.33    -0.58     0.73 1.00
muangular_pretty_conditioncross        0.80      0.41    -0.01     1.61 1.00
muangular_pretty_conditionarrow        0.29      0.42    -0.53     1.13 1.00
mutriangular_pretty_conditioncross     1.01      0.87    -0.70     2.71 1.00
mutriangular_pretty_conditionarrow     2.30      0.84     0.67     3.93 1.01
                                   Bulk_ESS Tail_ESS
muother_Intercept                      1128     2007
muangular_Intercept                    1969     3004
mutriangular_Intercept                 1437     2552
muother_pretty_conditioncross          2073     3568
muother_pretty_conditionarrow          2426     3772
muangular_pretty_conditioncross        3347     4396
muangular_pretty_conditionarrow        3367     4117
mutriangular_pretty_conditioncross      788     1379
mutriangular_pretty_conditionarrow      882     2048

Draws were sampled using sampling(NUTS). For each parameter, Bulk_ESS
and Tail_ESS are effective sample size measures, and Rhat is the potential
scale reduction factor on split chains (at convergence, Rhat = 1).</code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a>(d <span class="ot">&lt;-</span> <span class="fu">describe_posterior</span>(<span class="at">ci=</span>.<span class="dv">95</span>, Bmm.cat.CrSQ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Summary of Posterior Distribution

Parameter                          | Median |         95% CI |     pd |          ROPE | % in ROPE |  Rhat |     ESS
-------------------------------------------------------------------------------------------------------------------
muother_Intercept                  |  -2.49 | [-3.58, -1.32] |   100% | [-0.18, 0.18] |        0% | 1.001 | 1113.00
muangular_Intercept                |  -4.52 | [-5.70, -3.28] |   100% | [-0.18, 0.18] |        0% | 1.001 | 1948.00
mutriangular_Intercept             |  -4.96 | [-6.56, -3.29] |   100% | [-0.18, 0.18] |        0% | 1.004 | 1436.00
muother_pretty_conditioncross      |   0.53 | [-0.10,  1.18] | 95.28% | [-0.18, 0.18] |    11.33% | 1.001 | 2080.00
muother_pretty_conditionarrow      |   0.05 | [-0.58,  0.73] | 55.37% | [-0.18, 0.18] |    43.11% | 1.001 | 2410.00
muangular_pretty_conditioncross    |   0.80 | [-0.01,  1.61] | 97.42% | [-0.18, 0.18] |     4.77% | 1.001 | 3310.00
muangular_pretty_conditionarrow    |   0.29 | [-0.53,  1.13] | 74.47% | [-0.18, 0.18] |    28.70% | 1.000 | 3318.00
mutriangular_pretty_conditioncross |   1.02 | [-0.70,  2.71] | 87.92% | [-0.18, 0.18] |     9.07% | 1.003 |  782.00
mutriangular_pretty_conditionarrow |   2.32 | [ 0.67,  3.93] | 99.57% | [-0.18, 0.18] |        0% | 1.005 |  839.00</code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"BAYES FACTOR [comparison to null]"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "BAYES FACTOR [comparison to null]"</code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="co">#think of this like the anova(model) to get p values for each predictor</span></span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a><span class="co">#has to recompile the models with rstan. total drag</span></span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a>(b <span class="ot">&lt;-</span> <span class="fu">bayesfactor</span>(Bmm.cat.rSQ, m))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Bayes factors might not be precise.
For precise Bayes factors, sampling at least 40,000 posterior samples is recommended.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Computation of Bayes factors: estimating marginal likelihood, please wait...</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: logml could not be estimated within maxiter, rerunning with adjusted starting value. 
Estimate might be more variable than usual.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: logml could not be estimated within maxiter, rerunning with adjusted starting value. 
Estimate might be more variable than usual.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Bayes Factors for Model Comparison

    Model                                            BF
[2] pretty_condition + (1 | subject) + (1 | q) 7.98e-26

* Against Denominator: [1] 1 + (1 | subject) + (1 | q)
*   Bayes Factor Type: marginal likelihoods (bridgesampling)</code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"DESCRIBE POSTERIOR"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "DESCRIBE POSTERIOR"</code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="co">#:::::::: INTERPRET COEFFICIENTS</span></span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a><span class="co"># se &lt;- sqrt(diag(stats::vcov(m)))</span></span>
<span id="cb114-3"><a href="#cb114-3" aria-hidden="true" tabindex="-1"></a><span class="co"># # table of estimates with 95% CI</span></span>
<span id="cb114-4"><a href="#cb114-4" aria-hidden="true" tabindex="-1"></a><span class="co"># (tab &lt;- cbind(Est = fixef(m),</span></span>
<span id="cb114-5"><a href="#cb114-5" aria-hidden="true" tabindex="-1"></a><span class="co">#               LL = fixef(m) - 1.96 * se,</span></span>
<span id="cb114-6"><a href="#cb114-6" aria-hidden="true" tabindex="-1"></a><span class="co">#               UL = fixef(m) + 1.96 * se))</span></span>
<span id="cb114-7"><a href="#cb114-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-8"><a href="#cb114-8" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">"LOG ODDS"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "LOG ODDS"</code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a>(l <span class="ot">&lt;-</span> <span class="fu">describe_posterior</span>(m))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Summary of Posterior Distribution

Parameter                          | Median |         95% CI |     pd |          ROPE | % in ROPE |  Rhat |     ESS
-------------------------------------------------------------------------------------------------------------------
muother_Intercept                  |  -2.49 | [-3.58, -1.32] |   100% | [-0.18, 0.18] |        0% | 1.001 | 1113.00
muangular_Intercept                |  -4.52 | [-5.70, -3.28] |   100% | [-0.18, 0.18] |        0% | 1.001 | 1948.00
mutriangular_Intercept             |  -4.96 | [-6.56, -3.29] |   100% | [-0.18, 0.18] |        0% | 1.004 | 1436.00
muother_pretty_conditioncross      |   0.53 | [-0.10,  1.18] | 95.28% | [-0.18, 0.18] |    11.33% | 1.001 | 2080.00
muother_pretty_conditionarrow      |   0.05 | [-0.58,  0.73] | 55.37% | [-0.18, 0.18] |    43.11% | 1.001 | 2410.00
muangular_pretty_conditioncross    |   0.80 | [-0.01,  1.61] | 97.42% | [-0.18, 0.18] |     4.77% | 1.001 | 3310.00
muangular_pretty_conditionarrow    |   0.29 | [-0.53,  1.13] | 74.47% | [-0.18, 0.18] |    28.70% | 1.000 | 3318.00
mutriangular_pretty_conditioncross |   1.02 | [-0.70,  2.71] | 87.92% | [-0.18, 0.18] |     9.07% | 1.003 |  782.00
mutriangular_pretty_conditionarrow |   2.32 | [ 0.67,  3.93] | 99.57% | [-0.18, 0.18] |        0% | 1.005 |  839.00</code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="co"># (tm &lt;- tidy(m,   conf.int = TRUE))</span></span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-3"><a href="#cb118-3" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">"ODDS RATIOS"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "ODDS RATIOS"</code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a>(e <span class="ot">&lt;-</span> <span class="fu">model_parameters</span>(m, <span class="at">exponentiate =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Parameter                          |   Median |        95% CI |     pd | % in ROPE |  Rhat |     ESS
----------------------------------------------------------------------------------------------------
muother_Intercept                  |     0.08 | [0.03,  0.27] |   100% |        0% | 1.001 | 1113.00
muangular_Intercept                |     0.01 | [0.00,  0.04] |   100% |        0% | 1.001 | 1948.00
mutriangular_Intercept             | 7.03e-03 | [0.00,  0.04] |   100% |        0% | 1.004 | 1436.00
muother_pretty_conditioncross      |     1.70 | [0.91,  3.24] | 95.28% |    11.33% | 1.001 | 2080.00
muother_pretty_conditionarrow      |     1.05 | [0.56,  2.07] | 55.37% |    43.11% | 1.001 | 2410.00
muangular_pretty_conditioncross    |     2.22 | [0.99,  5.03] | 97.42% |     4.77% | 1.001 | 3310.00
muangular_pretty_conditionarrow    |     1.34 | [0.59,  3.09] | 74.47% |    28.70% | 1.000 | 3318.00
mutriangular_pretty_conditioncross |     2.77 | [0.50, 15.08] | 87.92% |     9.07% | 1.003 |  782.00
mutriangular_pretty_conditionarrow |    10.21 | [1.95, 51.06] | 99.57% |        0% | 1.005 |  839.00</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Uncertainty intervals (equal-tailed) and p-values (two-tailed) computed
  using a MCMC distribution approximation.</code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="co"># tidy(m,   conf.int = TRUE, exponentiate = TRUE)</span></span>
<span id="cb123-2"><a href="#cb123-2" aria-hidden="true" tabindex="-1"></a><span class="co"># tm %&gt;% mutate(</span></span>
<span id="cb123-3"><a href="#cb123-3" aria-hidden="true" tabindex="-1"></a><span class="co">#   OR.est = exp(estimate),</span></span>
<span id="cb123-4"><a href="#cb123-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   exp.low = exp(conf.low),</span></span>
<span id="cb123-5"><a href="#cb123-5" aria-hidden="true" tabindex="-1"></a><span class="co">#   exp.high = exp(conf.high)</span></span>
<span id="cb123-6"><a href="#cb123-6" aria-hidden="true" tabindex="-1"></a><span class="co"># ) %&gt;% dplyr::select(effect, component, group, term, OR.est, exp.low, exp.high)</span></span>
<span id="cb123-7"><a href="#cb123-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb123-8"><a href="#cb123-8" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">"PROBABILITIES"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "PROBABILITIES"</code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="co">#PREDICT METHOD</span></span>
<span id="cb125-2"><a href="#cb125-2" aria-hidden="true" tabindex="-1"></a>newdata <span class="ot">&lt;-</span> df_i <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(pretty_condition, subject, q)</span>
<span id="cb125-3"><a href="#cb125-3" aria-hidden="true" tabindex="-1"></a>preds <span class="ot">&lt;-</span> <span class="fu">predict</span>(m, <span class="at">newdata =</span> newdata, <span class="at">type =</span> <span class="st">"response"</span>)</span>
<span id="cb125-4"><a href="#cb125-4" aria-hidden="true" tabindex="-1"></a>preds <span class="ot">&lt;-</span> <span class="fu">cbind</span>(newdata, preds)</span>
<span id="cb125-5"><a href="#cb125-5" aria-hidden="true" tabindex="-1"></a><span class="co">#lengthen data frame to handle multinomial</span></span>
<span id="cb125-6"><a href="#cb125-6" aria-hidden="true" tabindex="-1"></a>preds <span class="ot">&lt;-</span> preds <span class="sc">%&gt;%</span> </span>
<span id="cb125-7"><a href="#cb125-7" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>subject, <span class="sc">-</span>q) <span class="sc">%&gt;%</span> <span class="co">#marginalize over subject and q</span></span>
<span id="cb125-8"><a href="#cb125-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb125-9"><a href="#cb125-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">cols =</span> <span class="sc">!</span>pretty_condition,</span>
<span id="cb125-10"><a href="#cb125-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">values_to =</span> <span class="st">"preds"</span>,</span>
<span id="cb125-11"><a href="#cb125-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">names_to =</span> <span class="st">"state"</span>,</span>
<span id="cb125-12"><a href="#cb125-12" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb125-13"><a href="#cb125-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb125-14"><a href="#cb125-14" aria-hidden="true" tabindex="-1"></a>(p <span class="ot">&lt;-</span> preds <span class="sc">%&gt;%</span> </span>
<span id="cb125-15"><a href="#cb125-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pretty_condition, state ) <span class="sc">%&gt;%</span></span>
<span id="cb125-16"><a href="#cb125-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb125-17"><a href="#cb125-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">median =</span> <span class="fu">median</span>(preds),</span>
<span id="cb125-18"><a href="#cb125-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">se =</span> <span class="fu">sd</span>(preds)<span class="sc">/</span><span class="fu">sqrt</span>(<span class="fu">n</span>()),</span>
<span id="cb125-19"><a href="#cb125-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">lwr =</span> median <span class="sc">-</span> <span class="fl">1.96</span><span class="sc">*</span>se,</span>
<span id="cb125-20"><a href="#cb125-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">upr =</span> median <span class="sc">+</span> <span class="fl">1.96</span><span class="sc">*</span>se))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 × 6
# Groups:   pretty_condition [3]
   pretty_condition state              median      se       lwr    upr
   &lt;fct&gt;            &lt;chr&gt;               &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;  &lt;dbl&gt;
 1 point            P(Y = angular)    0.00917 0.00195  0.00535  0.0130
 2 point            P(Y = orthogonal) 0.826   0.00930  0.807    0.844 
 3 point            P(Y = other)      0.0568  0.00562  0.0458   0.0679
 4 point            P(Y = triangular) 0.00767 0.00828 -0.00857  0.0239
 5 cross            P(Y = angular)    0.0147  0.00256  0.00964  0.0197
 6 cross            P(Y = orthogonal) 0.685   0.00971  0.666    0.704 
 7 cross            P(Y = other)      0.0752  0.00625  0.0630   0.0875
 8 cross            P(Y = triangular) 0.0178  0.00915 -0.000179 0.0357
 9 arrow            P(Y = angular)    0.00917 0.00216  0.00494  0.0134
10 arrow            P(Y = orthogonal) 0.701   0.00983  0.682    0.720 
11 arrow            P(Y = other)      0.0467  0.00424  0.0384   0.0550
12 arrow            P(Y = triangular) 0.0395  0.0101   0.0197   0.0593</code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="do">##DRAWS METHOD</span></span>
<span id="cb127-2"><a href="#cb127-2" aria-hidden="true" tabindex="-1"></a><span class="co"># GENERATE draws from model</span></span>
<span id="cb127-3"><a href="#cb127-3" aria-hidden="true" tabindex="-1"></a><span class="co"># draws &lt;- df_i %&gt;%</span></span>
<span id="cb127-4"><a href="#cb127-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   data_grid(pretty_condition, subject, q) %&gt;% </span></span>
<span id="cb127-5"><a href="#cb127-5" aria-hidden="true" tabindex="-1"></a><span class="co">#   add_fitted_draws(Bmm.cat.CrSQ,</span></span>
<span id="cb127-6"><a href="#cb127-6" aria-hidden="true" tabindex="-1"></a><span class="co">#                    # n = 100,</span></span>
<span id="cb127-7"><a href="#cb127-7" aria-hidden="true" tabindex="-1"></a><span class="co">#                    # dpar = TRUE,</span></span>
<span id="cb127-8"><a href="#cb127-8" aria-hidden="true" tabindex="-1"></a><span class="co">#                    # transform = TRUE, #gives prob%, otherwise OR</span></span>
<span id="cb127-9"><a href="#cb127-9" aria-hidden="true" tabindex="-1"></a><span class="co">#                    re_formula = NA)</span></span>
<span id="cb127-10"><a href="#cb127-10" aria-hidden="true" tabindex="-1"></a><span class="co"># # draws %&gt;% write_rds(file = "analysis/SGC3A/models/draws/draws_BB.catCrSQ.rds")</span></span>
<span id="cb127-11"><a href="#cb127-11" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb127-12"><a href="#cb127-12" aria-hidden="true" tabindex="-1"></a><span class="co"># #OR load from file</span></span>
<span id="cb127-13"><a href="#cb127-13" aria-hidden="true" tabindex="-1"></a><span class="co"># # draws &lt;- read_rds(file = "analysis/SGC3A/models/draws/draws_BB.catCrSQ.rds")</span></span>
<span id="cb127-14"><a href="#cb127-14" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb127-15"><a href="#cb127-15" aria-hidden="true" tabindex="-1"></a><span class="co"># # SUMMARIZE draws from model</span></span>
<span id="cb127-16"><a href="#cb127-16" aria-hidden="true" tabindex="-1"></a><span class="co"># (k &lt;- kable(draws %&gt;%</span></span>
<span id="cb127-17"><a href="#cb127-17" aria-hidden="true" tabindex="-1"></a><span class="co">#   dplyr::select(pretty_condition, .category, .value) %&gt;%</span></span>
<span id="cb127-18"><a href="#cb127-18" aria-hidden="true" tabindex="-1"></a><span class="co">#   group_by(pretty_condition, .category) %&gt;%</span></span>
<span id="cb127-19"><a href="#cb127-19" aria-hidden="true" tabindex="-1"></a><span class="co">#   median_hdci(.value), digits = 4, col.names =</span></span>
<span id="cb127-20"><a href="#cb127-20" aria-hidden="true" tabindex="-1"></a><span class="co">#     c("Condition","Category", "Probability","Lower Cred.I","Upper Cred.I", "CI Width", "Point Type", "Interval Type")) %&gt;%</span></span>
<span id="cb127-21"><a href="#cb127-21" aria-hidden="true" tabindex="-1"></a><span class="co">#   kable_styling())</span></span>
<span id="cb127-22"><a href="#cb127-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-23"><a href="#cb127-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-24"><a href="#cb127-24" aria-hidden="true" tabindex="-1"></a><span class="do">##EASY STATS INSIGHT </span></span>
<span id="cb127-25"><a href="#cb127-25" aria-hidden="true" tabindex="-1"></a><span class="co"># https://easystats.github.io/insight/reference/get_predicted.html</span></span>
<span id="cb127-26"><a href="#cb127-26" aria-hidden="true" tabindex="-1"></a><span class="co"># p &lt;- get_predicted(m, predict = "expectation")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="todo-inference" class="level5">
<h5 class="anchored" data-anchor-id="todo-inference">TODO INFERENCE</h5>
<p><strong>UPDATE THIS [template from 3A</strong></p>
<p>[REPORT POSTERIOR MEDIAN <span class="math inline">\(\exp_{beta}\)</span>, 95 % credible interval, % probability of direction]</p>
<p>We fit a (bayesian) multinomial logistic regression model with random intercepts for subjects and questions. A Bayes Factor model comparison (against a random intercepts-only model) indicates extreme evidence for a main effect of CONDITION (BF = 1.38e+14).</p>
<p><strong>Consistent with our hypothesis, the impasse condition substantially increases the odds of transitional interpretations.</strong></p>
<p>Across the entire task participants in the impasse condition were 12 times more likely to offer an ‘unknown’ rather than orthogonal response compared with those in the control condition ( <span class="math inline">\(e^{\beta_1} = 12.13, 95 \% CI [6.29, 25.24], pd = 100\%\)</span>). Participants in the impasse condition were 12 times more likely to offer an ‘angular’ rather than orthogonal response compared with those in the control condition ( <span class="math inline">\(e^{\beta_1} = 11.48, 95 \% CI [3.95, 37.67], pd = 100\%\)</span>), and 34 times more likely to offer an ‘triangular’ rather than orthogonal response compared with those in the control condition ( <span class="math inline">\(e^{\beta_1} = 33.90, 95 \% CI [6.22, 211.18], pd = 100\%\)</span>).</p>
</section>
<section id="print-1" class="level5">
<h5 class="anchored" data-anchor-id="print-1">Print</h5>
<div class="cell">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="co">#SJPLOT | MODEL | TABLE</span></span>
<span id="cb128-2"><a href="#cb128-2" aria-hidden="true" tabindex="-1"></a><span class="co"># tab_model(m)</span></span>
<span id="cb128-3"><a href="#cb128-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-4"><a href="#cb128-4" aria-hidden="true" tabindex="-1"></a><span class="co"># #MODEL SUMMARY | save latex table</span></span>
<span id="cb128-5"><a href="#cb128-5" aria-hidden="true" tabindex="-1"></a><span class="co">#model summary doesn't work for brms multinomial</span></span>
<span id="cb128-6"><a href="#cb128-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-7"><a href="#cb128-7" aria-hidden="true" tabindex="-1"></a><span class="co"># DOESN'T WORK FOR BRMS</span></span>
<span id="cb128-8"><a href="#cb128-8" aria-hidden="true" tabindex="-1"></a><span class="co"># extract_eq(m, use_coefs = TRUE, wrap = TRUE)</span></span>
<span id="cb128-9"><a href="#cb128-9" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb128-10"><a href="#cb128-10" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb128-11"><a href="#cb128-11" aria-hidden="true" tabindex="-1"></a><span class="co"># #GET MODEL ESTIMATES</span></span>
<span id="cb128-12"><a href="#cb128-12" aria-hidden="true" tabindex="-1"></a><span class="co"># t &lt;- as.data.frame(model_parameters(m, exponentiate = TRUE))</span></span>
<span id="cb128-13"><a href="#cb128-13" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb128-14"><a href="#cb128-14" aria-hidden="true" tabindex="-1"></a><span class="co"># #REFORMAT</span></span>
<span id="cb128-15"><a href="#cb128-15" aria-hidden="true" tabindex="-1"></a><span class="co"># x &lt;- t %&gt;%</span></span>
<span id="cb128-16"><a href="#cb128-16" aria-hidden="true" tabindex="-1"></a><span class="co">#   mutate(</span></span>
<span id="cb128-17"><a href="#cb128-17" aria-hidden="true" tabindex="-1"></a><span class="co">#     Interpretation = word(Parameter, 2, sep = "_"),</span></span>
<span id="cb128-18"><a href="#cb128-18" aria-hidden="true" tabindex="-1"></a><span class="co">#     Interpretation = str_remove_all(Interpretation,"mu"),</span></span>
<span id="cb128-19"><a href="#cb128-19" aria-hidden="true" tabindex="-1"></a><span class="co">#     Interpretation = fct_relevel(Interpretation, levels = c("other","angular","triangular")),</span></span>
<span id="cb128-20"><a href="#cb128-20" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb128-21"><a href="#cb128-21" aria-hidden="true" tabindex="-1"></a><span class="co">#     Parameter = as.factor(word(Parameter, 3, sep = "_")),</span></span>
<span id="cb128-22"><a href="#cb128-22" aria-hidden="true" tabindex="-1"></a><span class="co">#     Parameter = recode_factor(Parameter,</span></span>
<span id="cb128-23"><a href="#cb128-23" aria-hidden="true" tabindex="-1"></a><span class="co">#                          "Intercept" = "(Intercept)",</span></span>
<span id="cb128-24"><a href="#cb128-24" aria-hidden="true" tabindex="-1"></a><span class="co">#                          "pretty" = "Condition[impasse]"),</span></span>
<span id="cb128-25"><a href="#cb128-25" aria-hidden="true" tabindex="-1"></a><span class="co">#     Median = round(Median,2),</span></span>
<span id="cb128-26"><a href="#cb128-26" aria-hidden="true" tabindex="-1"></a><span class="co">#     CI_low = round(CI_low,2),</span></span>
<span id="cb128-27"><a href="#cb128-27" aria-hidden="true" tabindex="-1"></a><span class="co">#     CI_high = round(CI_high,2),</span></span>
<span id="cb128-28"><a href="#cb128-28" aria-hidden="true" tabindex="-1"></a><span class="co">#     pd = round(pd,2),</span></span>
<span id="cb128-29"><a href="#cb128-29" aria-hidden="true" tabindex="-1"></a><span class="co">#     ROPE_Percentage = round(ROPE_Percentage,2)</span></span>
<span id="cb128-30"><a href="#cb128-30" aria-hidden="true" tabindex="-1"></a><span class="co">#   ) %&gt;%</span></span>
<span id="cb128-31"><a href="#cb128-31" aria-hidden="true" tabindex="-1"></a><span class="co">#   arrange(Interpretation) %&gt;%</span></span>
<span id="cb128-32"><a href="#cb128-32" aria-hidden="true" tabindex="-1"></a><span class="co">#   dplyr::select(-CI, -Rhat, -ESS) %&gt;%</span></span>
<span id="cb128-33"><a href="#cb128-33" aria-hidden="true" tabindex="-1"></a><span class="co">#   rename( "%_in_ROPE"="ROPE_Percentage",</span></span>
<span id="cb128-34"><a href="#cb128-34" aria-hidden="true" tabindex="-1"></a><span class="co">#           "(Odds Ratio)" = "Median") %&gt;%</span></span>
<span id="cb128-35"><a href="#cb128-35" aria-hidden="true" tabindex="-1"></a><span class="co">#   dplyr::select(Interpretation, Parameter, `(Odds Ratio)`, CI_low, CI_high, pd, `%_in_ROPE`)</span></span>
<span id="cb128-36"><a href="#cb128-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-37"><a href="#cb128-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-38"><a href="#cb128-38" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb128-39"><a href="#cb128-39" aria-hidden="true" tabindex="-1"></a><span class="co"># #KNIT</span></span>
<span id="cb128-40"><a href="#cb128-40" aria-hidden="true" tabindex="-1"></a><span class="co"># title = "Study 3A (Lab) | Question Interpretation | Mixed Multinomial Regression"</span></span>
<span id="cb128-41"><a href="#cb128-41" aria-hidden="true" tabindex="-1"></a><span class="co"># tab &lt;- kbl(x, format = "latex", caption = title,</span></span>
<span id="cb128-42"><a href="#cb128-42" aria-hidden="true" tabindex="-1"></a><span class="co">#            booktabs = FALSE) %&gt;% kable_classic() %&gt;%</span></span>
<span id="cb128-43"><a href="#cb128-43" aria-hidden="true" tabindex="-1"></a><span class="co"># footnote(general = paste("Model Interpretation ~ ",b$Model[2], "Bayes Factor ", format( exp(b$log_BF[2]), digits =2 ) ), footnote_as_chunk = T, general_title = "")</span></span>
<span id="cb128-44"><a href="#cb128-44" aria-hidden="true" tabindex="-1"></a><span class="co"># writeLines(tab, "tables/SGC3A_LAB_BRMS_state.tex")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="visualize-3" class="level5">
<h5 class="anchored" data-anchor-id="visualize-3">Visualize</h5>
<div class="cell">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="do">## | PLOT PARAMETERS </span></span>
<span id="cb129-2"><a href="#cb129-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-3"><a href="#cb129-3" aria-hidden="true" tabindex="-1"></a><span class="co">#SJPLOT | MODEL | ODDS RATIO</span></span>
<span id="cb129-4"><a href="#cb129-4" aria-hidden="true" tabindex="-1"></a><span class="co"># plot_model(m, vline.color = "red",</span></span>
<span id="cb129-5"><a href="#cb129-5" aria-hidden="true" tabindex="-1"></a><span class="co">#            show.intercept = TRUE,</span></span>
<span id="cb129-6"><a href="#cb129-6" aria-hidden="true" tabindex="-1"></a><span class="co">#            show.values = TRUE,</span></span>
<span id="cb129-7"><a href="#cb129-7" aria-hidden="true" tabindex="-1"></a><span class="co">#            p.threshold = 0.1, #manually adjust to account for directional test</span></span>
<span id="cb129-8"><a href="#cb129-8" aria-hidden="true" tabindex="-1"></a><span class="co">#            ci.lvl = 0.90 ) + #manually adjusted for directional test</span></span>
<span id="cb129-9"><a href="#cb129-9" aria-hidden="true" tabindex="-1"></a><span class="co">#   labs(title = "Model Estimate | Odds Ratio",</span></span>
<span id="cb129-10"><a href="#cb129-10" aria-hidden="true" tabindex="-1"></a><span class="co">#        subtitle = "",</span></span>
<span id="cb129-11"><a href="#cb129-11" aria-hidden="true" tabindex="-1"></a><span class="co">#        x = "Condition")</span></span>
<span id="cb129-12"><a href="#cb129-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-13"><a href="#cb129-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-14"><a href="#cb129-14" aria-hidden="true" tabindex="-1"></a><span class="co">#EASYSTATS | MODEL | ODDS RATIO</span></span>
<span id="cb129-15"><a href="#cb129-15" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">model_parameters</span>(Bmm.cat.CrSQ, <span class="at">exponentiate =</span> <span class="cn">TRUE</span>, <span class="at">component =</span> <span class="st">"all"</span>)</span>
<span id="cb129-16"><a href="#cb129-16" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(result, <span class="at">show_intercept =</span> <span class="cn">TRUE</span>, <span class="at">show_labels =</span> <span class="cn">TRUE</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="4_sgc4B_hypotesting_files/figure-html/VIS-BRMS-STATE-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="co"># + theme_clean()</span></span>
<span id="cb130-2"><a href="#cb130-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-3"><a href="#cb130-3" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb130-4"><a href="#cb130-4" aria-hidden="true" tabindex="-1"></a><span class="co"># result &lt;- estimate_density(m,exponentiate = TRUE)</span></span>
<span id="cb130-5"><a href="#cb130-5" aria-hidden="true" tabindex="-1"></a><span class="co"># plot(result,  stack = FALSE, priors = TRUE)</span></span>
<span id="cb130-6"><a href="#cb130-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-7"><a href="#cb130-7" aria-hidden="true" tabindex="-1"></a><span class="do">## | PLOT TESTS</span></span>
<span id="cb130-8"><a href="#cb130-8" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">equivalence_test</span>(m, <span class="at">rule =</span> <span class="st">"classic"</span>, <span class="at">ci=</span><span class="fl">0.9</span>) <span class="co">#classic[tost], , bayes</span></span>
<span id="cb130-9"><a href="#cb130-9" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(result)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Picking joint bandwidth of 0.0731</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 5400 rows containing non-finite values (stat_density_ridges).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="4_sgc4B_hypotesting_files/figure-html/VIS-BRMS-STATE-2.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">rope</span>(m)</span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(result)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="4_sgc4B_hypotesting_files/figure-html/VIS-BRMS-STATE-3.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb134"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a>(result <span class="ot">&lt;-</span> <span class="fu">pd</span>(m,<span class="at">exponentiate =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Probability of Direction

Parameter                          |     pd
-------------------------------------------
muother_Intercept                  |   100%
muangular_Intercept                |   100%
mutriangular_Intercept             |   100%
muother_pretty_conditioncross      | 95.28%
muother_pretty_conditionarrow      | 55.37%
muangular_pretty_conditioncross    | 97.42%
muangular_pretty_conditionarrow    | 74.47%
mutriangular_pretty_conditioncross | 87.92%
mutriangular_pretty_conditionarrow | 99.57%</code></pre>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb136"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(result, <span class="at">show_intercept =</span> <span class="cn">TRUE</span>, <span class="at">show_labels =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="4_sgc4B_hypotesting_files/figure-html/VIS-BRMS-STATE-4.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="do">## | PLOT PREDICTIONS</span></span>
<span id="cb137-2"><a href="#cb137-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-3"><a href="#cb137-3" aria-hidden="true" tabindex="-1"></a><span class="co">#SJPLOT | MODEL | PROBABILITIES</span></span>
<span id="cb137-4"><a href="#cb137-4" aria-hidden="true" tabindex="-1"></a><span class="co"># plot_model(m, type="eff",</span></span>
<span id="cb137-5"><a href="#cb137-5" aria-hidden="true" tabindex="-1"></a><span class="co">#            show.intercept = TRUE,</span></span>
<span id="cb137-6"><a href="#cb137-6" aria-hidden="true" tabindex="-1"></a><span class="co">#            show.values = TRUE,</span></span>
<span id="cb137-7"><a href="#cb137-7" aria-hidden="true" tabindex="-1"></a><span class="co">#            title = "Model Prediction | Probability of Accurate Response",</span></span>
<span id="cb137-8"><a href="#cb137-8" aria-hidden="true" tabindex="-1"></a><span class="co">#            axis.title = c("Condition","Probability of Accurate Response"))</span></span>
<span id="cb137-9"><a href="#cb137-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-10"><a href="#cb137-10" aria-hidden="true" tabindex="-1"></a><span class="co"># #PLOT MODEL PREDICTION</span></span>
<span id="cb137-11"><a href="#cb137-11" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_model</span>(m, <span class="at">type =</span> <span class="st">"pred"</span>,</span>
<span id="cb137-12"><a href="#cb137-12" aria-hidden="true" tabindex="-1"></a>           <span class="at">title =</span> <span class="st">"Model PREDICTION | Probability of Response Interpretation"</span>,</span>
<span id="cb137-13"><a href="#cb137-13" aria-hidden="true" tabindex="-1"></a>           <span class="at">axis.title =</span> <span class="fu">c</span>(<span class="st">"Condition"</span>, <span class="st">"Probability of Response Interpretation"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Note: uncertainty of error terms are not taken into account. You may want to use `rstantools::posterior_predict()`.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>$pretty_condition</code></pre>
</div>
<div class="cell-output-display">
<p><img src="4_sgc4B_hypotesting_files/figure-html/VIS-BRMS-STATE-5.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb140"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a><span class="co">#TODO OUTPUT TABLE </span></span>
<span id="cb140-2"><a href="#cb140-2" aria-hidden="true" tabindex="-1"></a><span class="co"># modelsummary(m)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="compare" class="level5">
<h5 class="anchored" data-anchor-id="compare">COMPARE</h5>
<div class="cell">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="co"># compare_models(m.mbl1, mm.cat.CrSQ)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="diagnostics-1" class="level5">
<h5 class="anchored" data-anchor-id="diagnostics-1">Diagnostics</h5>
<div class="cell">
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb142"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="co">#CHECK Fit of posterior predictive to data</span></span>
<span id="cb142-2"><a href="#cb142-2" aria-hidden="true" tabindex="-1"></a><span class="fu">pp_check</span>(Bmm.cat.CrSQ, <span class="at">ndraws=</span><span class="dv">1000</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="4_sgc4B_hypotesting_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="co">#CHECK posterior vs. priors</span></span>
<span id="cb143-2"><a href="#cb143-2" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">estimate_density</span>(Bmm.cat.CrSQ)</span>
<span id="cb143-3"><a href="#cb143-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(result, <span class="at">stack =</span> <span class="cn">FALSE</span>, <span class="at">priors=</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="4_sgc4B_hypotesting_files/figure-html/unnamed-chunk-28-2.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>CODE</summary>
<div class="sourceCode cell-code" id="cb144"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="co">#CHECK model</span></span>
<span id="cb144-2"><a href="#cb144-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(Bmm.cat.CrSQ)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="4_sgc4B_hypotesting_files/figure-html/unnamed-chunk-28-3.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="4_sgc4B_hypotesting_files/figure-html/unnamed-chunk-28-4.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="4_sgc4B_hypotesting_files/figure-html/unnamed-chunk-28-5.png" class="img-fluid" width="672"></p>
</div>
</div>


<!-- -->

</section>
</section>
</section>

</main> <!-- /main -->
<script type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../../analysis/SGC4B/2_sgc4B_scoring.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Response Scoring</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../../analysis/SGC4C/1_sgc4C_introduction.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Introduction</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb145" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb145-2"><a href="#cb145-2" aria-hidden="true" tabindex="-1"></a><span class="an">subtitle:</span><span class="co"> 'Study SGC4B | Hypothesis Testing'</span></span>
<span id="cb145-3"><a href="#cb145-3" aria-hidden="true" tabindex="-1"></a><span class="co"># YAML FOR generating modelsummary tables</span></span>
<span id="cb145-4"><a href="#cb145-4" aria-hidden="true" tabindex="-1"></a><span class="co"># uncomment to run those  cells only </span></span>
<span id="cb145-5"><a href="#cb145-5" aria-hidden="true" tabindex="-1"></a><span class="co"># \usepackage{booktabs}</span></span>
<span id="cb145-6"><a href="#cb145-6" aria-hidden="true" tabindex="-1"></a><span class="co"># \usepackage{siunitx}</span></span>
<span id="cb145-7"><a href="#cb145-7" aria-hidden="true" tabindex="-1"></a><span class="co"># \newcolumntype{d}{S[input-symbols = ()]}</span></span>
<span id="cb145-8"><a href="#cb145-8" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb145-9"><a href="#cb145-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-10"><a href="#cb145-10" aria-hidden="true" tabindex="-1"></a>\newpage</span>
<span id="cb145-11"><a href="#cb145-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-12"><a href="#cb145-12" aria-hidden="true" tabindex="-1"></a><span class="fu"># Hypothesis Testing {#sec-SGC4B-hypotesting}</span></span>
<span id="cb145-13"><a href="#cb145-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-14"><a href="#cb145-14" aria-hidden="true" tabindex="-1"></a>*The purpose of this notebook is test the hypotheses that determined the designs of the SGC4B study.*</span>
<span id="cb145-15"><a href="#cb145-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-18"><a href="#cb145-18" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb145-19"><a href="#cb145-19" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: SETUP</span></span>
<span id="cb145-20"><a href="#cb145-20" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning : false</span></span>
<span id="cb145-21"><a href="#cb145-21" aria-hidden="true" tabindex="-1"></a><span class="co">#| message : false</span></span>
<span id="cb145-22"><a href="#cb145-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-23"><a href="#cb145-23" aria-hidden="true" tabindex="-1"></a><span class="co">#UTILITIES</span></span>
<span id="cb145-24"><a href="#cb145-24" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Hmisc) <span class="co"># %nin% operator</span></span>
<span id="cb145-25"><a href="#cb145-25" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom) <span class="co">#tidy model output</span></span>
<span id="cb145-26"><a href="#cb145-26" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom.mixed) <span class="co">#tidy model output</span></span>
<span id="cb145-27"><a href="#cb145-27" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mosaic) <span class="co">#favstats</span></span>
<span id="cb145-28"><a href="#cb145-28" aria-hidden="true" tabindex="-1"></a><span class="co"># library(modelr)</span></span>
<span id="cb145-29"><a href="#cb145-29" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(distributional)</span>
<span id="cb145-30"><a href="#cb145-30" aria-hidden="true" tabindex="-1"></a><span class="co"># library(jtools)</span></span>
<span id="cb145-31"><a href="#cb145-31" aria-hidden="true" tabindex="-1"></a><span class="co"># library(pwr) #power analysis</span></span>
<span id="cb145-32"><a href="#cb145-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-33"><a href="#cb145-33" aria-hidden="true" tabindex="-1"></a><span class="co">#VISUALIZATION</span></span>
<span id="cb145-34"><a href="#cb145-34" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb145-35"><a href="#cb145-35" aria-hidden="true" tabindex="-1"></a><span class="co"># library(ggpubr) #arrange plots</span></span>
<span id="cb145-36"><a href="#cb145-36" aria-hidden="true" tabindex="-1"></a><span class="co"># library(cowplot) #arrange shift function plots</span></span>
<span id="cb145-37"><a href="#cb145-37" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggformula) <span class="co">#easy graphs</span></span>
<span id="cb145-38"><a href="#cb145-38" aria-hidden="true" tabindex="-1"></a><span class="co"># # library(vcd) #mosaic plots</span></span>
<span id="cb145-39"><a href="#cb145-39" aria-hidden="true" tabindex="-1"></a><span class="co"># # library(vcdExtra) #mosaic plots</span></span>
<span id="cb145-40"><a href="#cb145-40" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra) <span class="co">#printing tables</span></span>
<span id="cb145-41"><a href="#cb145-41" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sjPlot) <span class="co">#visualize model coefficients</span></span>
<span id="cb145-42"><a href="#cb145-42" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggdist) <span class="co">#uncertainty viz</span></span>
<span id="cb145-43"><a href="#cb145-43" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gghalves) <span class="co"># plots. in half</span></span>
<span id="cb145-44"><a href="#cb145-44" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggbeeswarm) <span class="co"># violin plot stuffs</span></span>
<span id="cb145-45"><a href="#cb145-45" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(statsExpressions)</span>
<span id="cb145-46"><a href="#cb145-46" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggstatsplot) <span class="co">#plots with stats</span></span>
<span id="cb145-47"><a href="#cb145-47" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(modelsummary) <span class="co">#latex tables for models!</span></span>
<span id="cb145-48"><a href="#cb145-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-49"><a href="#cb145-49" aria-hidden="true" tabindex="-1"></a><span class="co">#MODELLING</span></span>
<span id="cb145-50"><a href="#cb145-50" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ARTool) <span class="co">#nonparametric anova</span></span>
<span id="cb145-51"><a href="#cb145-51" aria-hidden="true" tabindex="-1"></a><span class="co"># library(rstatix) #helpful testing functions incl wilcoxon, etc</span></span>
<span id="cb145-52"><a href="#cb145-52" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(insight)</span>
<span id="cb145-53"><a href="#cb145-53" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(report) <span class="co">#easystats reporting</span></span>
<span id="cb145-54"><a href="#cb145-54" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(see) <span class="co">#easystats visualization</span></span>
<span id="cb145-55"><a href="#cb145-55" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(performance) <span class="co">#easystats model diagnostics</span></span>
<span id="cb145-56"><a href="#cb145-56" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(parameters) <span class="co">#easystats model summary and vis</span></span>
<span id="cb145-57"><a href="#cb145-57" aria-hidden="true" tabindex="-1"></a><span class="co"># library(qqplotr) #confint on qq plot</span></span>
<span id="cb145-58"><a href="#cb145-58" aria-hidden="true" tabindex="-1"></a><span class="co"># library(gmodels) #contingency table and CHISQR</span></span>
<span id="cb145-59"><a href="#cb145-59" aria-hidden="true" tabindex="-1"></a><span class="co"># library(equatiomatic) #extract model equation</span></span>
<span id="cb145-60"><a href="#cb145-60" aria-hidden="true" tabindex="-1"></a><span class="co"># library(pscl) #zeroinfl / hurdle models </span></span>
<span id="cb145-61"><a href="#cb145-61" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lme4) <span class="co">#mixed effects models</span></span>
<span id="cb145-62"><a href="#cb145-62" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lmerTest) <span class="co">#for CIs in glmer</span></span>
<span id="cb145-63"><a href="#cb145-63" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(merTools)</span>
<span id="cb145-64"><a href="#cb145-64" aria-hidden="true" tabindex="-1"></a><span class="co"># library(ggeffects) #visualization log regr models</span></span>
<span id="cb145-65"><a href="#cb145-65" aria-hidden="true" tabindex="-1"></a><span class="co">#MULTINOMIAL </span></span>
<span id="cb145-66"><a href="#cb145-66" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(nnet) <span class="co">#multinomial logistic regression [not mixed] #no p values</span></span>
<span id="cb145-67"><a href="#cb145-67" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mclogit) <span class="co">#frequentist mixed multinomial logistic regression [mblogit] #gives p values</span></span>
<span id="cb145-68"><a href="#cb145-68" aria-hidden="true" tabindex="-1"></a><span class="co">#BAYESIAN</span></span>
<span id="cb145-69"><a href="#cb145-69" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(cmdstanr) <span class="co">#executing stan</span></span>
<span id="cb145-70"><a href="#cb145-70" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(brms) <span class="co">#bayesian mixed multinomials [+ other bayesian reg models]</span></span>
<span id="cb145-71"><a href="#cb145-71" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(bayestestR) </span>
<span id="cb145-72"><a href="#cb145-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-73"><a href="#cb145-73" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) <span class="co">#ALL THE THINGS</span></span>
<span id="cb145-74"><a href="#cb145-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-75"><a href="#cb145-75" aria-hidden="true" tabindex="-1"></a><span class="co">#OUTPUT OPTIONS</span></span>
<span id="cb145-76"><a href="#cb145-76" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr, <span class="at">warn.conflicts =</span> <span class="cn">FALSE</span>)</span>
<span id="cb145-77"><a href="#cb145-77" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">dplyr.summarise.inform =</span> <span class="cn">FALSE</span>)</span>
<span id="cb145-78"><a href="#cb145-78" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">ggplot2.summarise.inform =</span> <span class="cn">FALSE</span>)</span>
<span id="cb145-79"><a href="#cb145-79" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen=</span><span class="dv">1</span>, <span class="at">digits=</span><span class="dv">3</span>)</span>
<span id="cb145-80"><a href="#cb145-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-81"><a href="#cb145-81" aria-hidden="true" tabindex="-1"></a><span class="co">#GRAPH THEMEING</span></span>
<span id="cb145-82"><a href="#cb145-82" aria-hidden="true" tabindex="-1"></a><span class="co"># theme_set(theme_minimal()) </span></span>
<span id="cb145-83"><a href="#cb145-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-84"><a href="#cb145-84" aria-hidden="true" tabindex="-1"></a><span class="co"># Custom ggplot theme to make pretty plots</span></span>
<span id="cb145-85"><a href="#cb145-85" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the font at https://fonts.google.com/specimen/Barlow+Semi+Condensed</span></span>
<span id="cb145-86"><a href="#cb145-86" aria-hidden="true" tabindex="-1"></a>theme_clean <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb145-87"><a href="#cb145-87" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_family =</span> <span class="st">"Barlow Semi Condensed"</span>) <span class="sc">+</span></span>
<span id="cb145-88"><a href="#cb145-88" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb145-89"><a href="#cb145-89" aria-hidden="true" tabindex="-1"></a>          <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">"BarlowSemiCondensed-Bold"</span>),</span>
<span id="cb145-90"><a href="#cb145-90" aria-hidden="true" tabindex="-1"></a>          <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">"BarlowSemiCondensed-Medium"</span>),</span>
<span id="cb145-91"><a href="#cb145-91" aria-hidden="true" tabindex="-1"></a>          <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">"BarlowSemiCondensed-Bold"</span>,</span>
<span id="cb145-92"><a href="#cb145-92" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">1</span>), <span class="at">hjust =</span> <span class="dv">0</span>),</span>
<span id="cb145-93"><a href="#cb145-93" aria-hidden="true" tabindex="-1"></a>          <span class="at">strip.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"grey80"</span>, <span class="at">color =</span> <span class="cn">NA</span>))</span>
<span id="cb145-94"><a href="#cb145-94" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb145-95"><a href="#cb145-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-96"><a href="#cb145-96" aria-hidden="true" tabindex="-1"></a><span class="fu">set_theme</span>(<span class="at">base =</span> <span class="fu">theme_clean</span>())</span>
<span id="cb145-97"><a href="#cb145-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-98"><a href="#cb145-98" aria-hidden="true" tabindex="-1"></a><span class="do">##IMPORT CUSTOM COLOR PALETTES</span></span>
<span id="cb145-99"><a href="#cb145-99" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"analysis/utils/foxy_palettes.R"</span>)</span>
<span id="cb145-100"><a href="#cb145-100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-101"><a href="#cb145-101" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1234</span>)</span>
<span id="cb145-102"><a href="#cb145-102" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb145-103"><a href="#cb145-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-104"><a href="#cb145-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-107"><a href="#cb145-107" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb145-108"><a href="#cb145-108" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: IMPORT-DATA</span></span>
<span id="cb145-109"><a href="#cb145-109" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning : false</span></span>
<span id="cb145-110"><a href="#cb145-110" aria-hidden="true" tabindex="-1"></a><span class="co">#| message : false</span></span>
<span id="cb145-111"><a href="#cb145-111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-112"><a href="#cb145-112" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">HACK</span><span class="co"> WD FOR LOCAL RUNNING?</span></span>
<span id="cb145-113"><a href="#cb145-113" aria-hidden="true" tabindex="-1"></a><span class="co"># imac = "/Users/amyraefox/Code/SGC-Scaffolding_Graph_Comprehension/SGC-X/ANALYSIS/MAIN"</span></span>
<span id="cb145-114"><a href="#cb145-114" aria-hidden="true" tabindex="-1"></a><span class="co"># mbp = "/Users/amyfox/Sites/RESEARCH/SGC—Scaffolding Graph Comprehension/SGC-X/ANALYSIS/MAIN"</span></span>
<span id="cb145-115"><a href="#cb145-115" aria-hidden="true" tabindex="-1"></a><span class="co"># setwd(mbp)</span></span>
<span id="cb145-116"><a href="#cb145-116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-117"><a href="#cb145-117" aria-hidden="true" tabindex="-1"></a><span class="co">#IMPORT DATA </span></span>
<span id="cb145-118"><a href="#cb145-118" aria-hidden="true" tabindex="-1"></a>df_subjects <span class="ot">&lt;-</span> <span class="fu">read_rds</span>(<span class="st">'analysis/SGC4B/data/2-scored-data/sgc4b_scored_participants.rds'</span>)<span class="sc">%&gt;%</span> </span>
<span id="cb145-119"><a href="#cb145-119" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb145-120"><a href="#cb145-120" aria-hidden="true" tabindex="-1"></a>    <span class="at">task_percent =</span> DV_percent_NABS</span>
<span id="cb145-121"><a href="#cb145-121" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb145-122"><a href="#cb145-122" aria-hidden="true" tabindex="-1"></a>df_items <span class="ot">&lt;-</span> <span class="fu">read_rds</span>(<span class="st">'analysis/SGC4B/data/2-scored-data/sgc4b_scored_items.rds'</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb145-123"><a href="#cb145-123" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span> (</span>
<span id="cb145-124"><a href="#cb145-124" aria-hidden="true" tabindex="-1"></a>    <span class="at">q =</span> <span class="fu">as.factor</span>(q), </span>
<span id="cb145-125"><a href="#cb145-125" aria-hidden="true" tabindex="-1"></a>    <span class="at">subject =</span> <span class="fu">as.factor</span>(subject),</span>
<span id="cb145-126"><a href="#cb145-126" aria-hidden="true" tabindex="-1"></a>    <span class="at">accuracy =</span> <span class="fu">recode_factor</span>(score_niceABS, <span class="st">"0"</span> <span class="ot">=</span><span class="st">"incorrect"</span>,<span class="st">"1"</span><span class="ot">=</span><span class="st">"correct"</span>),</span>
<span id="cb145-127"><a href="#cb145-127" aria-hidden="true" tabindex="-1"></a>    <span class="at">pretty_condition =</span> <span class="fu">fct_relevel</span>(pretty_condition,</span>
<span id="cb145-128"><a href="#cb145-128" aria-hidden="true" tabindex="-1"></a>                               <span class="fu">c</span>(<span class="st">"point"</span>,<span class="st">"cross"</span>,<span class="st">"arrow"</span>)),</span>
<span id="cb145-129"><a href="#cb145-129" aria-hidden="true" tabindex="-1"></a>    <span class="at">state =</span> <span class="fu">recode_factor</span>(score_SCALED, <span class="co">#for ordinal</span></span>
<span id="cb145-130"><a href="#cb145-130" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"-1"</span> <span class="ot">=</span> <span class="st">"orthogonal"</span>,</span>
<span id="cb145-131"><a href="#cb145-131" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"-0.5"</span> <span class="ot">=</span> <span class="st">"other"</span>,</span>
<span id="cb145-132"><a href="#cb145-132" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"0"</span> <span class="ot">=</span> <span class="st">"other"</span>,</span>
<span id="cb145-133"><a href="#cb145-133" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"0.5"</span> <span class="ot">=</span> <span class="st">"angular"</span>,</span>
<span id="cb145-134"><a href="#cb145-134" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"1"</span> <span class="ot">=</span> <span class="st">"triangular"</span>),</span>
<span id="cb145-135"><a href="#cb145-135" aria-hidden="true" tabindex="-1"></a>    <span class="at">state =</span> <span class="fu">as.ordered</span>(state))</span>
<span id="cb145-136"><a href="#cb145-136" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-137"><a href="#cb145-137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-138"><a href="#cb145-138" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb145-139"><a href="#cb145-139" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-140"><a href="#cb145-140" aria-hidden="true" tabindex="-1"></a><span class="fu">## SAMPLE</span></span>
<span id="cb145-141"><a href="#cb145-141" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-142"><a href="#cb145-142" aria-hidden="true" tabindex="-1"></a><span class="fu">### Data Collection</span></span>
<span id="cb145-143"><a href="#cb145-143" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-144"><a href="#cb145-144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-147"><a href="#cb145-147" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb145-148"><a href="#cb145-148" aria-hidden="true" tabindex="-1"></a><span class="co">#| label : DESC-DATA-COLLECTION</span></span>
<span id="cb145-149"><a href="#cb145-149" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-150"><a href="#cb145-150" aria-hidden="true" tabindex="-1"></a>title <span class="ot">=</span> <span class="st">"Participants by Condition and Data Collection Period"</span></span>
<span id="cb145-151"><a href="#cb145-151" aria-hidden="true" tabindex="-1"></a>cols <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"point"</span>,<span class="st">"cross"</span>,<span class="st">"arrow"</span>,<span class="st">"Total for Period"</span>)</span>
<span id="cb145-152"><a href="#cb145-152" aria-hidden="true" tabindex="-1"></a>cont <span class="ot">&lt;-</span> <span class="fu">table</span>(df_subjects<span class="sc">$</span>term, df_subjects<span class="sc">$</span>condition)</span>
<span id="cb145-153"><a href="#cb145-153" aria-hidden="true" tabindex="-1"></a>cont <span class="sc">%&gt;%</span> <span class="fu">addmargins</span>() <span class="sc">%&gt;%</span> <span class="fu">kbl</span>(<span class="at">caption =</span> title, <span class="at">col.names =</span> cols) <span class="sc">%&gt;%</span>  <span class="fu">kable_classic</span>()</span>
<span id="cb145-154"><a href="#cb145-154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-155"><a href="#cb145-155" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb145-156"><a href="#cb145-156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-157"><a href="#cb145-157" aria-hidden="true" tabindex="-1"></a><span class="fu">### Participants</span></span>
<span id="cb145-158"><a href="#cb145-158" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-161"><a href="#cb145-161" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb145-162"><a href="#cb145-162" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: DESC-PARTICIPANTS</span></span>
<span id="cb145-163"><a href="#cb145-163" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-164"><a href="#cb145-164" aria-hidden="true" tabindex="-1"></a><span class="co">#Describe participants</span></span>
<span id="cb145-165"><a href="#cb145-165" aria-hidden="true" tabindex="-1"></a>subject.stats <span class="ot">&lt;-</span>df_subjects <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(age) <span class="sc">%&gt;%</span> <span class="fu">unlist</span>() <span class="sc">%&gt;%</span> <span class="fu">favstats</span>()</span>
<span id="cb145-166"><a href="#cb145-166" aria-hidden="true" tabindex="-1"></a>subject.stats<span class="sc">$</span>percent.male <span class="ot">&lt;-</span> ((df_subjects <span class="sc">%&gt;%</span> <span class="fu">filter</span>(gender<span class="sc">==</span><span class="st">"Male"</span>) <span class="sc">%&gt;%</span> <span class="fu">count</span>())<span class="sc">/</span><span class="fu">count</span>(df_subjects))<span class="sc">$</span>n</span>
<span id="cb145-167"><a href="#cb145-167" aria-hidden="true" tabindex="-1"></a>subject.stats<span class="sc">$</span>percent.female <span class="ot">&lt;-</span> ((df_subjects <span class="sc">%&gt;%</span> <span class="fu">filter</span>(gender<span class="sc">==</span><span class="st">"Female"</span>) <span class="sc">%&gt;%</span> <span class="fu">count</span>())<span class="sc">/</span><span class="fu">count</span>(df_subjects))<span class="sc">$</span>n</span>
<span id="cb145-168"><a href="#cb145-168" aria-hidden="true" tabindex="-1"></a>subject.stats<span class="sc">$</span>percent.other <span class="ot">&lt;-</span> ((df_subjects <span class="sc">%&gt;%</span> <span class="fu">filter</span>(gender <span class="sc">%nin%</span> <span class="fu">c</span>(<span class="st">"Female"</span>,<span class="st">"Male"</span>)) <span class="sc">%&gt;%</span> <span class="fu">count</span>())<span class="sc">/</span><span class="fu">count</span>(df_subjects))<span class="sc">$</span>n</span>
<span id="cb145-169"><a href="#cb145-169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-170"><a href="#cb145-170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-171"><a href="#cb145-171" aria-hidden="true" tabindex="-1"></a>title <span class="ot">=</span> <span class="st">"Descriptive Statistics of Participant Age and Gender"</span></span>
<span id="cb145-172"><a href="#cb145-172" aria-hidden="true" tabindex="-1"></a>subject.stats <span class="sc">%&gt;%</span> <span class="fu">kbl</span> (<span class="at">caption =</span> title) <span class="sc">%&gt;%</span> <span class="fu">kable_classic</span>()<span class="sc">%&gt;%</span> </span>
<span id="cb145-173"><a href="#cb145-173" aria-hidden="true" tabindex="-1"></a>  <span class="fu">footnote</span>(<span class="at">general =</span> <span class="st">"Age in Years"</span>, </span>
<span id="cb145-174"><a href="#cb145-174" aria-hidden="true" tabindex="-1"></a>           <span class="at">general_title =</span> <span class="st">"Note: "</span>,<span class="at">footnote_as_chunk =</span> T) </span>
<span id="cb145-175"><a href="#cb145-175" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb145-176"><a href="#cb145-176" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-177"><a href="#cb145-177" aria-hidden="true" tabindex="-1"></a>**Reported**</span>
<span id="cb145-178"><a href="#cb145-178" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-179"><a href="#cb145-179" aria-hidden="true" tabindex="-1"></a>**Overall** <span class="in">`r subject.stats$n`</span> participants (<span class="in">`r round((subject.stats$percent.male),2) * 100`</span> % male, <span class="in">`r round((subject.stats$percent.female),2) * 100`</span> % female, <span class="in">`r round((subject.stats$percent.other),2) * 100`</span> % other)  undergraduate STEM majors at a public American University participated in exchange for course credit (age: <span class="in">`r (subject.stats$min)`</span> - <span class="in">`r (subject.stats$max)`</span> years).</span>
<span id="cb145-180"><a href="#cb145-180" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-181"><a href="#cb145-181" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-182"><a href="#cb145-182" aria-hidden="true" tabindex="-1"></a><span class="fu">## H1 —  OVERALL TASK  ACCURACY</span></span>
<span id="cb145-183"><a href="#cb145-183" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-184"><a href="#cb145-184" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Setup</span></span>
<span id="cb145-187"><a href="#cb145-187" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb145-188"><a href="#cb145-188" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: SETUP-ACC</span></span>
<span id="cb145-189"><a href="#cb145-189" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-190"><a href="#cb145-190" aria-hidden="true" tabindex="-1"></a>df_s <span class="ot">&lt;-</span> df_subjects <span class="sc">%&gt;%</span> </span>
<span id="cb145-191"><a href="#cb145-191" aria-hidden="true" tabindex="-1"></a>   dplyr<span class="sc">::</span><span class="fu">select</span>(pretty_condition, task_percent)</span>
<span id="cb145-192"><a href="#cb145-192" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-193"><a href="#cb145-193" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-194"><a href="#cb145-194" aria-hidden="true" tabindex="-1"></a>df_i <span class="ot">=</span> df_items <span class="sc">%&gt;%</span> <span class="fu">filter</span>(q <span class="sc">%nin%</span> <span class="fu">c</span>(<span class="dv">6</span>,<span class="dv">9</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb145-195"><a href="#cb145-195" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(pretty_condition, accuracy, subject,q)</span>
<span id="cb145-196"><a href="#cb145-196" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-197"><a href="#cb145-197" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb145-198"><a href="#cb145-198" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-199"><a href="#cb145-199" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-200"><a href="#cb145-200" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Visualize</span></span>
<span id="cb145-203"><a href="#cb145-203" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb145-204"><a href="#cb145-204" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: DESC-ACC</span></span>
<span id="cb145-205"><a href="#cb145-205" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-206"><a href="#cb145-206" aria-hidden="true" tabindex="-1"></a><span class="co">#:::::::: STACKED PROPORTIONAL BAR CHART</span></span>
<span id="cb145-207"><a href="#cb145-207" aria-hidden="true" tabindex="-1"></a>df_i <span class="sc">%&gt;%</span> </span>
<span id="cb145-208"><a href="#cb145-208" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">data =</span> .,</span>
<span id="cb145-209"><a href="#cb145-209" aria-hidden="true" tabindex="-1"></a>         <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> pretty_condition,</span>
<span id="cb145-210"><a href="#cb145-210" aria-hidden="true" tabindex="-1"></a>                       <span class="at">fill =</span> accuracy)) <span class="sc">+</span></span>
<span id="cb145-211"><a href="#cb145-211" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"fill"</span> ) <span class="sc">+</span> <span class="co">#,color = "black") +</span></span>
<span id="cb145-212"><a href="#cb145-212" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Set1"</span>)  <span class="sc">+</span></span>
<span id="cb145-213"><a href="#cb145-213" aria-hidden="true" tabindex="-1"></a>  <span class="co"># facet_wrap(~pretty_mode) + </span></span>
<span id="cb145-214"><a href="#cb145-214" aria-hidden="true" tabindex="-1"></a>   <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Overall Accuracy"</span>,</span>
<span id="cb145-215"><a href="#cb145-215" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Condition"</span>,</span>
<span id="cb145-216"><a href="#cb145-216" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">""</span>,</span>
<span id="cb145-217"><a href="#cb145-217" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle=</span><span class="st">"The full grid decreases performance"</span>)</span>
<span id="cb145-218"><a href="#cb145-218" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-219"><a href="#cb145-219" aria-hidden="true" tabindex="-1"></a><span class="co">#:::::::: STACKED BAR CHART BY QUESTION</span></span>
<span id="cb145-220"><a href="#cb145-220" aria-hidden="true" tabindex="-1"></a>df_items <span class="sc">%&gt;%</span> </span>
<span id="cb145-221"><a href="#cb145-221" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">data =</span> .,</span>
<span id="cb145-222"><a href="#cb145-222" aria-hidden="true" tabindex="-1"></a>         <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> pretty_condition,</span>
<span id="cb145-223"><a href="#cb145-223" aria-hidden="true" tabindex="-1"></a>                       <span class="at">fill =</span> accuracy)) <span class="sc">+</span></span>
<span id="cb145-224"><a href="#cb145-224" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"fill"</span> ) <span class="sc">+</span> <span class="co">#,color = "black") +</span></span>
<span id="cb145-225"><a href="#cb145-225" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Set1"</span>)  <span class="sc">+</span></span>
<span id="cb145-226"><a href="#cb145-226" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>q) <span class="sc">+</span></span>
<span id="cb145-227"><a href="#cb145-227" aria-hidden="true" tabindex="-1"></a>   <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Accuracy by Question"</span>,</span>
<span id="cb145-228"><a href="#cb145-228" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Condition"</span>,</span>
<span id="cb145-229"><a href="#cb145-229" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">""</span>,</span>
<span id="cb145-230"><a href="#cb145-230" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle=</span><span class="st">"Q6 and Q9 are non-discriminative"</span>)</span>
<span id="cb145-231"><a href="#cb145-231" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-232"><a href="#cb145-232" aria-hidden="true" tabindex="-1"></a><span class="co">#:::::::: FACETED HISTOGRAM</span></span>
<span id="cb145-233"><a href="#cb145-233" aria-hidden="true" tabindex="-1"></a>stats <span class="ot">=</span> df_s <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(pretty_condition) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">summarise</span>(<span class="at">mean =</span> <span class="fu">mean</span>(task_percent))</span>
<span id="cb145-234"><a href="#cb145-234" aria-hidden="true" tabindex="-1"></a><span class="fu">gf_props</span>(<span class="sc">~</span>task_percent,</span>
<span id="cb145-235"><a href="#cb145-235" aria-hidden="true" tabindex="-1"></a>         <span class="at">fill =</span> <span class="sc">~</span>pretty_condition, <span class="at">data =</span> df_s) <span class="sc">%&gt;%</span></span>
<span id="cb145-236"><a href="#cb145-236" aria-hidden="true" tabindex="-1"></a>  <span class="co"># gf_facet_grid(pretty_condition ~ pretty_mode) %&gt;%</span></span>
<span id="cb145-237"><a href="#cb145-237" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gf_facet_grid</span>(<span class="sc">~</span>pretty_condition) <span class="sc">%&gt;%</span></span>
<span id="cb145-238"><a href="#cb145-238" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gf_vline</span>(<span class="at">data =</span> stats, <span class="at">xintercept =</span> <span class="sc">~</span>mean, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb145-239"><a href="#cb145-239" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"% Correct"</span>,</span>
<span id="cb145-240"><a href="#cb145-240" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"proportion of subjects"</span>,</span>
<span id="cb145-241"><a href="#cb145-241" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Overall Absolute Score (% Correct)"</span>,</span>
<span id="cb145-242"><a href="#cb145-242" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">""</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"blank"</span>)</span>
<span id="cb145-243"><a href="#cb145-243" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-244"><a href="#cb145-244" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb145-245"><a href="#cb145-245" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-246"><a href="#cb145-246" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Present</span></span>
<span id="cb145-247"><a href="#cb145-247" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-250"><a href="#cb145-250" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb145-251"><a href="#cb145-251" aria-hidden="true" tabindex="-1"></a><span class="co">#:::::::: RAINCLOUD WITH STATS</span></span>
<span id="cb145-252"><a href="#cb145-252" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb145-253"><a href="#cb145-253" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df_s <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">task_percent =</span> task_percent<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb145-254"><a href="#cb145-254" aria-hidden="true" tabindex="-1"></a>                      <span class="at">condition =</span> <span class="fu">fct_rev</span>(pretty_condition))</span>
<span id="cb145-255"><a href="#cb145-255" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-256"><a href="#cb145-256" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span>   <span class="fu">ggbetweenstats</span>(<span class="at">data =</span> df, <span class="at">x =</span> condition, <span class="at">y =</span> task_percent,</span>
<span id="cb145-257"><a href="#cb145-257" aria-hidden="true" tabindex="-1"></a>               <span class="at">plot.type =</span> <span class="st">"box"</span>, </span>
<span id="cb145-258"><a href="#cb145-258" aria-hidden="true" tabindex="-1"></a>               <span class="co"># centrality.type = "parametric",</span></span>
<span id="cb145-259"><a href="#cb145-259" aria-hidden="true" tabindex="-1"></a>               <span class="at">results.subtitle =</span> <span class="cn">FALSE</span>,</span>
<span id="cb145-260"><a href="#cb145-260" aria-hidden="true" tabindex="-1"></a>               <span class="at">subtitle =</span> <span class="cn">NULL</span>,</span>
<span id="cb145-261"><a href="#cb145-261" aria-hidden="true" tabindex="-1"></a>               <span class="co"># package = "RColorBrewer",</span></span>
<span id="cb145-262"><a href="#cb145-262" aria-hidden="true" tabindex="-1"></a>               <span class="co"># palette = "PRGn",</span></span>
<span id="cb145-263"><a href="#cb145-263" aria-hidden="true" tabindex="-1"></a>               <span class="at">centrality.point.args =</span> <span class="fu">list</span>(<span class="at">color=</span><span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">shape =</span> <span class="dv">1</span>),</span>
<span id="cb145-264"><a href="#cb145-264" aria-hidden="true" tabindex="-1"></a>               <span class="at">point.args =</span> <span class="fu">list</span>(<span class="at">alpha=</span><span class="dv">0</span>), <span class="co">#suppress points</span></span>
<span id="cb145-265"><a href="#cb145-265" aria-hidden="true" tabindex="-1"></a>               <span class="at">ggplot.component =</span> <span class="do">## modify further with `{ggplot2}` functions</span></span>
<span id="cb145-266"><a href="#cb145-266" aria-hidden="true" tabindex="-1"></a>                <span class="fu">list</span>(</span>
<span id="cb145-267"><a href="#cb145-267" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># aes(color = pretty_condition, fill = pretty_condition),</span></span>
<span id="cb145-268"><a href="#cb145-268" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># scale_colour_manual(values = paletteer::paletteer_c("viridis::viridis", 3)),</span></span>
<span id="cb145-269"><a href="#cb145-269" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># scale_fill_manual(values = paletteer::paletteer_c("viridis::viridis", 3)),</span></span>
<span id="cb145-270"><a href="#cb145-270" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>)))</span>
<span id="cb145-271"><a href="#cb145-271" aria-hidden="true" tabindex="-1"></a>               ) <span class="sc">+</span></span>
<span id="cb145-272"><a href="#cb145-272" aria-hidden="true" tabindex="-1"></a>  <span class="co"># ggdist::stat_halfeye(</span></span>
<span id="cb145-273"><a href="#cb145-273" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   alpha = 0.7, </span></span>
<span id="cb145-274"><a href="#cb145-274" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   point_colour = NA,</span></span>
<span id="cb145-275"><a href="#cb145-275" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   adjust = .5, </span></span>
<span id="cb145-276"><a href="#cb145-276" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   width = .5, .width = 0, </span></span>
<span id="cb145-277"><a href="#cb145-277" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   justification = -.5) +</span></span>
<span id="cb145-278"><a href="#cb145-278" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(</span>
<span id="cb145-279"><a href="#cb145-279" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.1</span>,</span>
<span id="cb145-280"><a href="#cb145-280" aria-hidden="true" tabindex="-1"></a>    <span class="at">width =</span> .<span class="dv">2</span>, </span>
<span id="cb145-281"><a href="#cb145-281" aria-hidden="true" tabindex="-1"></a>    <span class="at">outlier.shape =</span> <span class="cn">NA</span></span>
<span id="cb145-282"><a href="#cb145-282" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb145-283"><a href="#cb145-283" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb145-284"><a href="#cb145-284" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">2</span>,</span>
<span id="cb145-285"><a href="#cb145-285" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> .<span class="dv">5</span>,</span>
<span id="cb145-286"><a href="#cb145-286" aria-hidden="true" tabindex="-1"></a>    <span class="at">position =</span> <span class="fu">position_jitter</span>(</span>
<span id="cb145-287"><a href="#cb145-287" aria-hidden="true" tabindex="-1"></a>      <span class="at">seed =</span> <span class="dv">1</span>, <span class="at">width =</span> .<span class="dv">08</span>, <span class="at">height =</span> <span class="fl">1.5</span></span>
<span id="cb145-288"><a href="#cb145-288" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb145-289"><a href="#cb145-289" aria-hidden="true" tabindex="-1"></a>  )  <span class="sc">+</span></span>
<span id="cb145-290"><a href="#cb145-290" aria-hidden="true" tabindex="-1"></a><span class="fu">coord_flip</span>() <span class="sc">+</span> <span class="fu">theme_clean</span>() <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"blank"</span>)</span>
<span id="cb145-291"><a href="#cb145-291" aria-hidden="true" tabindex="-1"></a>p<span class="sc">$</span>layers[[<span class="dv">3</span>]]<span class="ot">=</span><span class="cn">NULL</span> <span class="co">#remove default boxplot</span></span>
<span id="cb145-292"><a href="#cb145-292" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-293"><a href="#cb145-293" aria-hidden="true" tabindex="-1"></a><span class="co"># e &lt;- statsExpressions::two_sample_test(y = task_percent, x = pretty_condition, data = df,</span></span>
<span id="cb145-294"><a href="#cb145-294" aria-hidden="true" tabindex="-1"></a>                                <span class="co"># type = "nonparametric", alternative = "less",</span></span>
<span id="cb145-295"><a href="#cb145-295" aria-hidden="true" tabindex="-1"></a>                                <span class="co"># var.equal = FALSE)</span></span>
<span id="cb145-296"><a href="#cb145-296" aria-hidden="true" tabindex="-1"></a><span class="co">#labels are layer 4</span></span>
<span id="cb145-297"><a href="#cb145-297" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"STUDY 4B | Distribution of Total Score"</span>,</span>
<span id="cb145-298"><a href="#cb145-298" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Percentage of correct responses across task"</span>, <span class="at">x =</span> <span class="st">""</span>,</span>
<span id="cb145-299"><a href="#cb145-299" aria-hidden="true" tabindex="-1"></a>         <span class="at">subtitle =</span> <span class="st">"Impasse condition yields greater variance and more high scores"</span>)</span>
<span id="cb145-300"><a href="#cb145-300" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-301"><a href="#cb145-301" aria-hidden="true" tabindex="-1"></a>p</span>
<span id="cb145-302"><a href="#cb145-302" aria-hidden="true" tabindex="-1"></a><span class="co"># ggsave(p, filename = "figures/SGC4B_MARKS_totalscore.png", width = 6, height =4)</span></span>
<span id="cb145-303"><a href="#cb145-303" aria-hidden="true" tabindex="-1"></a><span class="co"># ggsave(p, filename = "figures/SGC3A_LAB_totalscore.svg", width = 6, height =4)</span></span>
<span id="cb145-304"><a href="#cb145-304" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-305"><a href="#cb145-305" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-306"><a href="#cb145-306" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb145-307"><a href="#cb145-307" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-310"><a href="#cb145-310" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb145-311"><a href="#cb145-311" aria-hidden="true" tabindex="-1"></a><span class="co">#:::::::: LABELLED </span></span>
<span id="cb145-312"><a href="#cb145-312" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-313"><a href="#cb145-313" aria-hidden="true" tabindex="-1"></a><span class="co"># temp &lt;- df_i %&gt;% mutate(</span></span>
<span id="cb145-314"><a href="#cb145-314" aria-hidden="true" tabindex="-1"></a><span class="co">#   accuracy = fct_rev(accuracy)</span></span>
<span id="cb145-315"><a href="#cb145-315" aria-hidden="true" tabindex="-1"></a><span class="co"># )  </span></span>
<span id="cb145-316"><a href="#cb145-316" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb145-317"><a href="#cb145-317" aria-hidden="true" tabindex="-1"></a><span class="co"># p &lt;-  </span></span>
<span id="cb145-318"><a href="#cb145-318" aria-hidden="true" tabindex="-1"></a><span class="co"># ggbarstats(data = temp, x = accuracy, y = pretty_condition,</span></span>
<span id="cb145-319"><a href="#cb145-319" aria-hidden="true" tabindex="-1"></a><span class="co">#                results.subtitle = FALSE,</span></span>
<span id="cb145-320"><a href="#cb145-320" aria-hidden="true" tabindex="-1"></a><span class="co">#                ggplot.component = ## modify further with `{ggplot2}` functions</span></span>
<span id="cb145-321"><a href="#cb145-321" aria-hidden="true" tabindex="-1"></a><span class="co">#                 list(</span></span>
<span id="cb145-322"><a href="#cb145-322" aria-hidden="true" tabindex="-1"></a><span class="co">#                   scale_fill_foxy(discrete = TRUE, "accuracy")</span></span>
<span id="cb145-323"><a href="#cb145-323" aria-hidden="true" tabindex="-1"></a><span class="co">#                   # scale_fill_manual(values = paletteer::paletteer_d("lisa::FridaKahlo", 2))</span></span>
<span id="cb145-324"><a href="#cb145-324" aria-hidden="true" tabindex="-1"></a><span class="co">#                   # scale_fill_manual(values = paletteer::paletteer_d("lisa::FridaKahlo", 2))</span></span>
<span id="cb145-325"><a href="#cb145-325" aria-hidden="true" tabindex="-1"></a><span class="co">#                   # theme(axis.text.x = element_text(angle = 90)))</span></span>
<span id="cb145-326"><a href="#cb145-326" aria-hidden="true" tabindex="-1"></a><span class="co">#                ))  + theme_clean() + theme(legend.position = "bottom")</span></span>
<span id="cb145-327"><a href="#cb145-327" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb145-328"><a href="#cb145-328" aria-hidden="true" tabindex="-1"></a><span class="co"># p &lt;- p + labs(title = "DISTRIBUTION | Question Accuracy",</span></span>
<span id="cb145-329"><a href="#cb145-329" aria-hidden="true" tabindex="-1"></a><span class="co">#          y = "Proportion of Questions", x = "Condition",</span></span>
<span id="cb145-330"><a href="#cb145-330" aria-hidden="true" tabindex="-1"></a><span class="co">#          subtitle = "")</span></span>
<span id="cb145-331"><a href="#cb145-331" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb145-332"><a href="#cb145-332" aria-hidden="true" tabindex="-1"></a><span class="co"># p </span></span>
<span id="cb145-333"><a href="#cb145-333" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-334"><a href="#cb145-334" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-335"><a href="#cb145-335" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> df_i <span class="sc">%&gt;%</span> </span>
<span id="cb145-336"><a href="#cb145-336" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">data =</span> .,</span>
<span id="cb145-337"><a href="#cb145-337" aria-hidden="true" tabindex="-1"></a>         <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> pretty_condition,</span>
<span id="cb145-338"><a href="#cb145-338" aria-hidden="true" tabindex="-1"></a>                       <span class="at">fill =</span> accuracy)) <span class="sc">+</span></span>
<span id="cb145-339"><a href="#cb145-339" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"fill"</span>, <span class="at">width =</span> <span class="fl">0.5</span> ) <span class="sc">+</span> <span class="co">#,color = "black") +</span></span>
<span id="cb145-340"><a href="#cb145-340" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_foxy</span>(<span class="at">discrete =</span> <span class="cn">TRUE</span>, <span class="st">"accuracy"</span>)  <span class="sc">+</span></span>
<span id="cb145-341"><a href="#cb145-341" aria-hidden="true" tabindex="-1"></a>  <span class="co"># scale_fill_manual(values = paletteer::paletteer_d("lisa::FridaKahlo", 2))+</span></span>
<span id="cb145-342"><a href="#cb145-342" aria-hidden="true" tabindex="-1"></a>  <span class="co"># facet_wrap(~pretty_mode) + </span></span>
<span id="cb145-343"><a href="#cb145-343" aria-hidden="true" tabindex="-1"></a>  <span class="co"># coord_flip() +</span></span>
<span id="cb145-344"><a href="#cb145-344" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">"bottom"</span>)<span class="sc">+</span></span>
<span id="cb145-345"><a href="#cb145-345" aria-hidden="true" tabindex="-1"></a>   <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"DISTRIBUTION | Question Accuracy"</span>,</span>
<span id="cb145-346"><a href="#cb145-346" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Condition"</span>,</span>
<span id="cb145-347"><a href="#cb145-347" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Proportion of Questions"</span>,</span>
<span id="cb145-348"><a href="#cb145-348" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">""</span>,</span>
<span id="cb145-349"><a href="#cb145-349" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle=</span><span class="st">""</span>)</span>
<span id="cb145-350"><a href="#cb145-350" aria-hidden="true" tabindex="-1"></a>p</span>
<span id="cb145-351"><a href="#cb145-351" aria-hidden="true" tabindex="-1"></a><span class="co"># ggsave(p, filename = "figures/SGC4B_MARKS_accuracy.png", width = 6, height =4)</span></span>
<span id="cb145-352"><a href="#cb145-352" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-353"><a href="#cb145-353" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-354"><a href="#cb145-354" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb145-355"><a href="#cb145-355" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-356"><a href="#cb145-356" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-357"><a href="#cb145-357" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Describe</span></span>
<span id="cb145-358"><a href="#cb145-358" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-361"><a href="#cb145-361" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb145-362"><a href="#cb145-362" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: DESC2-ACC</span></span>
<span id="cb145-363"><a href="#cb145-363" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-364"><a href="#cb145-364" aria-hidden="true" tabindex="-1"></a>title <span class="ot">=</span> <span class="st">"Descriptive Statistics of Response Accuracy (Total % Correct)"</span></span>
<span id="cb145-365"><a href="#cb145-365" aria-hidden="true" tabindex="-1"></a>tbl1 <span class="ot">&lt;-</span> mosaic<span class="sc">::</span><span class="fu">favstats</span>(<span class="sc">~</span>task_percent, <span class="at">data =</span> df_s) </span>
<span id="cb145-366"><a href="#cb145-366" aria-hidden="true" tabindex="-1"></a>tbl1 <span class="sc">%&gt;%</span> <span class="fu">kbl</span> (<span class="at">caption =</span> title) <span class="sc">%&gt;%</span> <span class="fu">kable_classic</span>()</span>
<span id="cb145-367"><a href="#cb145-367" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-368"><a href="#cb145-368" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-369"><a href="#cb145-369" aria-hidden="true" tabindex="-1"></a>title <span class="ot">=</span> <span class="st">"Descriptive Statistics of Response Accuracy (Total % Correct) BY CONDITION"</span></span>
<span id="cb145-370"><a href="#cb145-370" aria-hidden="true" tabindex="-1"></a>tbl2 <span class="ot">&lt;-</span> mosaic<span class="sc">::</span><span class="fu">favstats</span>(task_percent <span class="sc">~</span> pretty_condition, <span class="at">data =</span> df_s) </span>
<span id="cb145-371"><a href="#cb145-371" aria-hidden="true" tabindex="-1"></a>tbl2 <span class="sc">%&gt;%</span> <span class="fu">kbl</span> (<span class="at">caption =</span> title) <span class="sc">%&gt;%</span> <span class="fu">kable_classic</span>()</span>
<span id="cb145-372"><a href="#cb145-372" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-373"><a href="#cb145-373" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb145-374"><a href="#cb145-374" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-375"><a href="#cb145-375" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-376"><a href="#cb145-376" aria-hidden="true" tabindex="-1"></a>**REPORTED**</span>
<span id="cb145-377"><a href="#cb145-377" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-378"><a href="#cb145-378" aria-hidden="true" tabindex="-1"></a>Across all conditions, overall accuracy on the task ranges from <span class="in">`r tbl1$min *100`</span> to <span class="in">`r tbl1$max *100`</span> with a mean of <span class="in">`r tbl1$mean * 100`</span>. </span>
<span id="cb145-379"><a href="#cb145-379" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-380"><a href="#cb145-380" aria-hidden="true" tabindex="-1"></a>To explore the effect of \textbf{marks} on TM graph reading performance, we start by describing the distribution of \textsc{total score}. Across all conditions, \textsc{total score} ranged from 0 to 100 with a mean of 21\%.  In Figure \ref{fig_4B_MARKS_totalscore} we see that participant level accuracy on the interval graph comprehension task is low (less than 50\%) consistent with prior studies, but that the average score (and variance in the distribution) are slightly higher for the \textit{cross}  and \textit{arrow} conditions. </span>
<span id="cb145-381"><a href="#cb145-381" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-382"><a href="#cb145-382" aria-hidden="true" tabindex="-1"></a><span class="fu">#### TESTS</span></span>
<span id="cb145-383"><a href="#cb145-383" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-384"><a href="#cb145-384" aria-hidden="true" tabindex="-1"></a><span class="fu">##### Aligned Ranks Transformation</span></span>
<span id="cb145-385"><a href="#cb145-385" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- https://rcompanion.org/handbook/F_16.html --&gt;</span></span>
<span id="cb145-388"><a href="#cb145-388" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb145-389"><a href="#cb145-389" aria-hidden="true" tabindex="-1"></a>m.art <span class="ot">=</span> <span class="fu">art</span>(task_percent <span class="sc">~</span> pretty_condition, <span class="at">data =</span> df_s)</span>
<span id="cb145-390"><a href="#cb145-390" aria-hidden="true" tabindex="-1"></a><span class="fu">anova</span>(m.art)</span>
<span id="cb145-391"><a href="#cb145-391" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-392"><a href="#cb145-392" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb145-393"><a href="#cb145-393" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-394"><a href="#cb145-394" aria-hidden="true" tabindex="-1"></a><span class="fu">##### Kruskal Wallis Test</span></span>
<span id="cb145-397"><a href="#cb145-397" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb145-398"><a href="#cb145-398" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: </span><span class="al">TEST</span><span class="co">-ACC</span></span>
<span id="cb145-399"><a href="#cb145-399" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-400"><a href="#cb145-400" aria-hidden="true" tabindex="-1"></a>(k <span class="ot">&lt;-</span> <span class="fu">kruskal.test</span>(df_s<span class="sc">$</span>task_percent <span class="sc">~</span> df_s<span class="sc">$</span>pretty_condition))</span>
<span id="cb145-401"><a href="#cb145-401" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-402"><a href="#cb145-402" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb145-403"><a href="#cb145-403" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-404"><a href="#cb145-404" aria-hidden="true" tabindex="-1"></a><span class="fu">##### Visualize</span></span>
<span id="cb145-405"><a href="#cb145-405" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-408"><a href="#cb145-408" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb145-409"><a href="#cb145-409" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: </span><span class="al">TEST</span><span class="co">-VIZ-ACC</span></span>
<span id="cb145-410"><a href="#cb145-410" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-411"><a href="#cb145-411" aria-hidden="true" tabindex="-1"></a>(results <span class="ot">&lt;-</span> statsExpressions<span class="sc">::</span><span class="fu">oneway_anova</span>(<span class="at">data =</span> df_s, </span>
<span id="cb145-412"><a href="#cb145-412" aria-hidden="true" tabindex="-1"></a>          <span class="at">x =</span> pretty_condition, <span class="at">y =</span> task_percent,</span>
<span id="cb145-413"><a href="#cb145-413" aria-hidden="true" tabindex="-1"></a>          <span class="at">type =</span> <span class="st">"nonparametric"</span>, <span class="at">alternative =</span> <span class="st">"less"</span>))</span>
<span id="cb145-414"><a href="#cb145-414" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-415"><a href="#cb145-415" aria-hidden="true" tabindex="-1"></a><span class="co">#:::::::: STATSPLOT | VIOLIN</span></span>
<span id="cb145-416"><a href="#cb145-416" aria-hidden="true" tabindex="-1"></a><span class="fu">ggbetweenstats</span>(<span class="at">y =</span> task_percent, <span class="at">x =</span> pretty_condition, </span>
<span id="cb145-417"><a href="#cb145-417" aria-hidden="true" tabindex="-1"></a>               <span class="at">data =</span> df_s, <span class="at">type =</span> <span class="st">"nonparametric"</span>)</span>
<span id="cb145-418"><a href="#cb145-418" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-419"><a href="#cb145-419" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb145-420"><a href="#cb145-420" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-421"><a href="#cb145-421" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-422"><a href="#cb145-422" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-423"><a href="#cb145-423" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-424"><a href="#cb145-424" aria-hidden="true" tabindex="-1"></a><span class="fu">#### MIXED LOGISTIC REGRESSION</span></span>
<span id="cb145-425"><a href="#cb145-425" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-426"><a href="#cb145-426" aria-hidden="true" tabindex="-1"></a>*Fit a mixed logistic regression (at the item level), predicting accuracy (absolute score) on all discriminating questions by condition; accounting for random effects of subject and item.*</span>
<span id="cb145-427"><a href="#cb145-427" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-428"><a href="#cb145-428" aria-hidden="true" tabindex="-1"></a><span class="fu">##### Fit Model</span></span>
<span id="cb145-429"><a href="#cb145-429" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-430"><a href="#cb145-430" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-433"><a href="#cb145-433" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb145-434"><a href="#cb145-434" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: MODEL-FIT-ACC</span></span>
<span id="cb145-435"><a href="#cb145-435" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-436"><a href="#cb145-436" aria-hidden="true" tabindex="-1"></a><span class="do">## 0 | SETUP</span></span>
<span id="cb145-437"><a href="#cb145-437" aria-hidden="true" tabindex="-1"></a><span class="co">#confirm 13 items [all discriminating items]</span></span>
<span id="cb145-438"><a href="#cb145-438" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(df_i) <span class="sc">/</span> <span class="fu">nrow</span>(df_s) <span class="sc">==</span> <span class="dv">13</span></span>
<span id="cb145-439"><a href="#cb145-439" aria-hidden="true" tabindex="-1"></a><span class="co">#confirm all factors </span></span>
<span id="cb145-440"><a href="#cb145-440" aria-hidden="true" tabindex="-1"></a><span class="fu">is.factor</span>(df_i<span class="sc">$</span>q) <span class="sc">&amp;&amp;</span> <span class="fu">is.factor</span>(df_i<span class="sc">$</span>subject) <span class="sc">&amp;&amp;</span> <span class="fu">is.factor</span>(df_i<span class="sc">$</span>pretty_condition) <span class="sc">&amp;&amp;</span> <span class="fu">is.factor</span>(df_i<span class="sc">$</span>accuracy)</span>
<span id="cb145-441"><a href="#cb145-441" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-442"><a href="#cb145-442" aria-hidden="true" tabindex="-1"></a><span class="do">## 1 | SETUP RANDOM INTERCEPT SUBJECT</span></span>
<span id="cb145-443"><a href="#cb145-443" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-444"><a href="#cb145-444" aria-hidden="true" tabindex="-1"></a><span class="co">#:: EMPTY MODEL (baseline, no random effect)</span></span>
<span id="cb145-445"><a href="#cb145-445" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"Empty fixed model"</span>)</span>
<span id="cb145-446"><a href="#cb145-446" aria-hidden="true" tabindex="-1"></a>m0 <span class="ot">=</span> <span class="fu">glm</span>(accuracy <span class="sc">~</span> <span class="dv">1</span>, <span class="at">family =</span> <span class="st">"binomial"</span>, <span class="at">data =</span> df_i) </span>
<span id="cb145-447"><a href="#cb145-447" aria-hidden="true" tabindex="-1"></a><span class="co"># summary(m0)</span></span>
<span id="cb145-448"><a href="#cb145-448" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-449"><a href="#cb145-449" aria-hidden="true" tabindex="-1"></a><span class="co">#:: RANDOM INTERCEPT SUBJECT + ITEM</span></span>
<span id="cb145-450"><a href="#cb145-450" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"Subject Intercept + Item intercept random model"</span>)</span>
<span id="cb145-451"><a href="#cb145-451" aria-hidden="true" tabindex="-1"></a>mm.rSQ <span class="ot">&lt;-</span> <span class="fu">glmer</span>(accuracy <span class="sc">~</span> (<span class="dv">1</span><span class="sc">|</span>subject) <span class="sc">+</span> (<span class="dv">1</span><span class="sc">|</span>q), <span class="at">data =</span> df_i, <span class="at">family =</span> <span class="st">"binomial"</span>,</span>
<span id="cb145-452"><a href="#cb145-452" aria-hidden="true" tabindex="-1"></a>                <span class="at">control =</span> <span class="fu">glmerControl</span>(<span class="at">optimizer=</span><span class="st">"bobyqa"</span>, <span class="at">optCtrl=</span><span class="fu">list</span>(<span class="at">maxfun=</span><span class="fl">2e5</span>)))</span>
<span id="cb145-453"><a href="#cb145-453" aria-hidden="true" tabindex="-1"></a><span class="co">#summary(mm.rSQ)</span></span>
<span id="cb145-454"><a href="#cb145-454" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-455"><a href="#cb145-455" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-456"><a href="#cb145-456" aria-hidden="true" tabindex="-1"></a><span class="do">## 2 | ADD FIXED EFFECT CONDITION</span></span>
<span id="cb145-457"><a href="#cb145-457" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-458"><a href="#cb145-458" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"FIXED Condition + Subject &amp; Item random intercepts"</span>)</span>
<span id="cb145-459"><a href="#cb145-459" aria-hidden="true" tabindex="-1"></a>mm.CrSQ <span class="ot">&lt;-</span> <span class="fu">glmer</span>(accuracy <span class="sc">~</span> pretty_condition <span class="sc">+</span> (<span class="dv">1</span><span class="sc">|</span>subject) <span class="sc">+</span> (<span class="dv">1</span><span class="sc">|</span>q) ,</span>
<span id="cb145-460"><a href="#cb145-460" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> df_i, <span class="at">family =</span> binomial,</span>
<span id="cb145-461"><a href="#cb145-461" aria-hidden="true" tabindex="-1"></a>                <span class="at">control =</span> <span class="fu">glmerControl</span>(<span class="at">optimizer=</span><span class="st">"bobyqa"</span>, <span class="at">optCtrl=</span><span class="fu">list</span>(<span class="at">maxfun=</span><span class="fl">2e5</span>)))</span>
<span id="cb145-462"><a href="#cb145-462" aria-hidden="true" tabindex="-1"></a><span class="co"># summary(mm.CrSQ)</span></span>
<span id="cb145-463"><a href="#cb145-463" aria-hidden="true" tabindex="-1"></a><span class="co"># car::Anova(mm.CrSQ)</span></span>
<span id="cb145-464"><a href="#cb145-464" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-465"><a href="#cb145-465" aria-hidden="true" tabindex="-1"></a><span class="fu">test_lrt</span>(mm.rSQ,mm.CrSQ) <span class="co">#same as anova(m0, m1, test = "Chi")</span></span>
<span id="cb145-466"><a href="#cb145-466" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">"Likelihood Ratio test is significant? p = "</span>,(<span class="fu">test_lrt</span>(mm.rSQ,mm.CrSQ))<span class="sc">$</span>p[<span class="dv">2</span>])</span>
<span id="cb145-467"><a href="#cb145-467" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb145-468"><a href="#cb145-468" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-469"><a href="#cb145-469" aria-hidden="true" tabindex="-1"></a>**Reported**</span>
<span id="cb145-470"><a href="#cb145-470" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-471"><a href="#cb145-471" aria-hidden="true" tabindex="-1"></a>To explore the effect of marks on accuracy, we fit a mixed effects logistic regression model with random intercepts for subjects and questions, with mark design as a fixed effect. A likelihood ratio test indicates that a model including this main effect is a significantly better fit for the data than an intercepts-only baseline model ($\chi^2 (3,5) = 15.09, p &lt; 0.001$). </span>
<span id="cb145-472"><a href="#cb145-472" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-473"><a href="#cb145-473" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-474"><a href="#cb145-474" aria-hidden="true" tabindex="-1"></a><span class="fu">##### Describe</span></span>
<span id="cb145-475"><a href="#cb145-475" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-478"><a href="#cb145-478" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb145-479"><a href="#cb145-479" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: MODEL-DESC-ACC</span></span>
<span id="cb145-480"><a href="#cb145-480" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-481"><a href="#cb145-481" aria-hidden="true" tabindex="-1"></a><span class="co"># best model</span></span>
<span id="cb145-482"><a href="#cb145-482" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> mm.CrSQ</span>
<span id="cb145-483"><a href="#cb145-483" aria-hidden="true" tabindex="-1"></a>m <span class="sc">%&gt;%</span> <span class="fu">write_rds</span>(<span class="at">file =</span> <span class="st">"analysis/SGC4B/models/sgc4b_glmer_acc_mm.CrSQ.rds"</span>)</span>
<span id="cb145-484"><a href="#cb145-484" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-485"><a href="#cb145-485" aria-hidden="true" tabindex="-1"></a><span class="co">#::::::::: PRINT MODEL </span></span>
<span id="cb145-486"><a href="#cb145-486" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-487"><a href="#cb145-487" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"PREDICTOR MODEL"</span>)</span>
<span id="cb145-488"><a href="#cb145-488" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(m)</span>
<span id="cb145-489"><a href="#cb145-489" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"SIGNIFICANCE TEST [non directional]"</span>)</span>
<span id="cb145-490"><a href="#cb145-490" aria-hidden="true" tabindex="-1"></a>car<span class="sc">::</span><span class="fu">Anova</span>(m, <span class="at">type =</span> <span class="dv">2</span>)</span>
<span id="cb145-491"><a href="#cb145-491" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-492"><a href="#cb145-492" aria-hidden="true" tabindex="-1"></a><span class="co">#:::::::: MANUAL ONE-SIDED SIGTEST </span></span>
<span id="cb145-493"><a href="#cb145-493" aria-hidden="true" tabindex="-1"></a><span class="co">#note: anova and chi square are always one-tailed, but that is independent of being one-sided</span></span>
<span id="cb145-494"><a href="#cb145-494" aria-hidden="true" tabindex="-1"></a><span class="co">#https://www.ibm.com/support/pages/can-one-get-one-tailed-tests-logistic-regression-dividing-significance-levels-half</span></span>
<span id="cb145-495"><a href="#cb145-495" aria-hidden="true" tabindex="-1"></a><span class="co"># one-sided (right tail) z test for B COEFFICIENT</span></span>
<span id="cb145-496"><a href="#cb145-496" aria-hidden="true" tabindex="-1"></a><span class="co">#SANITY CHECK 2-tailed test should match the model output</span></span>
<span id="cb145-497"><a href="#cb145-497" aria-hidden="true" tabindex="-1"></a><span class="co"># tt &lt;- 2*pnorm(summary(m)$coefficients[2,3], lower.tail = F)</span></span>
<span id="cb145-498"><a href="#cb145-498" aria-hidden="true" tabindex="-1"></a><span class="co"># paste("p value for two-tailed test, null B = 0 : ",round(tt,5))</span></span>
<span id="cb145-499"><a href="#cb145-499" aria-hidden="true" tabindex="-1"></a><span class="co"># ot &lt;- pnorm(summary(m)$coefficients[2,3], lower.tail = F)</span></span>
<span id="cb145-500"><a href="#cb145-500" aria-hidden="true" tabindex="-1"></a><span class="co"># paste("BUT we want a one  directional, null: B &lt;= 0: ",round(ot,5))</span></span>
<span id="cb145-501"><a href="#cb145-501" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-502"><a href="#cb145-502" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-503"><a href="#cb145-503" aria-hidden="true" tabindex="-1"></a><span class="co">#:::::::: INTERPRET COEFFICIENTS</span></span>
<span id="cb145-504"><a href="#cb145-504" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-505"><a href="#cb145-505" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">"LOG ODDS"</span>)</span>
<span id="cb145-506"><a href="#cb145-506" aria-hidden="true" tabindex="-1"></a><span class="co"># se &lt;- sqrt(diag(stats::vcov(m)))</span></span>
<span id="cb145-507"><a href="#cb145-507" aria-hidden="true" tabindex="-1"></a><span class="co"># (tab &lt;- cbind(Est = fixef(m),</span></span>
<span id="cb145-508"><a href="#cb145-508" aria-hidden="true" tabindex="-1"></a><span class="co">#               LL = fixef(m) - 1.96 * se,</span></span>
<span id="cb145-509"><a href="#cb145-509" aria-hidden="true" tabindex="-1"></a><span class="co">#               UL = fixef(m) + 1.96 * se))</span></span>
<span id="cb145-510"><a href="#cb145-510" aria-hidden="true" tabindex="-1"></a><span class="fu">tidy</span>(m,   <span class="at">conf.int =</span> <span class="cn">TRUE</span>, <span class="at">conf.level =</span> <span class="fl">0.95</span>, <span class="at">conf.method =</span> <span class="st">"Wald"</span>)</span>
<span id="cb145-511"><a href="#cb145-511" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-512"><a href="#cb145-512" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">"ODDS RATIOS"</span>)</span>
<span id="cb145-513"><a href="#cb145-513" aria-hidden="true" tabindex="-1"></a><span class="co"># (e &lt;- exp(tab))</span></span>
<span id="cb145-514"><a href="#cb145-514" aria-hidden="true" tabindex="-1"></a><span class="fu">tidy</span>(m,   <span class="at">conf.int =</span> <span class="cn">TRUE</span>, <span class="at">conf.level =</span> <span class="fl">0.95</span>, <span class="at">conf.method =</span> <span class="st">"Wald"</span>, <span class="at">exponentiate =</span> <span class="cn">TRUE</span>)</span>
<span id="cb145-515"><a href="#cb145-515" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-516"><a href="#cb145-516" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">"PROBABILITIES"</span>)</span>
<span id="cb145-517"><a href="#cb145-517" aria-hidden="true" tabindex="-1"></a><span class="co">#probability control = plogis(intercept)</span></span>
<span id="cb145-518"><a href="#cb145-518" aria-hidden="true" tabindex="-1"></a><span class="co">#probability impasse = plogis(intercept + coefficient)</span></span>
<span id="cb145-519"><a href="#cb145-519" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-520"><a href="#cb145-520" aria-hidden="true" tabindex="-1"></a><span class="co">#FROM predict()</span></span>
<span id="cb145-521"><a href="#cb145-521" aria-hidden="true" tabindex="-1"></a><span class="co"># newdata &lt;- df_i %&gt;% dplyr::select(pretty_condition, subject, q)</span></span>
<span id="cb145-522"><a href="#cb145-522" aria-hidden="true" tabindex="-1"></a><span class="co"># preds &lt;- predict(m, newdata = newdata, type = "response")</span></span>
<span id="cb145-523"><a href="#cb145-523" aria-hidden="true" tabindex="-1"></a><span class="co"># preds &lt;- cbind(newdata, preds)</span></span>
<span id="cb145-524"><a href="#cb145-524" aria-hidden="true" tabindex="-1"></a><span class="co"># p &lt;- preds %&gt;% </span></span>
<span id="cb145-525"><a href="#cb145-525" aria-hidden="true" tabindex="-1"></a><span class="co">#   dplyr::select(pretty_condition, preds) %&gt;% </span></span>
<span id="cb145-526"><a href="#cb145-526" aria-hidden="true" tabindex="-1"></a><span class="co">#   group_by(pretty_condition) %&gt;% </span></span>
<span id="cb145-527"><a href="#cb145-527" aria-hidden="true" tabindex="-1"></a><span class="co">#   summarise(</span></span>
<span id="cb145-528"><a href="#cb145-528" aria-hidden="true" tabindex="-1"></a><span class="co">#     median = median(preds),</span></span>
<span id="cb145-529"><a href="#cb145-529" aria-hidden="true" tabindex="-1"></a><span class="co">#     se = sd(preds)/sqrt(n()),</span></span>
<span id="cb145-530"><a href="#cb145-530" aria-hidden="true" tabindex="-1"></a><span class="co">#     lwr = median - 1.96*se,</span></span>
<span id="cb145-531"><a href="#cb145-531" aria-hidden="true" tabindex="-1"></a><span class="co">#     upr = median + 1.96*se)</span></span>
<span id="cb145-532"><a href="#cb145-532" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb145-533"><a href="#cb145-533" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb145-534"><a href="#cb145-534" aria-hidden="true" tabindex="-1"></a><span class="co">#FROM merTools</span></span>
<span id="cb145-535"><a href="#cb145-535" aria-hidden="true" tabindex="-1"></a><span class="co">#setup df </span></span>
<span id="cb145-536"><a href="#cb145-536" aria-hidden="true" tabindex="-1"></a>newdata <span class="ot">&lt;-</span> df_i <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(pretty_condition, subject, q)</span>
<span id="cb145-537"><a href="#cb145-537" aria-hidden="true" tabindex="-1"></a><span class="co">#make predictions</span></span>
<span id="cb145-538"><a href="#cb145-538" aria-hidden="true" tabindex="-1"></a>preds <span class="ot">&lt;-</span> <span class="fu">predictInterval</span>(m, <span class="at">newdata =</span> newdata,</span>
<span id="cb145-539"><a href="#cb145-539" aria-hidden="true" tabindex="-1"></a>                              <span class="at">which =</span> <span class="st">"fixed"</span>, <span class="co">#full, fixed or random for those only</span></span>
<span id="cb145-540"><a href="#cb145-540" aria-hidden="true" tabindex="-1"></a>                              <span class="at">type =</span> <span class="st">"probability"</span>, <span class="co">#linear.prediction</span></span>
<span id="cb145-541"><a href="#cb145-541" aria-hidden="true" tabindex="-1"></a>                              <span class="at">stat =</span> <span class="st">"median"</span>,</span>
<span id="cb145-542"><a href="#cb145-542" aria-hidden="true" tabindex="-1"></a>                              <span class="at">n.sims =</span> <span class="dv">1000</span>,</span>
<span id="cb145-543"><a href="#cb145-543" aria-hidden="true" tabindex="-1"></a>                              <span class="at">level =</span> <span class="fl">0.80</span>) <span class="co">#width of prediction interval</span></span>
<span id="cb145-544"><a href="#cb145-544" aria-hidden="true" tabindex="-1"></a><span class="co">#join predictions to the new dataframe</span></span>
<span id="cb145-545"><a href="#cb145-545" aria-hidden="true" tabindex="-1"></a>preds <span class="ot">&lt;-</span> <span class="fu">cbind</span>(newdata, preds)</span>
<span id="cb145-546"><a href="#cb145-546" aria-hidden="true" tabindex="-1"></a><span class="co">#summarize</span></span>
<span id="cb145-547"><a href="#cb145-547" aria-hidden="true" tabindex="-1"></a>(summ_preds <span class="ot">&lt;-</span> preds <span class="sc">%&gt;%</span> </span>
<span id="cb145-548"><a href="#cb145-548" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(pretty_condition, fit, lwr, upr) <span class="sc">%&gt;%</span> </span>
<span id="cb145-549"><a href="#cb145-549" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pretty_condition) <span class="sc">%&gt;%</span> </span>
<span id="cb145-550"><a href="#cb145-550" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb145-551"><a href="#cb145-551" aria-hidden="true" tabindex="-1"></a>    <span class="at">median =</span> <span class="fu">median</span>(fit),</span>
<span id="cb145-552"><a href="#cb145-552" aria-hidden="true" tabindex="-1"></a>    <span class="at">lower =</span> <span class="fu">median</span>(lwr),</span>
<span id="cb145-553"><a href="#cb145-553" aria-hidden="true" tabindex="-1"></a>    <span class="at">upper =</span> <span class="fu">median</span>(upr)</span>
<span id="cb145-554"><a href="#cb145-554" aria-hidden="true" tabindex="-1"></a>  )) </span>
<span id="cb145-555"><a href="#cb145-555" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-556"><a href="#cb145-556" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-557"><a href="#cb145-557" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb145-558"><a href="#cb145-558" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-559"><a href="#cb145-559" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-560"><a href="#cb145-560" aria-hidden="true" tabindex="-1"></a><span class="fu">#####  Inference</span></span>
<span id="cb145-561"><a href="#cb145-561" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-562"><a href="#cb145-562" aria-hidden="true" tabindex="-1"></a>**Reported**</span>
<span id="cb145-563"><a href="#cb145-563" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-564"><a href="#cb145-564" aria-hidden="true" tabindex="-1"></a>A Wald Chi-Square tests confirms a main effect of mark design ($\chi^2 (2) = 12.7, p &lt; 0.001$). </span>
<span id="cb145-565"><a href="#cb145-565" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-566"><a href="#cb145-566" aria-hidden="true" tabindex="-1"></a>\textbf{Consistent with our (H1) hypothesis, altering the design of the marks to emphasize the relationship between the point and the diagonal gridlines did significantly improve accuracy.} Model coefficients indicate that relative to the point mark condition, the arrow mark increases the odds of a correct response ($e^{b_{1<span class="co">[</span><span class="ot">arrow</span><span class="co">]</span>}} = 31.95, SE = 3.54, p &lt; 0.001$). </span>
<span id="cb145-567"><a href="#cb145-567" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-568"><a href="#cb145-568" aria-hidden="true" tabindex="-1"></a>\textbf{Consistent with our (H2) hypothesis, altering the design of the mark in a way that is unconventional, but that does not emphasize the relationship between a point and the gridlines does not improve accuracy.} Model coefficients indicate that relative to the point mark condition, the cross mark did not change the odds of a correct response   ($e^{b_{1<span class="co">[</span><span class="ot">cross</span><span class="co">]</span>}} = 4.71, SE = 4.48, p = 0.10$).  Model predictions are visualized in Figure \ref{fig_4B_accuracy} <span class="co">[</span><span class="ot">B</span><span class="co">]</span>, while parameter estimates and model specification is detailed in Appendix \ref{SGC4B_MARKS_MODEL_accuracy}.</span>
<span id="cb145-569"><a href="#cb145-569" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-570"><a href="#cb145-570" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-571"><a href="#cb145-571" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-572"><a href="#cb145-572" aria-hidden="true" tabindex="-1"></a><span class="fu">##### Visualize</span></span>
<span id="cb145-573"><a href="#cb145-573" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-576"><a href="#cb145-576" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb145-577"><a href="#cb145-577" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: MODEL-VIS-ACC</span></span>
<span id="cb145-578"><a href="#cb145-578" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-579"><a href="#cb145-579" aria-hidden="true" tabindex="-1"></a><span class="do">## | PLOT PARAMETERS </span></span>
<span id="cb145-580"><a href="#cb145-580" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-581"><a href="#cb145-581" aria-hidden="true" tabindex="-1"></a><span class="co">#SJPLOT | MODEL | ODDS RATIO</span></span>
<span id="cb145-582"><a href="#cb145-582" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_model</span>(m, <span class="at">vline.color =</span> <span class="st">"red"</span>, </span>
<span id="cb145-583"><a href="#cb145-583" aria-hidden="true" tabindex="-1"></a>           <span class="at">show.intercept =</span> <span class="cn">TRUE</span>, </span>
<span id="cb145-584"><a href="#cb145-584" aria-hidden="true" tabindex="-1"></a>           <span class="at">show.values =</span> <span class="cn">TRUE</span>,</span>
<span id="cb145-585"><a href="#cb145-585" aria-hidden="true" tabindex="-1"></a>           <span class="at">p.threshold =</span> <span class="fl">0.1</span>, <span class="co">#manually adjust to account for directional test</span></span>
<span id="cb145-586"><a href="#cb145-586" aria-hidden="true" tabindex="-1"></a>           <span class="at">ci.lvl =</span> <span class="fl">0.95</span> ) <span class="sc">+</span> <span class="co">#manually adjusted for directional test   </span></span>
<span id="cb145-587"><a href="#cb145-587" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Model Estimate | Odds Ratio"</span>,</span>
<span id="cb145-588"><a href="#cb145-588" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">""</span>,</span>
<span id="cb145-589"><a href="#cb145-589" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Condition"</span>) <span class="co">#why no error bars? problem with model?</span></span>
<span id="cb145-590"><a href="#cb145-590" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-591"><a href="#cb145-591" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-592"><a href="#cb145-592" aria-hidden="true" tabindex="-1"></a><span class="co">#EASYSTATS | MODEL | ODDS RATIO</span></span>
<span id="cb145-593"><a href="#cb145-593" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">model_parameters</span>(m, <span class="at">exponentiate =</span> <span class="cn">TRUE</span>, <span class="at">component =</span> <span class="st">"all"</span>)</span>
<span id="cb145-594"><a href="#cb145-594" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(result)</span>
<span id="cb145-595"><a href="#cb145-595" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-596"><a href="#cb145-596" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-597"><a href="#cb145-597" aria-hidden="true" tabindex="-1"></a><span class="do">## | PLOT TESTS</span></span>
<span id="cb145-598"><a href="#cb145-598" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-599"><a href="#cb145-599" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">equivalence_test</span>(m, <span class="at">rule =</span> <span class="st">"classic"</span>, <span class="at">ci=</span><span class="fl">0.9</span>) <span class="co">#classic[tost], , bayes</span></span>
<span id="cb145-600"><a href="#cb145-600" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(result)</span>
<span id="cb145-601"><a href="#cb145-601" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-602"><a href="#cb145-602" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-603"><a href="#cb145-603" aria-hidden="true" tabindex="-1"></a><span class="do">## | PLOT PREDICTIONS</span></span>
<span id="cb145-604"><a href="#cb145-604" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-605"><a href="#cb145-605" aria-hidden="true" tabindex="-1"></a><span class="co">#SJPLOT | MODEL | PROBABILITIES</span></span>
<span id="cb145-606"><a href="#cb145-606" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_model</span>(m, <span class="at">type=</span><span class="st">"eff"</span>,</span>
<span id="cb145-607"><a href="#cb145-607" aria-hidden="true" tabindex="-1"></a>           <span class="at">show.intercept =</span> <span class="cn">TRUE</span>,</span>
<span id="cb145-608"><a href="#cb145-608" aria-hidden="true" tabindex="-1"></a>           <span class="at">show.values =</span> <span class="cn">TRUE</span>,</span>
<span id="cb145-609"><a href="#cb145-609" aria-hidden="true" tabindex="-1"></a>           <span class="at">title =</span> <span class="st">"Model Prediction | Probability of Accurate Response"</span>,</span>
<span id="cb145-610"><a href="#cb145-610" aria-hidden="true" tabindex="-1"></a>           <span class="at">axis.title =</span> <span class="fu">c</span>(<span class="st">"Condition"</span>,<span class="st">"Probability of Accurate Response"</span>))</span>
<span id="cb145-611"><a href="#cb145-611" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-612"><a href="#cb145-612" aria-hidden="true" tabindex="-1"></a><span class="co">#PLOT MODEL PREDICTION</span></span>
<span id="cb145-613"><a href="#cb145-613" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_model</span>(m, <span class="at">type =</span> <span class="st">"pred"</span>)[[<span class="dv">1</span>]] <span class="sc">+</span></span>
<span id="cb145-614"><a href="#cb145-614" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>,<span class="dv">1</span>) </span>
<span id="cb145-615"><a href="#cb145-615" aria-hidden="true" tabindex="-1"></a>  <span class="co"># labs(</span></span>
<span id="cb145-616"><a href="#cb145-616" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   title = "Model Prediction | Probability of Accurate Response",</span></span>
<span id="cb145-617"><a href="#cb145-617" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   subtitle = "Impasse increases Probability of Correct Response"</span></span>
<span id="cb145-618"><a href="#cb145-618" aria-hidden="true" tabindex="-1"></a>  <span class="co"># )</span></span>
<span id="cb145-619"><a href="#cb145-619" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-620"><a href="#cb145-620" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb145-621"><a href="#cb145-621" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-622"><a href="#cb145-622" aria-hidden="true" tabindex="-1"></a><span class="fu">##### Marginal Effects</span></span>
<span id="cb145-623"><a href="#cb145-623" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-626"><a href="#cb145-626" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb145-627"><a href="#cb145-627" aria-hidden="true" tabindex="-1"></a><span class="co"># https://cran.r-project.org/web/packages/emmeans/vignettes/interactions.html#simple</span></span>
<span id="cb145-628"><a href="#cb145-628" aria-hidden="true" tabindex="-1"></a><span class="co"># https://stats.oarc.ucla.edu/stata/faq/how-can-i-understand-a-categorical-by-categorical-interaction-in-logistic-regression-stata-12/</span></span>
<span id="cb145-629"><a href="#cb145-629" aria-hidden="true" tabindex="-1"></a><span class="co"># https://stats.oarc.ucla.edu/stata/seminars/deciphering-interactions-in-logistic-regression/</span></span>
<span id="cb145-630"><a href="#cb145-630" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb145-631"><a href="#cb145-631" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(emmeans)</span>
<span id="cb145-632"><a href="#cb145-632" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-633"><a href="#cb145-633" aria-hidden="true" tabindex="-1"></a><span class="co">#sanity check reference grid</span></span>
<span id="cb145-634"><a href="#cb145-634" aria-hidden="true" tabindex="-1"></a><span class="fu">ref_grid</span>(m)</span>
<span id="cb145-635"><a href="#cb145-635" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-636"><a href="#cb145-636" aria-hidden="true" tabindex="-1"></a><span class="co">#PRINT ESTIMATED MARGINAL MEANS</span></span>
<span id="cb145-637"><a href="#cb145-637" aria-hidden="true" tabindex="-1"></a><span class="co">#should be same as summ_preds</span></span>
<span id="cb145-638"><a href="#cb145-638" aria-hidden="true" tabindex="-1"></a><span class="fu">emmeans</span>(m,  <span class="sc">~</span> pretty_condition, <span class="at">type =</span> <span class="st">"response"</span>)</span>
<span id="cb145-639"><a href="#cb145-639" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-640"><a href="#cb145-640" aria-hidden="true" tabindex="-1"></a><span class="do">##POST-HOC COMPARISONS</span></span>
<span id="cb145-641"><a href="#cb145-641" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"POSTHOC COMPARISONS"</span>)</span>
<span id="cb145-642"><a href="#cb145-642" aria-hidden="true" tabindex="-1"></a><span class="fu">emmeans</span>(m,  pairwise <span class="sc">~</span> pretty_condition, </span>
<span id="cb145-643"><a href="#cb145-643" aria-hidden="true" tabindex="-1"></a>        <span class="at">type =</span> <span class="st">"response"</span> , <span class="at">adjust =</span> <span class="st">"none"</span>) <span class="co">#sidak, tukey</span></span>
<span id="cb145-644"><a href="#cb145-644" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-645"><a href="#cb145-645" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-646"><a href="#cb145-646" aria-hidden="true" tabindex="-1"></a><span class="do">##PLOT INTERACTION</span></span>
<span id="cb145-647"><a href="#cb145-647" aria-hidden="true" tabindex="-1"></a><span class="co">#equivalent to plot_model, type = "int"</span></span>
<span id="cb145-648"><a href="#cb145-648" aria-hidden="true" tabindex="-1"></a><span class="co"># emmip(m, SHAPE * SCALE ,</span></span>
<span id="cb145-649"><a href="#cb145-649" aria-hidden="true" tabindex="-1"></a><span class="co">#       type = "response",</span></span>
<span id="cb145-650"><a href="#cb145-650" aria-hidden="true" tabindex="-1"></a><span class="co">#       CIs = TRUE,</span></span>
<span id="cb145-651"><a href="#cb145-651" aria-hidden="true" tabindex="-1"></a><span class="co">#       linearg = list(linetype = "dashed"),</span></span>
<span id="cb145-652"><a href="#cb145-652" aria-hidden="true" tabindex="-1"></a><span class="co">#       engine = "ggplot")</span></span>
<span id="cb145-653"><a href="#cb145-653" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-654"><a href="#cb145-654" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-655"><a href="#cb145-655" aria-hidden="true" tabindex="-1"></a><span class="do">##PLOT PROBABILITY</span></span>
<span id="cb145-656"><a href="#cb145-656" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">ref_grid</span>(m), <span class="at">by =</span> <span class="st">"pretty_condition"</span>, <span class="at">type =</span> <span class="st">"response"</span>)</span>
<span id="cb145-657"><a href="#cb145-657" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-658"><a href="#cb145-658" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb145-659"><a href="#cb145-659" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-660"><a href="#cb145-660" aria-hidden="true" tabindex="-1"></a><span class="fu">##### Present</span></span>
<span id="cb145-661"><a href="#cb145-661" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-664"><a href="#cb145-664" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb145-665"><a href="#cb145-665" aria-hidden="true" tabindex="-1"></a><span class="do">## PLOT INTERACTION / marginals</span></span>
<span id="cb145-666"><a href="#cb145-666" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggeffects)</span>
<span id="cb145-667"><a href="#cb145-667" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-668"><a href="#cb145-668" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggpredict</span>(m, <span class="at">terms =</span> <span class="fu">c</span>(<span class="st">"pretty_condition"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb145-669"><a href="#cb145-669" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>(<span class="at">connect.lines =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb145-670"><a href="#cb145-670" aria-hidden="true" tabindex="-1"></a>  <span class="co"># scale_color_manual(values = fct_rev(paletteer::paletteer_d("nbapalettes::bulls")))+</span></span>
<span id="cb145-671"><a href="#cb145-671" aria-hidden="true" tabindex="-1"></a>  <span class="co"># scale_color_manual(values = paletteer::paletteer_d("awtools::gpalette",3))+</span></span>
<span id="cb145-672"><a href="#cb145-672" aria-hidden="true" tabindex="-1"></a>  <span class="co"># scale_color_manual(values = paletteer::paletteer_d("lisa::FridaKahlo", 3))+</span></span>
<span id="cb145-673"><a href="#cb145-673" aria-hidden="true" tabindex="-1"></a>  <span class="co"># scale_colour_manual(values = paletteer::paletteer_c("viridis::viridis", 2)) + </span></span>
<span id="cb145-674"><a href="#cb145-674" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_clean</span>() <span class="sc">+</span> <span class="fu">labs</span>(</span>
<span id="cb145-675"><a href="#cb145-675" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">"MODEL | Predicted probability of correct response"</span>,</span>
<span id="cb145-676"><a href="#cb145-676" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="st">"SCALE"</span></span>
<span id="cb145-677"><a href="#cb145-677" aria-hidden="true" tabindex="-1"></a>)<span class="sc">+</span> </span>
<span id="cb145-678"><a href="#cb145-678" aria-hidden="true" tabindex="-1"></a> <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>))<span class="sc">+</span></span>
<span id="cb145-679"><a href="#cb145-679" aria-hidden="true" tabindex="-1"></a> <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">"bottom"</span>) </span>
<span id="cb145-680"><a href="#cb145-680" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-681"><a href="#cb145-681" aria-hidden="true" tabindex="-1"></a>p</span>
<span id="cb145-682"><a href="#cb145-682" aria-hidden="true" tabindex="-1"></a><span class="co"># ggsave(p, filename = "figures/SGC4B_MARKS_accuracy_prediction.png", width = 6, height =4)</span></span>
<span id="cb145-683"><a href="#cb145-683" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb145-684"><a href="#cb145-684" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-685"><a href="#cb145-685" aria-hidden="true" tabindex="-1"></a><span class="fu">##### Print</span></span>
<span id="cb145-686"><a href="#cb145-686" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-689"><a href="#cb145-689" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb145-690"><a href="#cb145-690" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: MODEL-TBL-ACC</span></span>
<span id="cb145-691"><a href="#cb145-691" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-692"><a href="#cb145-692" aria-hidden="true" tabindex="-1"></a><span class="co">#SJPLOT | MODEL | TABLE</span></span>
<span id="cb145-693"><a href="#cb145-693" aria-hidden="true" tabindex="-1"></a><span class="co"># tab_model(m)</span></span>
<span id="cb145-694"><a href="#cb145-694" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-695"><a href="#cb145-695" aria-hidden="true" tabindex="-1"></a><span class="co"># #MODEL SUMMARY | save latex table</span></span>
<span id="cb145-696"><a href="#cb145-696" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-697"><a href="#cb145-697" aria-hidden="true" tabindex="-1"></a><span class="co"># models &lt;- list("odds ratios" = m, "(log odds)" = m)</span></span>
<span id="cb145-698"><a href="#cb145-698" aria-hidden="true" tabindex="-1"></a><span class="co"># title = "Study 4B | Question Accuracy"</span></span>
<span id="cb145-699"><a href="#cb145-699" aria-hidden="true" tabindex="-1"></a><span class="co"># notes = list("* p &lt; 0.05, ** p &lt; 0.01, *** p &lt; 0.001",</span></span>
<span id="cb145-700"><a href="#cb145-700" aria-hidden="true" tabindex="-1"></a><span class="co">#              paste("n = ",n_obs(m), "R^2(Conditional) =", round(r2(m)[[1]],2),</span></span>
<span id="cb145-701"><a href="#cb145-701" aria-hidden="true" tabindex="-1"></a><span class="co">#                    "R^2(Marginal) =", round(r2(m)[[2]],2)),</span></span>
<span id="cb145-702"><a href="#cb145-702" aria-hidden="true" tabindex="-1"></a><span class="co">#              "Accuracy  ~ MARK +  (1 | subject) + (1 | q)")</span></span>
<span id="cb145-703"><a href="#cb145-703" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb145-704"><a href="#cb145-704" aria-hidden="true" tabindex="-1"></a><span class="co"># modelsummary(models,</span></span>
<span id="cb145-705"><a href="#cb145-705" aria-hidden="true" tabindex="-1"></a><span class="co">#              exponentiate = c(TRUE, FALSE),</span></span>
<span id="cb145-706"><a href="#cb145-706" aria-hidden="true" tabindex="-1"></a><span class="co">#              shape = term ~ model + statistic,</span></span>
<span id="cb145-707"><a href="#cb145-707" aria-hidden="true" tabindex="-1"></a><span class="co">#              fmt = 2, #two digits w/ trailing zero</span></span>
<span id="cb145-708"><a href="#cb145-708" aria-hidden="true" tabindex="-1"></a><span class="co">#              estimate  = "{estimate} {stars}",</span></span>
<span id="cb145-709"><a href="#cb145-709" aria-hidden="true" tabindex="-1"></a><span class="co">#              statistic = "conf.int",</span></span>
<span id="cb145-710"><a href="#cb145-710" aria-hidden="true" tabindex="-1"></a><span class="co">#              gof_map = c("AIC", "sigma"),</span></span>
<span id="cb145-711"><a href="#cb145-711" aria-hidden="true" tabindex="-1"></a><span class="co">#              gof_omit = 'RMSE|ICC|BIC',</span></span>
<span id="cb145-712"><a href="#cb145-712" aria-hidden="true" tabindex="-1"></a><span class="co">#              coef_rename = c("pretty_conditioncross" = "MARK[cross]",</span></span>
<span id="cb145-713"><a href="#cb145-713" aria-hidden="true" tabindex="-1"></a><span class="co">#              "pretty_conditionarrow" = "MARK[arrow]"),</span></span>
<span id="cb145-714"><a href="#cb145-714" aria-hidden="true" tabindex="-1"></a><span class="co">#              title = title,</span></span>
<span id="cb145-715"><a href="#cb145-715" aria-hidden="true" tabindex="-1"></a><span class="co">#              notes = notes,</span></span>
<span id="cb145-716"><a href="#cb145-716" aria-hidden="true" tabindex="-1"></a><span class="co">#              output  = "tables/SGC4B_MARKS_GLMER_OverallAccuracy.tex")</span></span>
<span id="cb145-717"><a href="#cb145-717" aria-hidden="true" tabindex="-1"></a><span class="co"># # #              # coef_omit = "Intercept",</span></span>
<span id="cb145-718"><a href="#cb145-718" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-719"><a href="#cb145-719" aria-hidden="true" tabindex="-1"></a><span class="co"># extract_eq(m, use_coefs = TRUE, wrap = TRUE)</span></span>
<span id="cb145-720"><a href="#cb145-720" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-721"><a href="#cb145-721" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-722"><a href="#cb145-722" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb145-723"><a href="#cb145-723" aria-hidden="true" tabindex="-1"></a><span class="fu">##### Diagnostics</span></span>
<span id="cb145-724"><a href="#cb145-724" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-727"><a href="#cb145-727" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb145-728"><a href="#cb145-728" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"SANITY CHECK REPORTING"</span>)</span>
<span id="cb145-729"><a href="#cb145-729" aria-hidden="true" tabindex="-1"></a><span class="co"># report(m)</span></span>
<span id="cb145-730"><a href="#cb145-730" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-731"><a href="#cb145-731" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"DIAGNOSTICS"</span>)</span>
<span id="cb145-732"><a href="#cb145-732" aria-hidden="true" tabindex="-1"></a><span class="fu">check_model</span>(m)</span>
<span id="cb145-733"><a href="#cb145-733" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-734"><a href="#cb145-734" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb145-735"><a href="#cb145-735" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-736"><a href="#cb145-736" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-737"><a href="#cb145-737" aria-hidden="true" tabindex="-1"></a><span class="fu">##### BAYESIAN </span></span>
<span id="cb145-738"><a href="#cb145-738" aria-hidden="true" tabindex="-1"></a>For some reason there are convergence difficulties. Try again with the brms version</span>
<span id="cb145-739"><a href="#cb145-739" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-740"><a href="#cb145-740" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-741"><a href="#cb145-741" aria-hidden="true" tabindex="-1"></a><span class="fu">## H1A \| OVERALL INTERPRETATION STATE</span></span>
<span id="cb145-742"><a href="#cb145-742" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-743"><a href="#cb145-743" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**"orthogonal"** <span class="sc">\[</span>reference category<span class="sc">\]</span> includes orthogonal and satisficing responses ==<span class="sc">\&gt;</span> indicates a primarily *orthogonal* state of coordinate system understanding</span>
<span id="cb145-744"><a href="#cb145-744" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-745"><a href="#cb145-745" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**"other"** includes: blank, reference point, responses that can't be classified (including selecting all datapoints), =<span class="sc">\&gt;</span> indicates an uncertain or unidentifiable state of coordinate system understanding, but one that is distinctly *not* orthogonal nor triangular</span>
<span id="cb145-746"><a href="#cb145-746" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-747"><a href="#cb145-747" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**"angular"** includes 'lines connecting' responses as well as responses that include both orthogonal *and* triangular answers =<span class="sc">\&gt;</span> indicates some degree of angular/triangular coordinate understanding</span>
<span id="cb145-748"><a href="#cb145-748" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-749"><a href="#cb145-749" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**"triangular"** includes correct triangular =<span class="sc">\&gt;</span> indicates a correct triangular coordinate understanding</span>
<span id="cb145-750"><a href="#cb145-750" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-751"><a href="#cb145-751" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-752"><a href="#cb145-752" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-753"><a href="#cb145-753" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-754"><a href="#cb145-754" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Setup</span></span>
<span id="cb145-755"><a href="#cb145-755" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-758"><a href="#cb145-758" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb145-759"><a href="#cb145-759" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: SETUP-STATE</span></span>
<span id="cb145-760"><a href="#cb145-760" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-761"><a href="#cb145-761" aria-hidden="true" tabindex="-1"></a><span class="co">#:::::::: PREP DATA</span></span>
<span id="cb145-762"><a href="#cb145-762" aria-hidden="true" tabindex="-1"></a>df_i <span class="ot">=</span> df_items <span class="sc">%&gt;%</span> <span class="fu">filter</span>(q <span class="sc">%nin%</span> <span class="fu">c</span>(<span class="dv">6</span>,<span class="dv">9</span>)) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(q,subject,state,pretty_condition)</span>
<span id="cb145-763"><a href="#cb145-763" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb145-764"><a href="#cb145-764" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-767"><a href="#cb145-767" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb145-768"><a href="#cb145-768" aria-hidden="true" tabindex="-1"></a><span class="co">#:::::::: STACKED BAR CHART</span></span>
<span id="cb145-769"><a href="#cb145-769" aria-hidden="true" tabindex="-1"></a>df_i <span class="sc">%&gt;%</span> </span>
<span id="cb145-770"><a href="#cb145-770" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">data =</span> .,</span>
<span id="cb145-771"><a href="#cb145-771" aria-hidden="true" tabindex="-1"></a>         <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> pretty_condition,</span>
<span id="cb145-772"><a href="#cb145-772" aria-hidden="true" tabindex="-1"></a>                       <span class="at">fill =</span> state)) <span class="sc">+</span></span>
<span id="cb145-773"><a href="#cb145-773" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"fill"</span> ) <span class="sc">+</span> <span class="co">#,color = "black") +</span></span>
<span id="cb145-774"><a href="#cb145-774" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Set1"</span>)  <span class="sc">+</span></span>
<span id="cb145-775"><a href="#cb145-775" aria-hidden="true" tabindex="-1"></a>  <span class="co"># facet_wrap(~pretty_mode) + </span></span>
<span id="cb145-776"><a href="#cb145-776" aria-hidden="true" tabindex="-1"></a>   <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Interpretation across all Questions"</span>,</span>
<span id="cb145-777"><a href="#cb145-777" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Condition"</span>,</span>
<span id="cb145-778"><a href="#cb145-778" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">""</span>,</span>
<span id="cb145-779"><a href="#cb145-779" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle=</span><span class="st">""</span>)</span>
<span id="cb145-780"><a href="#cb145-780" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-781"><a href="#cb145-781" aria-hidden="true" tabindex="-1"></a><span class="co">#:::::::: STACKED BAR CHART</span></span>
<span id="cb145-782"><a href="#cb145-782" aria-hidden="true" tabindex="-1"></a>df_i <span class="sc">%&gt;%</span> </span>
<span id="cb145-783"><a href="#cb145-783" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">data =</span> .,</span>
<span id="cb145-784"><a href="#cb145-784" aria-hidden="true" tabindex="-1"></a>         <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> pretty_condition,</span>
<span id="cb145-785"><a href="#cb145-785" aria-hidden="true" tabindex="-1"></a>                       <span class="at">fill =</span> state)) <span class="sc">+</span></span>
<span id="cb145-786"><a href="#cb145-786" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"fill"</span> ) <span class="sc">+</span> <span class="co">#,color = "black") +</span></span>
<span id="cb145-787"><a href="#cb145-787" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Set1"</span>)  <span class="sc">+</span></span>
<span id="cb145-788"><a href="#cb145-788" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>q) <span class="sc">+</span></span>
<span id="cb145-789"><a href="#cb145-789" aria-hidden="true" tabindex="-1"></a>   <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Interpretation by Question"</span>,</span>
<span id="cb145-790"><a href="#cb145-790" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Condition"</span>,</span>
<span id="cb145-791"><a href="#cb145-791" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">""</span>,</span>
<span id="cb145-792"><a href="#cb145-792" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle=</span><span class="st">""</span>)</span>
<span id="cb145-793"><a href="#cb145-793" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-794"><a href="#cb145-794" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb145-795"><a href="#cb145-795" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-796"><a href="#cb145-796" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-799"><a href="#cb145-799" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb145-800"><a href="#cb145-800" aria-hidden="true" tabindex="-1"></a><span class="co">#::::::::::::DESCRIPTIVES</span></span>
<span id="cb145-801"><a href="#cb145-801" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-802"><a href="#cb145-802" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(df_i<span class="sc">$</span>state, df_i<span class="sc">$</span>pretty_condition) <span class="sc">%&gt;%</span> <span class="fu">addmargins</span>(<span class="dv">2</span>) <span class="sc">%&gt;%</span> <span class="co">#display sum for row</span></span>
<span id="cb145-803"><a href="#cb145-803" aria-hidden="true" tabindex="-1"></a>      <span class="fu">prop.table</span>(<span class="at">margin=</span><span class="dv">2</span>) <span class="sc">%&gt;%</span>  <span class="co">#return proportion (of column)</span></span>
<span id="cb145-804"><a href="#cb145-804" aria-hidden="true" tabindex="-1"></a>      <span class="fu">addmargins</span>(<span class="dv">1</span>) <span class="co">#sanity check sum of columns</span></span>
<span id="cb145-805"><a href="#cb145-805" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-806"><a href="#cb145-806" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-807"><a href="#cb145-807" aria-hidden="true" tabindex="-1"></a>(t <span class="ot">&lt;-</span> <span class="fu">table</span>(df_i<span class="sc">$</span>state, df_i<span class="sc">$</span>pretty_condition) <span class="sc">%&gt;%</span> <span class="fu">addmargins</span>(<span class="dv">2</span>) <span class="sc">%&gt;%</span> <span class="co">#display sum for row</span></span>
<span id="cb145-808"><a href="#cb145-808" aria-hidden="true" tabindex="-1"></a>      <span class="fu">addmargins</span>(<span class="dv">1</span>)) <span class="co">#sanity check sum of columns</span></span>
<span id="cb145-809"><a href="#cb145-809" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-810"><a href="#cb145-810" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb145-811"><a href="#cb145-811" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-812"><a href="#cb145-812" aria-hidden="true" tabindex="-1"></a><span class="fu">#### MIXED MULTINOMIAL REGRESSION</span></span>
<span id="cb145-813"><a href="#cb145-813" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-814"><a href="#cb145-814" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-815"><a href="#cb145-815" aria-hidden="true" tabindex="-1"></a>*Does condition affect the response state of of items across the task?*</span>
<span id="cb145-816"><a href="#cb145-816" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-817"><a href="#cb145-817" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-818"><a href="#cb145-818" aria-hidden="true" tabindex="-1"></a><span class="fu">##### Fit Model \[brms\]</span></span>
<span id="cb145-819"><a href="#cb145-819" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-822"><a href="#cb145-822" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb145-823"><a href="#cb145-823" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: FIT-BRMS-STATE</span></span>
<span id="cb145-824"><a href="#cb145-824" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-825"><a href="#cb145-825" aria-hidden="true" tabindex="-1"></a><span class="co">#BAYESIAN RANDOM ONLY</span></span>
<span id="cb145-826"><a href="#cb145-826" aria-hidden="true" tabindex="-1"></a>Bmm.cat.rSQ <span class="ot">&lt;-</span> <span class="fu">brm</span>( state <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> (<span class="dv">1</span><span class="sc">|</span>subject) <span class="sc">+</span> (<span class="dv">1</span><span class="sc">|</span>q), </span>
<span id="cb145-827"><a href="#cb145-827" aria-hidden="true" tabindex="-1"></a>                 <span class="at">data =</span> df_i, </span>
<span id="cb145-828"><a href="#cb145-828" aria-hidden="true" tabindex="-1"></a>                 <span class="at">family =</span> <span class="st">"categorical"</span>,</span>
<span id="cb145-829"><a href="#cb145-829" aria-hidden="true" tabindex="-1"></a>                 <span class="at">chains =</span> <span class="dv">4</span>, <span class="at">iter =</span> <span class="dv">2500</span>, <span class="at">warmup =</span> <span class="dv">1000</span>,</span>
<span id="cb145-830"><a href="#cb145-830" aria-hidden="true" tabindex="-1"></a>                 <span class="at">cores =</span> <span class="dv">4</span>, <span class="at">seed =</span> <span class="dv">1234</span>,</span>
<span id="cb145-831"><a href="#cb145-831" aria-hidden="true" tabindex="-1"></a>                 <span class="at">save_pars =</span> <span class="fu">save_pars</span>(<span class="at">all =</span> <span class="cn">TRUE</span>),</span>
<span id="cb145-832"><a href="#cb145-832" aria-hidden="true" tabindex="-1"></a>                 <span class="co"># backend = "cmdstanr",</span></span>
<span id="cb145-833"><a href="#cb145-833" aria-hidden="true" tabindex="-1"></a>                 <span class="at">file =</span><span class="st">"analysis/SGC4B/models/sgc4b_brms_state_Bmm.cat.rSQ_LAB.rds"</span>)</span>
<span id="cb145-834"><a href="#cb145-834" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-835"><a href="#cb145-835" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-836"><a href="#cb145-836" aria-hidden="true" tabindex="-1"></a><span class="co">#set priors [see justification, in SGC3A]</span></span>
<span id="cb145-837"><a href="#cb145-837" aria-hidden="true" tabindex="-1"></a>inf_priors <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb145-838"><a href="#cb145-838" aria-hidden="true" tabindex="-1"></a>   <span class="co">#prior on INTERCEPTS</span></span>
<span id="cb145-839"><a href="#cb145-839" aria-hidden="true" tabindex="-1"></a>   <span class="co">#25% chance of each answer in control, scale = from 0.01 to 62%</span></span>
<span id="cb145-840"><a href="#cb145-840" aria-hidden="true" tabindex="-1"></a>   <span class="fu">prior</span>(<span class="fu">normal</span>(<span class="sc">-</span><span class="fl">1.1</span>, <span class="fl">1.5</span>),  <span class="at">class =</span> <span class="st">"Intercept"</span>, <span class="at">dpar =</span> <span class="st">"muangular"</span>),</span>
<span id="cb145-841"><a href="#cb145-841" aria-hidden="true" tabindex="-1"></a>   <span class="fu">prior</span>(<span class="fu">normal</span>(<span class="sc">-</span><span class="fl">1.1</span>, <span class="fl">1.5</span>),  <span class="at">class =</span> <span class="st">"Intercept"</span>, <span class="at">dpar =</span> <span class="st">"muother"</span>),</span>
<span id="cb145-842"><a href="#cb145-842" aria-hidden="true" tabindex="-1"></a>   <span class="fu">prior</span>(<span class="fu">normal</span>(<span class="sc">-</span><span class="fl">1.1</span>, <span class="fl">1.5</span>),  <span class="at">class =</span> <span class="st">"Intercept"</span>, <span class="at">dpar =</span> <span class="st">"mutriangular"</span>),</span>
<span id="cb145-843"><a href="#cb145-843" aria-hidden="true" tabindex="-1"></a>   <span class="co">#prior on COEFFICIENT</span></span>
<span id="cb145-844"><a href="#cb145-844" aria-hidden="true" tabindex="-1"></a>   <span class="co">#likely to change odds between 0 and 2.4</span></span>
<span id="cb145-845"><a href="#cb145-845" aria-hidden="true" tabindex="-1"></a>   <span class="fu">prior</span>(<span class="fu">normal</span>(<span class="dv">0</span>, <span class="fl">2.42</span>), <span class="at">class =</span> b, <span class="at">coef=</span><span class="st">"pretty_conditioncross"</span>, <span class="at">dpar =</span> <span class="st">"muangular"</span>),</span>
<span id="cb145-846"><a href="#cb145-846" aria-hidden="true" tabindex="-1"></a>   <span class="fu">prior</span>(<span class="fu">normal</span>(<span class="dv">0</span>, <span class="fl">2.42</span>), <span class="at">class =</span> b, <span class="at">coef=</span><span class="st">"pretty_conditioncross"</span>, <span class="at">dpar =</span> <span class="st">"muother"</span>),</span>
<span id="cb145-847"><a href="#cb145-847" aria-hidden="true" tabindex="-1"></a>   <span class="fu">prior</span>(<span class="fu">normal</span>(<span class="dv">0</span>, <span class="fl">2.42</span>), <span class="at">class =</span> b, <span class="at">coef=</span><span class="st">"pretty_conditioncross"</span>, <span class="at">dpar =</span> <span class="st">"mutriangular"</span>),</span>
<span id="cb145-848"><a href="#cb145-848" aria-hidden="true" tabindex="-1"></a>   <span class="fu">prior</span>(<span class="fu">normal</span>(<span class="dv">0</span>, <span class="fl">2.42</span>), <span class="at">class =</span> b, <span class="at">coef=</span><span class="st">"pretty_conditionarrow"</span>, <span class="at">dpar =</span> <span class="st">"muangular"</span>),</span>
<span id="cb145-849"><a href="#cb145-849" aria-hidden="true" tabindex="-1"></a>   <span class="fu">prior</span>(<span class="fu">normal</span>(<span class="dv">0</span>, <span class="fl">2.42</span>), <span class="at">class =</span> b, <span class="at">coef=</span><span class="st">"pretty_conditionarrow"</span>, <span class="at">dpar =</span> <span class="st">"muother"</span>),</span>
<span id="cb145-850"><a href="#cb145-850" aria-hidden="true" tabindex="-1"></a>   <span class="fu">prior</span>(<span class="fu">normal</span>(<span class="dv">0</span>, <span class="fl">2.42</span>), <span class="at">class =</span> b, <span class="at">coef=</span><span class="st">"pretty_conditionarrow"</span>, <span class="at">dpar =</span> <span class="st">"mutriangular"</span>)</span>
<span id="cb145-851"><a href="#cb145-851" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb145-852"><a href="#cb145-852" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb145-853"><a href="#cb145-853" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb145-854"><a href="#cb145-854" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb145-855"><a href="#cb145-855" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb145-856"><a href="#cb145-856" aria-hidden="true" tabindex="-1"></a><span class="co"># #UNINFORMATIVE PRIOR BAYESIAN MIXED VERSION</span></span>
<span id="cb145-857"><a href="#cb145-857" aria-hidden="true" tabindex="-1"></a><span class="co"># flat_Bmm.cat.CrSQ &lt;- brm( state ~ pretty_condition + (1|subject) + (1|q),</span></span>
<span id="cb145-858"><a href="#cb145-858" aria-hidden="true" tabindex="-1"></a><span class="co">#                  data = df_i,</span></span>
<span id="cb145-859"><a href="#cb145-859" aria-hidden="true" tabindex="-1"></a><span class="co">#                  family = "categorical",</span></span>
<span id="cb145-860"><a href="#cb145-860" aria-hidden="true" tabindex="-1"></a><span class="co">#                  chains = 4, iter = 2000, warmup = 1000,</span></span>
<span id="cb145-861"><a href="#cb145-861" aria-hidden="true" tabindex="-1"></a><span class="co">#                  cores = 4, seed = 1234,</span></span>
<span id="cb145-862"><a href="#cb145-862" aria-hidden="true" tabindex="-1"></a><span class="co">#                  save_pars = save_pars(all = TRUE),</span></span>
<span id="cb145-863"><a href="#cb145-863" aria-hidden="true" tabindex="-1"></a><span class="co">#                  backend = "cmdstanr",</span></span>
<span id="cb145-864"><a href="#cb145-864" aria-hidden="true" tabindex="-1"></a><span class="co">#                  file ="analysis/SGC4B/models/sgc4b_brms_state_FLAT_Bmm.cat.CrSQ_LAB.rds")</span></span>
<span id="cb145-865"><a href="#cb145-865" aria-hidden="true" tabindex="-1"></a><span class="co"># # # </span></span>
<span id="cb145-866"><a href="#cb145-866" aria-hidden="true" tabindex="-1"></a><span class="co"># # # # determine default priors </span></span>
<span id="cb145-867"><a href="#cb145-867" aria-hidden="true" tabindex="-1"></a><span class="co"># prior_summary(flat_Bmm.cat.CrSQ)</span></span>
<span id="cb145-868"><a href="#cb145-868" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-869"><a href="#cb145-869" aria-hidden="true" tabindex="-1"></a><span class="co">#INFORMATIVE PRIORS</span></span>
<span id="cb145-870"><a href="#cb145-870" aria-hidden="true" tabindex="-1"></a>Bmm.cat.CrSQ <span class="ot">&lt;-</span> <span class="fu">brm</span>( state <span class="sc">~</span> pretty_condition <span class="sc">+</span> (<span class="dv">1</span><span class="sc">|</span>subject) <span class="sc">+</span> (<span class="dv">1</span><span class="sc">|</span>q), </span>
<span id="cb145-871"><a href="#cb145-871" aria-hidden="true" tabindex="-1"></a>                 <span class="at">data =</span> df_i, </span>
<span id="cb145-872"><a href="#cb145-872" aria-hidden="true" tabindex="-1"></a>                 <span class="at">family =</span> <span class="st">"categorical"</span>,</span>
<span id="cb145-873"><a href="#cb145-873" aria-hidden="true" tabindex="-1"></a>                 <span class="at">prior =</span> inf_priors,</span>
<span id="cb145-874"><a href="#cb145-874" aria-hidden="true" tabindex="-1"></a>                 <span class="at">chains =</span> <span class="dv">4</span>, <span class="at">iter =</span> <span class="dv">2500</span>, <span class="at">warmup =</span> <span class="dv">1000</span>,</span>
<span id="cb145-875"><a href="#cb145-875" aria-hidden="true" tabindex="-1"></a>                 <span class="at">cores =</span> <span class="dv">4</span>, <span class="at">seed =</span> <span class="dv">1234</span>,</span>
<span id="cb145-876"><a href="#cb145-876" aria-hidden="true" tabindex="-1"></a>                 <span class="at">save_pars =</span> <span class="fu">save_pars</span>(<span class="at">all =</span> <span class="cn">TRUE</span>),</span>
<span id="cb145-877"><a href="#cb145-877" aria-hidden="true" tabindex="-1"></a>                 <span class="at">control =</span> <span class="fu">list</span>(<span class="at">adapt_delta =</span> <span class="fl">0.98</span>),  <span class="co"># to deal with divergent transitions</span></span>
<span id="cb145-878"><a href="#cb145-878" aria-hidden="true" tabindex="-1"></a>                 <span class="co"># backend = "cmdstanr",</span></span>
<span id="cb145-879"><a href="#cb145-879" aria-hidden="true" tabindex="-1"></a>                 <span class="at">file =</span><span class="st">"analysis/SGC4B/models/sgc4b_brms_state_Bmm.cat.CrSQ_LAB.rds"</span></span>
<span id="cb145-880"><a href="#cb145-880" aria-hidden="true" tabindex="-1"></a>                 )</span>
<span id="cb145-881"><a href="#cb145-881" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-882"><a href="#cb145-882" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb145-883"><a href="#cb145-883" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-884"><a href="#cb145-884" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-885"><a href="#cb145-885" aria-hidden="true" tabindex="-1"></a><span class="fu">##### Describe</span></span>
<span id="cb145-886"><a href="#cb145-886" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-889"><a href="#cb145-889" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb145-890"><a href="#cb145-890" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: DESC-BRMS-STATE</span></span>
<span id="cb145-891"><a href="#cb145-891" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-892"><a href="#cb145-892" aria-hidden="true" tabindex="-1"></a><span class="co"># best model</span></span>
<span id="cb145-893"><a href="#cb145-893" aria-hidden="true" tabindex="-1"></a><span class="co"># m &lt;- Bmm.cat.CrSQ</span></span>
<span id="cb145-894"><a href="#cb145-894" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> Bmm.cat.CrSQ</span>
<span id="cb145-895"><a href="#cb145-895" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-896"><a href="#cb145-896" aria-hidden="true" tabindex="-1"></a><span class="co">#::::::::: PRINT MODEL </span></span>
<span id="cb145-897"><a href="#cb145-897" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-898"><a href="#cb145-898" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"PREDICTOR MODEL"</span>)</span>
<span id="cb145-899"><a href="#cb145-899" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(m)</span>
<span id="cb145-900"><a href="#cb145-900" aria-hidden="true" tabindex="-1"></a>(d <span class="ot">&lt;-</span> <span class="fu">describe_posterior</span>(<span class="at">ci=</span>.<span class="dv">95</span>, Bmm.cat.CrSQ))</span>
<span id="cb145-901"><a href="#cb145-901" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-902"><a href="#cb145-902" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"BAYES FACTOR [comparison to null]"</span>)</span>
<span id="cb145-903"><a href="#cb145-903" aria-hidden="true" tabindex="-1"></a><span class="co">#think of this like the anova(model) to get p values for each predictor</span></span>
<span id="cb145-904"><a href="#cb145-904" aria-hidden="true" tabindex="-1"></a><span class="co">#has to recompile the models with rstan. total drag</span></span>
<span id="cb145-905"><a href="#cb145-905" aria-hidden="true" tabindex="-1"></a>(b <span class="ot">&lt;-</span> <span class="fu">bayesfactor</span>(Bmm.cat.rSQ, m))</span>
<span id="cb145-906"><a href="#cb145-906" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-907"><a href="#cb145-907" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"DESCRIBE POSTERIOR"</span>)</span>
<span id="cb145-908"><a href="#cb145-908" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-909"><a href="#cb145-909" aria-hidden="true" tabindex="-1"></a><span class="co">#:::::::: INTERPRET COEFFICIENTS</span></span>
<span id="cb145-910"><a href="#cb145-910" aria-hidden="true" tabindex="-1"></a><span class="co"># se &lt;- sqrt(diag(stats::vcov(m)))</span></span>
<span id="cb145-911"><a href="#cb145-911" aria-hidden="true" tabindex="-1"></a><span class="co"># # table of estimates with 95% CI</span></span>
<span id="cb145-912"><a href="#cb145-912" aria-hidden="true" tabindex="-1"></a><span class="co"># (tab &lt;- cbind(Est = fixef(m),</span></span>
<span id="cb145-913"><a href="#cb145-913" aria-hidden="true" tabindex="-1"></a><span class="co">#               LL = fixef(m) - 1.96 * se,</span></span>
<span id="cb145-914"><a href="#cb145-914" aria-hidden="true" tabindex="-1"></a><span class="co">#               UL = fixef(m) + 1.96 * se))</span></span>
<span id="cb145-915"><a href="#cb145-915" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-916"><a href="#cb145-916" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">"LOG ODDS"</span>)</span>
<span id="cb145-917"><a href="#cb145-917" aria-hidden="true" tabindex="-1"></a>(l <span class="ot">&lt;-</span> <span class="fu">describe_posterior</span>(m))</span>
<span id="cb145-918"><a href="#cb145-918" aria-hidden="true" tabindex="-1"></a><span class="co"># (tm &lt;- tidy(m,   conf.int = TRUE))</span></span>
<span id="cb145-919"><a href="#cb145-919" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-920"><a href="#cb145-920" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">"ODDS RATIOS"</span>)</span>
<span id="cb145-921"><a href="#cb145-921" aria-hidden="true" tabindex="-1"></a>(e <span class="ot">&lt;-</span> <span class="fu">model_parameters</span>(m, <span class="at">exponentiate =</span> <span class="cn">TRUE</span>))</span>
<span id="cb145-922"><a href="#cb145-922" aria-hidden="true" tabindex="-1"></a><span class="co"># tidy(m,   conf.int = TRUE, exponentiate = TRUE)</span></span>
<span id="cb145-923"><a href="#cb145-923" aria-hidden="true" tabindex="-1"></a><span class="co"># tm %&gt;% mutate(</span></span>
<span id="cb145-924"><a href="#cb145-924" aria-hidden="true" tabindex="-1"></a><span class="co">#   OR.est = exp(estimate),</span></span>
<span id="cb145-925"><a href="#cb145-925" aria-hidden="true" tabindex="-1"></a><span class="co">#   exp.low = exp(conf.low),</span></span>
<span id="cb145-926"><a href="#cb145-926" aria-hidden="true" tabindex="-1"></a><span class="co">#   exp.high = exp(conf.high)</span></span>
<span id="cb145-927"><a href="#cb145-927" aria-hidden="true" tabindex="-1"></a><span class="co"># ) %&gt;% dplyr::select(effect, component, group, term, OR.est, exp.low, exp.high)</span></span>
<span id="cb145-928"><a href="#cb145-928" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-929"><a href="#cb145-929" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">"PROBABILITIES"</span>)</span>
<span id="cb145-930"><a href="#cb145-930" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-931"><a href="#cb145-931" aria-hidden="true" tabindex="-1"></a><span class="co">#PREDICT METHOD</span></span>
<span id="cb145-932"><a href="#cb145-932" aria-hidden="true" tabindex="-1"></a>newdata <span class="ot">&lt;-</span> df_i <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(pretty_condition, subject, q)</span>
<span id="cb145-933"><a href="#cb145-933" aria-hidden="true" tabindex="-1"></a>preds <span class="ot">&lt;-</span> <span class="fu">predict</span>(m, <span class="at">newdata =</span> newdata, <span class="at">type =</span> <span class="st">"response"</span>)</span>
<span id="cb145-934"><a href="#cb145-934" aria-hidden="true" tabindex="-1"></a>preds <span class="ot">&lt;-</span> <span class="fu">cbind</span>(newdata, preds)</span>
<span id="cb145-935"><a href="#cb145-935" aria-hidden="true" tabindex="-1"></a><span class="co">#lengthen data frame to handle multinomial</span></span>
<span id="cb145-936"><a href="#cb145-936" aria-hidden="true" tabindex="-1"></a>preds <span class="ot">&lt;-</span> preds <span class="sc">%&gt;%</span> </span>
<span id="cb145-937"><a href="#cb145-937" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>subject, <span class="sc">-</span>q) <span class="sc">%&gt;%</span> <span class="co">#marginalize over subject and q</span></span>
<span id="cb145-938"><a href="#cb145-938" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb145-939"><a href="#cb145-939" aria-hidden="true" tabindex="-1"></a>  <span class="at">cols =</span> <span class="sc">!</span>pretty_condition,</span>
<span id="cb145-940"><a href="#cb145-940" aria-hidden="true" tabindex="-1"></a>  <span class="at">values_to =</span> <span class="st">"preds"</span>,</span>
<span id="cb145-941"><a href="#cb145-941" aria-hidden="true" tabindex="-1"></a>  <span class="at">names_to =</span> <span class="st">"state"</span>,</span>
<span id="cb145-942"><a href="#cb145-942" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb145-943"><a href="#cb145-943" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-944"><a href="#cb145-944" aria-hidden="true" tabindex="-1"></a>(p <span class="ot">&lt;-</span> preds <span class="sc">%&gt;%</span> </span>
<span id="cb145-945"><a href="#cb145-945" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pretty_condition, state ) <span class="sc">%&gt;%</span></span>
<span id="cb145-946"><a href="#cb145-946" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb145-947"><a href="#cb145-947" aria-hidden="true" tabindex="-1"></a>    <span class="at">median =</span> <span class="fu">median</span>(preds),</span>
<span id="cb145-948"><a href="#cb145-948" aria-hidden="true" tabindex="-1"></a>    <span class="at">se =</span> <span class="fu">sd</span>(preds)<span class="sc">/</span><span class="fu">sqrt</span>(<span class="fu">n</span>()),</span>
<span id="cb145-949"><a href="#cb145-949" aria-hidden="true" tabindex="-1"></a>    <span class="at">lwr =</span> median <span class="sc">-</span> <span class="fl">1.96</span><span class="sc">*</span>se,</span>
<span id="cb145-950"><a href="#cb145-950" aria-hidden="true" tabindex="-1"></a>    <span class="at">upr =</span> median <span class="sc">+</span> <span class="fl">1.96</span><span class="sc">*</span>se))</span>
<span id="cb145-951"><a href="#cb145-951" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-952"><a href="#cb145-952" aria-hidden="true" tabindex="-1"></a><span class="do">##DRAWS METHOD</span></span>
<span id="cb145-953"><a href="#cb145-953" aria-hidden="true" tabindex="-1"></a><span class="co"># GENERATE draws from model</span></span>
<span id="cb145-954"><a href="#cb145-954" aria-hidden="true" tabindex="-1"></a><span class="co"># draws &lt;- df_i %&gt;%</span></span>
<span id="cb145-955"><a href="#cb145-955" aria-hidden="true" tabindex="-1"></a><span class="co">#   data_grid(pretty_condition, subject, q) %&gt;% </span></span>
<span id="cb145-956"><a href="#cb145-956" aria-hidden="true" tabindex="-1"></a><span class="co">#   add_fitted_draws(Bmm.cat.CrSQ,</span></span>
<span id="cb145-957"><a href="#cb145-957" aria-hidden="true" tabindex="-1"></a><span class="co">#                    # n = 100,</span></span>
<span id="cb145-958"><a href="#cb145-958" aria-hidden="true" tabindex="-1"></a><span class="co">#                    # dpar = TRUE,</span></span>
<span id="cb145-959"><a href="#cb145-959" aria-hidden="true" tabindex="-1"></a><span class="co">#                    # transform = TRUE, #gives prob%, otherwise OR</span></span>
<span id="cb145-960"><a href="#cb145-960" aria-hidden="true" tabindex="-1"></a><span class="co">#                    re_formula = NA)</span></span>
<span id="cb145-961"><a href="#cb145-961" aria-hidden="true" tabindex="-1"></a><span class="co"># # draws %&gt;% write_rds(file = "analysis/SGC3A/models/draws/draws_BB.catCrSQ.rds")</span></span>
<span id="cb145-962"><a href="#cb145-962" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb145-963"><a href="#cb145-963" aria-hidden="true" tabindex="-1"></a><span class="co"># #OR load from file</span></span>
<span id="cb145-964"><a href="#cb145-964" aria-hidden="true" tabindex="-1"></a><span class="co"># # draws &lt;- read_rds(file = "analysis/SGC3A/models/draws/draws_BB.catCrSQ.rds")</span></span>
<span id="cb145-965"><a href="#cb145-965" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb145-966"><a href="#cb145-966" aria-hidden="true" tabindex="-1"></a><span class="co"># # SUMMARIZE draws from model</span></span>
<span id="cb145-967"><a href="#cb145-967" aria-hidden="true" tabindex="-1"></a><span class="co"># (k &lt;- kable(draws %&gt;%</span></span>
<span id="cb145-968"><a href="#cb145-968" aria-hidden="true" tabindex="-1"></a><span class="co">#   dplyr::select(pretty_condition, .category, .value) %&gt;%</span></span>
<span id="cb145-969"><a href="#cb145-969" aria-hidden="true" tabindex="-1"></a><span class="co">#   group_by(pretty_condition, .category) %&gt;%</span></span>
<span id="cb145-970"><a href="#cb145-970" aria-hidden="true" tabindex="-1"></a><span class="co">#   median_hdci(.value), digits = 4, col.names =</span></span>
<span id="cb145-971"><a href="#cb145-971" aria-hidden="true" tabindex="-1"></a><span class="co">#     c("Condition","Category", "Probability","Lower Cred.I","Upper Cred.I", "CI Width", "Point Type", "Interval Type")) %&gt;%</span></span>
<span id="cb145-972"><a href="#cb145-972" aria-hidden="true" tabindex="-1"></a><span class="co">#   kable_styling())</span></span>
<span id="cb145-973"><a href="#cb145-973" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-974"><a href="#cb145-974" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-975"><a href="#cb145-975" aria-hidden="true" tabindex="-1"></a><span class="do">##EASY STATS INSIGHT </span></span>
<span id="cb145-976"><a href="#cb145-976" aria-hidden="true" tabindex="-1"></a><span class="co"># https://easystats.github.io/insight/reference/get_predicted.html</span></span>
<span id="cb145-977"><a href="#cb145-977" aria-hidden="true" tabindex="-1"></a><span class="co"># p &lt;- get_predicted(m, predict = "expectation")</span></span>
<span id="cb145-978"><a href="#cb145-978" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-979"><a href="#cb145-979" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-980"><a href="#cb145-980" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb145-981"><a href="#cb145-981" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-982"><a href="#cb145-982" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-983"><a href="#cb145-983" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-984"><a href="#cb145-984" aria-hidden="true" tabindex="-1"></a><span class="fu">##### TODO INFERENCE</span></span>
<span id="cb145-985"><a href="#cb145-985" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-986"><a href="#cb145-986" aria-hidden="true" tabindex="-1"></a>**UPDATE THIS [template from 3A**</span>
<span id="cb145-987"><a href="#cb145-987" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-988"><a href="#cb145-988" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">REPORT POSTERIOR MEDIAN $\exp_{beta}$, 95 \% credible interval, \% probability of direction</span><span class="co">]</span></span>
<span id="cb145-989"><a href="#cb145-989" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-990"><a href="#cb145-990" aria-hidden="true" tabindex="-1"></a>We fit a (bayesian) multinomial logistic regression model with random intercepts for subjects and questions. A Bayes Factor model comparison (against a random intercepts-only model) indicates extreme evidence for a main effect of CONDITION (BF = 1.38e+14). </span>
<span id="cb145-991"><a href="#cb145-991" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-992"><a href="#cb145-992" aria-hidden="true" tabindex="-1"></a>**Consistent with our hypothesis, the impasse condition substantially increases the odds of transitional interpretations.** </span>
<span id="cb145-993"><a href="#cb145-993" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-994"><a href="#cb145-994" aria-hidden="true" tabindex="-1"></a>Across the entire task participants in the impasse condition were 12 times more likely to offer an 'unknown' rather than orthogonal response compared with those in the control condition ( $e^{\beta_1} = 12.13, 95 \% CI <span class="co">[</span><span class="ot">6.29, 25.24</span><span class="co">]</span>, pd = 100\%$). Participants in the impasse condition were 12 times more likely to offer an 'angular' rather than orthogonal response compared with those in the control condition ( $e^{\beta_1} = 11.48, 95 \% CI <span class="co">[</span><span class="ot">3.95, 37.67</span><span class="co">]</span>, pd = 100\%$), and 34 times more likely to offer an 'triangular' rather than orthogonal response compared with those in the control condition ( $e^{\beta_1} = 33.90, 95 \% CI <span class="co">[</span><span class="ot">6.22, 211.18</span><span class="co">]</span>, pd = 100\%$). </span>
<span id="cb145-995"><a href="#cb145-995" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-996"><a href="#cb145-996" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-997"><a href="#cb145-997" aria-hidden="true" tabindex="-1"></a><span class="fu">##### Print</span></span>
<span id="cb145-1000"><a href="#cb145-1000" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb145-1001"><a href="#cb145-1001" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: MODEL-TBL-STATE</span></span>
<span id="cb145-1002"><a href="#cb145-1002" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-1003"><a href="#cb145-1003" aria-hidden="true" tabindex="-1"></a><span class="co">#SJPLOT | MODEL | TABLE</span></span>
<span id="cb145-1004"><a href="#cb145-1004" aria-hidden="true" tabindex="-1"></a><span class="co"># tab_model(m)</span></span>
<span id="cb145-1005"><a href="#cb145-1005" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-1006"><a href="#cb145-1006" aria-hidden="true" tabindex="-1"></a><span class="co"># #MODEL SUMMARY | save latex table</span></span>
<span id="cb145-1007"><a href="#cb145-1007" aria-hidden="true" tabindex="-1"></a><span class="co">#model summary doesn't work for brms multinomial</span></span>
<span id="cb145-1008"><a href="#cb145-1008" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-1009"><a href="#cb145-1009" aria-hidden="true" tabindex="-1"></a><span class="co"># DOESN'T WORK FOR BRMS</span></span>
<span id="cb145-1010"><a href="#cb145-1010" aria-hidden="true" tabindex="-1"></a><span class="co"># extract_eq(m, use_coefs = TRUE, wrap = TRUE)</span></span>
<span id="cb145-1011"><a href="#cb145-1011" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb145-1012"><a href="#cb145-1012" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb145-1013"><a href="#cb145-1013" aria-hidden="true" tabindex="-1"></a><span class="co"># #GET MODEL ESTIMATES</span></span>
<span id="cb145-1014"><a href="#cb145-1014" aria-hidden="true" tabindex="-1"></a><span class="co"># t &lt;- as.data.frame(model_parameters(m, exponentiate = TRUE))</span></span>
<span id="cb145-1015"><a href="#cb145-1015" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb145-1016"><a href="#cb145-1016" aria-hidden="true" tabindex="-1"></a><span class="co"># #REFORMAT</span></span>
<span id="cb145-1017"><a href="#cb145-1017" aria-hidden="true" tabindex="-1"></a><span class="co"># x &lt;- t %&gt;%</span></span>
<span id="cb145-1018"><a href="#cb145-1018" aria-hidden="true" tabindex="-1"></a><span class="co">#   mutate(</span></span>
<span id="cb145-1019"><a href="#cb145-1019" aria-hidden="true" tabindex="-1"></a><span class="co">#     Interpretation = word(Parameter, 2, sep = "_"),</span></span>
<span id="cb145-1020"><a href="#cb145-1020" aria-hidden="true" tabindex="-1"></a><span class="co">#     Interpretation = str_remove_all(Interpretation,"mu"),</span></span>
<span id="cb145-1021"><a href="#cb145-1021" aria-hidden="true" tabindex="-1"></a><span class="co">#     Interpretation = fct_relevel(Interpretation, levels = c("other","angular","triangular")),</span></span>
<span id="cb145-1022"><a href="#cb145-1022" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb145-1023"><a href="#cb145-1023" aria-hidden="true" tabindex="-1"></a><span class="co">#     Parameter = as.factor(word(Parameter, 3, sep = "_")),</span></span>
<span id="cb145-1024"><a href="#cb145-1024" aria-hidden="true" tabindex="-1"></a><span class="co">#     Parameter = recode_factor(Parameter,</span></span>
<span id="cb145-1025"><a href="#cb145-1025" aria-hidden="true" tabindex="-1"></a><span class="co">#                          "Intercept" = "(Intercept)",</span></span>
<span id="cb145-1026"><a href="#cb145-1026" aria-hidden="true" tabindex="-1"></a><span class="co">#                          "pretty" = "Condition[impasse]"),</span></span>
<span id="cb145-1027"><a href="#cb145-1027" aria-hidden="true" tabindex="-1"></a><span class="co">#     Median = round(Median,2),</span></span>
<span id="cb145-1028"><a href="#cb145-1028" aria-hidden="true" tabindex="-1"></a><span class="co">#     CI_low = round(CI_low,2),</span></span>
<span id="cb145-1029"><a href="#cb145-1029" aria-hidden="true" tabindex="-1"></a><span class="co">#     CI_high = round(CI_high,2),</span></span>
<span id="cb145-1030"><a href="#cb145-1030" aria-hidden="true" tabindex="-1"></a><span class="co">#     pd = round(pd,2),</span></span>
<span id="cb145-1031"><a href="#cb145-1031" aria-hidden="true" tabindex="-1"></a><span class="co">#     ROPE_Percentage = round(ROPE_Percentage,2)</span></span>
<span id="cb145-1032"><a href="#cb145-1032" aria-hidden="true" tabindex="-1"></a><span class="co">#   ) %&gt;%</span></span>
<span id="cb145-1033"><a href="#cb145-1033" aria-hidden="true" tabindex="-1"></a><span class="co">#   arrange(Interpretation) %&gt;%</span></span>
<span id="cb145-1034"><a href="#cb145-1034" aria-hidden="true" tabindex="-1"></a><span class="co">#   dplyr::select(-CI, -Rhat, -ESS) %&gt;%</span></span>
<span id="cb145-1035"><a href="#cb145-1035" aria-hidden="true" tabindex="-1"></a><span class="co">#   rename( "%_in_ROPE"="ROPE_Percentage",</span></span>
<span id="cb145-1036"><a href="#cb145-1036" aria-hidden="true" tabindex="-1"></a><span class="co">#           "(Odds Ratio)" = "Median") %&gt;%</span></span>
<span id="cb145-1037"><a href="#cb145-1037" aria-hidden="true" tabindex="-1"></a><span class="co">#   dplyr::select(Interpretation, Parameter, `(Odds Ratio)`, CI_low, CI_high, pd, `%_in_ROPE`)</span></span>
<span id="cb145-1038"><a href="#cb145-1038" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-1039"><a href="#cb145-1039" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-1040"><a href="#cb145-1040" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb145-1041"><a href="#cb145-1041" aria-hidden="true" tabindex="-1"></a><span class="co"># #KNIT</span></span>
<span id="cb145-1042"><a href="#cb145-1042" aria-hidden="true" tabindex="-1"></a><span class="co"># title = "Study 3A (Lab) | Question Interpretation | Mixed Multinomial Regression"</span></span>
<span id="cb145-1043"><a href="#cb145-1043" aria-hidden="true" tabindex="-1"></a><span class="co"># tab &lt;- kbl(x, format = "latex", caption = title,</span></span>
<span id="cb145-1044"><a href="#cb145-1044" aria-hidden="true" tabindex="-1"></a><span class="co">#            booktabs = FALSE) %&gt;% kable_classic() %&gt;%</span></span>
<span id="cb145-1045"><a href="#cb145-1045" aria-hidden="true" tabindex="-1"></a><span class="co"># footnote(general = paste("Model Interpretation ~ ",b$Model[2], "Bayes Factor ", format( exp(b$log_BF[2]), digits =2 ) ), footnote_as_chunk = T, general_title = "")</span></span>
<span id="cb145-1046"><a href="#cb145-1046" aria-hidden="true" tabindex="-1"></a><span class="co"># writeLines(tab, "tables/SGC3A_LAB_BRMS_state.tex")</span></span>
<span id="cb145-1047"><a href="#cb145-1047" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-1048"><a href="#cb145-1048" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-1049"><a href="#cb145-1049" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb145-1050"><a href="#cb145-1050" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-1051"><a href="#cb145-1051" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-1052"><a href="#cb145-1052" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-1053"><a href="#cb145-1053" aria-hidden="true" tabindex="-1"></a><span class="fu">##### Visualize</span></span>
<span id="cb145-1054"><a href="#cb145-1054" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-1057"><a href="#cb145-1057" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb145-1058"><a href="#cb145-1058" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: VIS-BRMS-STATE</span></span>
<span id="cb145-1059"><a href="#cb145-1059" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-1060"><a href="#cb145-1060" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-1061"><a href="#cb145-1061" aria-hidden="true" tabindex="-1"></a><span class="do">## | PLOT PARAMETERS </span></span>
<span id="cb145-1062"><a href="#cb145-1062" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-1063"><a href="#cb145-1063" aria-hidden="true" tabindex="-1"></a><span class="co">#SJPLOT | MODEL | ODDS RATIO</span></span>
<span id="cb145-1064"><a href="#cb145-1064" aria-hidden="true" tabindex="-1"></a><span class="co"># plot_model(m, vline.color = "red",</span></span>
<span id="cb145-1065"><a href="#cb145-1065" aria-hidden="true" tabindex="-1"></a><span class="co">#            show.intercept = TRUE,</span></span>
<span id="cb145-1066"><a href="#cb145-1066" aria-hidden="true" tabindex="-1"></a><span class="co">#            show.values = TRUE,</span></span>
<span id="cb145-1067"><a href="#cb145-1067" aria-hidden="true" tabindex="-1"></a><span class="co">#            p.threshold = 0.1, #manually adjust to account for directional test</span></span>
<span id="cb145-1068"><a href="#cb145-1068" aria-hidden="true" tabindex="-1"></a><span class="co">#            ci.lvl = 0.90 ) + #manually adjusted for directional test</span></span>
<span id="cb145-1069"><a href="#cb145-1069" aria-hidden="true" tabindex="-1"></a><span class="co">#   labs(title = "Model Estimate | Odds Ratio",</span></span>
<span id="cb145-1070"><a href="#cb145-1070" aria-hidden="true" tabindex="-1"></a><span class="co">#        subtitle = "",</span></span>
<span id="cb145-1071"><a href="#cb145-1071" aria-hidden="true" tabindex="-1"></a><span class="co">#        x = "Condition")</span></span>
<span id="cb145-1072"><a href="#cb145-1072" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-1073"><a href="#cb145-1073" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-1074"><a href="#cb145-1074" aria-hidden="true" tabindex="-1"></a><span class="co">#EASYSTATS | MODEL | ODDS RATIO</span></span>
<span id="cb145-1075"><a href="#cb145-1075" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">model_parameters</span>(Bmm.cat.CrSQ, <span class="at">exponentiate =</span> <span class="cn">TRUE</span>, <span class="at">component =</span> <span class="st">"all"</span>)</span>
<span id="cb145-1076"><a href="#cb145-1076" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(result, <span class="at">show_intercept =</span> <span class="cn">TRUE</span>, <span class="at">show_labels =</span> <span class="cn">TRUE</span>) </span>
<span id="cb145-1077"><a href="#cb145-1077" aria-hidden="true" tabindex="-1"></a><span class="co"># + theme_clean()</span></span>
<span id="cb145-1078"><a href="#cb145-1078" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-1079"><a href="#cb145-1079" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb145-1080"><a href="#cb145-1080" aria-hidden="true" tabindex="-1"></a><span class="co"># result &lt;- estimate_density(m,exponentiate = TRUE)</span></span>
<span id="cb145-1081"><a href="#cb145-1081" aria-hidden="true" tabindex="-1"></a><span class="co"># plot(result,  stack = FALSE, priors = TRUE)</span></span>
<span id="cb145-1082"><a href="#cb145-1082" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-1083"><a href="#cb145-1083" aria-hidden="true" tabindex="-1"></a><span class="do">## | PLOT TESTS</span></span>
<span id="cb145-1084"><a href="#cb145-1084" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">equivalence_test</span>(m, <span class="at">rule =</span> <span class="st">"classic"</span>, <span class="at">ci=</span><span class="fl">0.9</span>) <span class="co">#classic[tost], , bayes</span></span>
<span id="cb145-1085"><a href="#cb145-1085" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(result)</span>
<span id="cb145-1086"><a href="#cb145-1086" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-1087"><a href="#cb145-1087" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">rope</span>(m)</span>
<span id="cb145-1088"><a href="#cb145-1088" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(result)</span>
<span id="cb145-1089"><a href="#cb145-1089" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-1090"><a href="#cb145-1090" aria-hidden="true" tabindex="-1"></a>(result <span class="ot">&lt;-</span> <span class="fu">pd</span>(m,<span class="at">exponentiate =</span> <span class="cn">TRUE</span>))</span>
<span id="cb145-1091"><a href="#cb145-1091" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(result, <span class="at">show_intercept =</span> <span class="cn">TRUE</span>, <span class="at">show_labels =</span> <span class="cn">TRUE</span>)</span>
<span id="cb145-1092"><a href="#cb145-1092" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-1093"><a href="#cb145-1093" aria-hidden="true" tabindex="-1"></a><span class="do">## | PLOT PREDICTIONS</span></span>
<span id="cb145-1094"><a href="#cb145-1094" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-1095"><a href="#cb145-1095" aria-hidden="true" tabindex="-1"></a><span class="co">#SJPLOT | MODEL | PROBABILITIES</span></span>
<span id="cb145-1096"><a href="#cb145-1096" aria-hidden="true" tabindex="-1"></a><span class="co"># plot_model(m, type="eff",</span></span>
<span id="cb145-1097"><a href="#cb145-1097" aria-hidden="true" tabindex="-1"></a><span class="co">#            show.intercept = TRUE,</span></span>
<span id="cb145-1098"><a href="#cb145-1098" aria-hidden="true" tabindex="-1"></a><span class="co">#            show.values = TRUE,</span></span>
<span id="cb145-1099"><a href="#cb145-1099" aria-hidden="true" tabindex="-1"></a><span class="co">#            title = "Model Prediction | Probability of Accurate Response",</span></span>
<span id="cb145-1100"><a href="#cb145-1100" aria-hidden="true" tabindex="-1"></a><span class="co">#            axis.title = c("Condition","Probability of Accurate Response"))</span></span>
<span id="cb145-1101"><a href="#cb145-1101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-1102"><a href="#cb145-1102" aria-hidden="true" tabindex="-1"></a><span class="co"># #PLOT MODEL PREDICTION</span></span>
<span id="cb145-1103"><a href="#cb145-1103" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_model</span>(m, <span class="at">type =</span> <span class="st">"pred"</span>,</span>
<span id="cb145-1104"><a href="#cb145-1104" aria-hidden="true" tabindex="-1"></a>           <span class="at">title =</span> <span class="st">"Model PREDICTION | Probability of Response Interpretation"</span>,</span>
<span id="cb145-1105"><a href="#cb145-1105" aria-hidden="true" tabindex="-1"></a>           <span class="at">axis.title =</span> <span class="fu">c</span>(<span class="st">"Condition"</span>, <span class="st">"Probability of Response Interpretation"</span>))</span>
<span id="cb145-1106"><a href="#cb145-1106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-1107"><a href="#cb145-1107" aria-hidden="true" tabindex="-1"></a><span class="co">#TODO OUTPUT TABLE </span></span>
<span id="cb145-1108"><a href="#cb145-1108" aria-hidden="true" tabindex="-1"></a><span class="co"># modelsummary(m)</span></span>
<span id="cb145-1109"><a href="#cb145-1109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-1110"><a href="#cb145-1110" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb145-1111"><a href="#cb145-1111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-1112"><a href="#cb145-1112" aria-hidden="true" tabindex="-1"></a><span class="fu">##### COMPARE</span></span>
<span id="cb145-1113"><a href="#cb145-1113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-1116"><a href="#cb145-1116" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb145-1117"><a href="#cb145-1117" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: COMPARE-STATE-MODELS</span></span>
<span id="cb145-1118"><a href="#cb145-1118" aria-hidden="true" tabindex="-1"></a><span class="co"># compare_models(m.mbl1, mm.cat.CrSQ)</span></span>
<span id="cb145-1119"><a href="#cb145-1119" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb145-1120"><a href="#cb145-1120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-1121"><a href="#cb145-1121" aria-hidden="true" tabindex="-1"></a><span class="fu">##### Diagnostics</span></span>
<span id="cb145-1122"><a href="#cb145-1122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-1125"><a href="#cb145-1125" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb145-1126"><a href="#cb145-1126" aria-hidden="true" tabindex="-1"></a><span class="co">#CHECK Fit of posterior predictive to data</span></span>
<span id="cb145-1127"><a href="#cb145-1127" aria-hidden="true" tabindex="-1"></a><span class="fu">pp_check</span>(Bmm.cat.CrSQ, <span class="at">ndraws=</span><span class="dv">1000</span>)</span>
<span id="cb145-1128"><a href="#cb145-1128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-1129"><a href="#cb145-1129" aria-hidden="true" tabindex="-1"></a><span class="co">#CHECK posterior vs. priors</span></span>
<span id="cb145-1130"><a href="#cb145-1130" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">estimate_density</span>(Bmm.cat.CrSQ)</span>
<span id="cb145-1131"><a href="#cb145-1131" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(result, <span class="at">stack =</span> <span class="cn">FALSE</span>, <span class="at">priors=</span> <span class="cn">TRUE</span>)</span>
<span id="cb145-1132"><a href="#cb145-1132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-1133"><a href="#cb145-1133" aria-hidden="true" tabindex="-1"></a><span class="co">#CHECK model</span></span>
<span id="cb145-1134"><a href="#cb145-1134" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(Bmm.cat.CrSQ)</span>
<span id="cb145-1135"><a href="#cb145-1135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-1136"><a href="#cb145-1136" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>