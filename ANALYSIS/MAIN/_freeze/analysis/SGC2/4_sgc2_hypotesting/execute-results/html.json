{
  "hash": "f8a5def978ae9a418daef4f3ee16c144",
  "result": {
    "markdown": "---\nsubtitle: 'Study SGC2 | Hypothesis Testing'\n---\n\n\\newpage\n\n# Hypothesis Testing {#sec-SGC2-hypotesting}\n\n## TODO\n\nQ3 looks nondiscriminant perhaps remove this from analysis\n\n*The purpose of this notebook is test the hypotheses that determined the design of the SGC2 study.*\n\n1.  **The Need for Scaffolding:** Learners without scaffolding (control) will perform better with the LM than TM\\\n2.  **The Effectiveness of Scaffolding:** Learners with (any form of) scaffolding will perform better with the TM than LM (replication of \\[12\\]).\\\n3.  **Graph-Order as Scaffolding:** Based on observations in Study One we expect that graph-order will act as a scaffold. Learners who solve problems with the LM graph first will perform better on the TM (relative to TM-first learners) as their attention will be drawn to the salient differences between the graphs.\\\n    <br>\n    \n  \n\n::: {.cell}\n\n```{.r .cell-code}\n#UTILITIES\nlibrary(Hmisc) # %nin% operator\nlibrary(broom) #tidy model output\nlibrary(broom.mixed) #tidy mixed  models\nlibrary(mosaic) #favstats\nlibrary(svglite) #saving plots as svg\nlibrary(distributional)\n\n#VISUALIZATION\n# library(ggpubr) #arrange plots\n# library(cowplot) #arrange shift function plots\nlibrary(ggformula) #easy graphs\n# # library(vcd) #mosaic plots\n# # library(vcdExtra) #mosaic plots\nlibrary(kableExtra) #printing tables\nlibrary(sjPlot) #visualize model coefficients\nlibrary(ggdist) #uncertainty viz\nlibrary(modelr) #needed for ggdist\nlibrary(gghalves) # plots. in half\nlibrary(ggbeeswarm) # violin plot stuffs\nlibrary(statsExpressions)\nlibrary(ggstatsplot) #plots with stats\nlibrary(modelsummary) #latex tables for models!\nlibrary(ggeasy) #shortcuts \n\n#MODELLING\n# library(rstatix) #helpful testing functions incl wilcoxon, etc\nlibrary(report) #easystats reporting\nlibrary(see) #easystats visualization\nlibrary(performance) #easystats model diagnostics\nlibrary(parameters) #easystats model summary and vis\n# library(qqplotr) #confint on qq plot\n# library(gmodels) #contingency table and CHISQR\n# library(equatiomatic) #extract model equation\n# library(pscl) #zeroinfl / hurdle models \nlibrary(lme4) #mixed effects models\nlibrary(lmerTest) #for CIs in glmer\nlibrary(merTools) #predictInterval\n# library(ggeffects) #visualization log regr models\n#MULTINOMIAL \nlibrary(nnet) #multinomial logistic regression [not mixed] #no p values\nlibrary(mclogit) #frequentist mixed multinomial logistic regression [mblogit] #gives p values\n#BAYESIAN\nlibrary(cmdstanr) #executing stan\nlibrary(brms) #bayesian mixed multinomials [+ other bayesian reg models]\nlibrary(bayestestR) \nlibrary(tidybayes)\nlibrary(posterior)\n\nlibrary(tidyverse) #ALL THE THINGS\n\n#OUTPUT OPTIONS\nlibrary(dplyr, warn.conflicts = FALSE)\noptions(dplyr.summarise.inform = FALSE)\noptions(ggplot2.summarise.inform = FALSE)\noptions(scipen=1, digits=3)\n\n#GRAPH THEMEING\n# theme_set(theme_minimal()) \n\n# Custom ggplot theme to make pretty plots\n# Get the font at https://fonts.google.com/specimen/Barlow+Semi+Condensed\ntheme_clean <- function() {\n  theme_minimal(base_family = \"Barlow Semi Condensed\") +\n    theme(panel.grid.minor = element_blank(),\n          plot.title = element_text(family = \"BarlowSemiCondensed-Bold\"),\n          axis.title = element_text(family = \"BarlowSemiCondensed-Medium\"),\n          strip.text = element_text(family = \"BarlowSemiCondensed-Bold\",\n                                    size = rel(1), hjust = 0),\n          strip.background = element_rect(fill = \"grey80\", color = NA))\n}\n\nset_theme(base = theme_clean())\n```\n:::\n\n**Research Questions**\n\nIn SGC2 we compare learner performance on the linear and triangular model graphs by testing the effectiveness of 4 scaffolds and by seeking to replicate the Qiang et.al (2014) finding that after 20 minutes of video training, students perform faster and more accurately with the unconventional TM than the conventional Linear Model (LM). Will our participants show similar performance on the TM with scaffolds rather than formal instruction? Further, will engagement with the TM in a reading task be sufficient for students to reproduce the graph in a subsequent drawing task?\n\n**Hypotheses**\n\n1.  Learners without scaffolding (control) will perform better with the LM than TM\n2.  Learners with (any form of) scaffolding will perform better with the TM than LM (replication of \\[12\\]).\n3.  Based on observations in Study One we expect that graph-order will act as a scaffold. Learners who solve problems with the LM graph first will perform better on the TM (relative to TM-first learners) as their attention will be drawn to the salient differences between the graphs.\n\n::: {.cell}\n\n```{.r .cell-code}\n# HACK WD FOR LOCAL RUNNING?\n# imac = \"/Users/amyraefox/Code/SGC-Scaffolding_Graph_Comprehension/SGC-X/ANALYSIS/MAIN\"\n# mbp = \"/Users/amyfox/Sites/RESEARCH/SGC—Scaffolding Graph Comprehension/SGC-X/ANALYSIS/MAIN\"\n# setwd(mbp)\n\n#IMPORT DATA \ndf_items <- read_rds('analysis/SGC2/data/2-scored-data/sgc2_items.rds') %>% dplyr::select(\n  subject,\n  pretty_condition,\n  order,\n  scenario,\n  graph,\n  rt_sec,\n  block,\n  q_order, \n  q,\n  score\n) %>% \n  mutate( subject = as.factor(subject),\n          accuracy = as.factor(score),\n          order = recode_factor(order, \"TM-First\" = \"TM-First\", \"LM-First\"=\"LM-First\")) %>% \n  filter(block %nin% c(\"drawingTest\")) #discard drawing task questions (only two, not analyzing)\n\n\ndf_subjects <- read_rds('analysis/SGC2/data/2-scored-data/sgc2_participants.rds') %>% dplyr::select(\n  AGE, GENDER, \n  subject,\n  pretty_condition,\n  order, #order of graphs counterbalanced\n  lm_scenarios, #scenario for lm graph\n  tm_scenarios, #scenario for tm graph — counterbalanced with graphs\n  linear_score,\n  triangular_score,\n  score_diff, #triangular - linear \n  time_diff, #triangular time  - linear time\n  LM_T_M, #linear model time\n  TM_T_M, #traingular model time\n  DT_T_M, #drawing task time\n  draw_type,\n  ls_n, #linear scaffold phase score\n  lt_n, #linear test phase score\n  ts_n, #tri scaffold phase score\n  tt_n  #tri test phase score\n) %>%  mutate( subject = as.factor(subject),\n               order = recode_factor(order, \"TM-First\" = \"TM-First\", \"LM-First\"=\"LM-First\"),\n               total = linear_score + triangular_score) \n```\n:::\n\n## SAMPLE\n\n### Data Collection\n\nData was collected in Spring 2017.\n\n::: {.cell}\n\n```{.r .cell-code}\ntitle = \"Participants by Condition and Data Collection Period\"\ncols = c(\"Control\",\"Text:What\", \"Text:How\", \"Img:Static\", \"Img:Ixv\")\ntable(df_subjects$pretty_condition) \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n   control  text:what   text:how img:static    img:ixv \n        61         59         66         62         68 \n```\n:::\n:::\n\n### Participants\n\n::: {.cell}\n\n```{.r .cell-code}\n#Describe participants\nsubject.stats <-df_subjects %>% dplyr::select(AGE) %>% unlist() %>% favstats()\nsubject.stats$percent.male <- ((df_subjects %>% filter(GENDER==\"Male\") %>% count())/count(df_subjects))$n\nsubject.stats$percent.female <- ((df_subjects %>% filter(GENDER==\"Female\") %>% count())/count(df_subjects))$n\nsubject.stats$percent.other <- ((df_subjects %>% filter(GENDER %nin% c(\"Female\",\"Male\")) %>% count())/count(df_subjects))$n\n\n\ntitle = \"Descriptive Statistics of Participant Age and Gender\"\nsubject.stats %>% kbl (caption = title) %>% kable_classic()%>% \n  footnote(general = \"Age in Years\", \n           general_title = \"Note: \",footnote_as_chunk = T) \n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-classic\" style='font-family: \"Arial Narrow\", \"Source Sans Pro\", sans-serif; margin-left: auto; margin-right: auto;border-bottom: 0;'>\n<caption>Descriptive Statistics of Participant Age and Gender</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\">   </th>\n   <th style=\"text-align:right;\"> min </th>\n   <th style=\"text-align:right;\"> Q1 </th>\n   <th style=\"text-align:right;\"> median </th>\n   <th style=\"text-align:right;\"> Q3 </th>\n   <th style=\"text-align:right;\"> max </th>\n   <th style=\"text-align:right;\"> mean </th>\n   <th style=\"text-align:right;\"> sd </th>\n   <th style=\"text-align:right;\"> n </th>\n   <th style=\"text-align:right;\"> missing </th>\n   <th style=\"text-align:right;\"> percent.male </th>\n   <th style=\"text-align:right;\"> percent.female </th>\n   <th style=\"text-align:right;\"> percent.other </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\">  </td>\n   <td style=\"text-align:right;\"> 17 </td>\n   <td style=\"text-align:right;\"> 19 </td>\n   <td style=\"text-align:right;\"> 20 </td>\n   <td style=\"text-align:right;\"> 21 </td>\n   <td style=\"text-align:right;\"> 33 </td>\n   <td style=\"text-align:right;\"> 20.5 </td>\n   <td style=\"text-align:right;\"> 2.2 </td>\n   <td style=\"text-align:right;\"> 316 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0.304 </td>\n   <td style=\"text-align:right;\"> 0.69 </td>\n   <td style=\"text-align:right;\"> 0.006 </td>\n  </tr>\n</tbody>\n<tfoot><tr><td style=\"padding: 0; \" colspan=\"100%\">\n<span style=\"font-style: italic;\">Note: </span> <sup></sup> Age in Years</td></tr></tfoot>\n</table>\n\n`````\n:::\n:::\n\n**Overall** 316 participants (30 % male, 69 % female, 1 % other) undergraduate STEM majors at a public American University participated in exchange for course credit (age: 17 - 33 years).\n\n\n## SHORTCUT\n\n\n\n\n## H1 \\| The Utility of Scaffolding (aka, Linear Graph x Condition)\n\nDoes ACCURACY differ between *scaffold conditions* for the *linear graph*? \n\n**Hypothesis:**\nScaffolding does not improve performance overall, rather, it is only necessary to facilitate discovery of the triangular coordinate system. Thus, performance with the LM graph won't differ by condition. \n\n#### Setup\n\n::: {.cell}\n\n```{.r .cell-code}\n#FILTER THE DATASET\n#only control condition \ndf_s <- df_subjects \n\ndf_i <- df_items %>% filter(graph == \"linear\") \n```\n:::\n\n#### Visualize\n\n::: {.cell}\n\n```{.r .cell-code}\n#:::::::: STACKED PROPORTIONAL BAR CHART\ndf_i %>% \n  ggplot(data = .,\n         mapping = aes(x = pretty_condition,\n                       fill = accuracy)) +\n  geom_bar(position = \"fill\" ) + #,color = \"black\") +\n  scale_fill_brewer(palette = \"Set1\")  +\n  facet_wrap(order~graph) + \n   labs(title = \"Linear Graph Accuracy by Condition and Order\",\n       x = \"Condition\",\n       subtitle=\"Across graph orders, Accuracy is comparable across conditions.\")\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/VIS-H1-1.png){width=672}\n:::\n\n```{.r .cell-code}\n#:::::::: STACKED PROPORTIONAL BAR CHART\ndf_i %>% \n  ggplot(data = .,\n         mapping = aes(x = pretty_condition,\n                       fill = accuracy)) +\n  geom_bar(position = \"fill\" ) + #,color = \"black\") +\n  scale_fill_brewer(palette = \"Set1\")  +\n  facet_wrap(scenario ~ graph) + \n   labs(title = \"Accuracy by Graph and Scenario\",\n       x = \"Condition\",\n       subtitle=\"Across graph scenarios, Accuracy is comparable across conditions.\")\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/VIS-H1-2.png){width=672}\n:::\n\n```{.r .cell-code}\n#:::::::: STACKED BAR CHART BY QUESTION\ndf_i %>% \n  ggplot(data = .,\n         mapping = aes(x = pretty_condition,\n                       fill = score)) +\n  geom_bar(position = \"fill\" ) + #,color = \"black\") +\n  scale_fill_brewer(palette = \"Set1\")  +\n  facet_wrap( graph ~ q) +\n   labs(title = \"Accuracy by Question\",\n       x = \"Condition\",\n       fill = \"\",\n       subtitle=\"Accuracy differs by question, but is comparable across conditions\")\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/VIS-H1-3.png){width=672}\n:::\n\n```{.r .cell-code}\n#:::::::: FACETED HISTOGRAM\ngf_props(~linear_score,\n         fill = ~pretty_condition, data = df_subjects) %>%\n  gf_facet_grid(pretty_condition ~ order) +\n  labs(x = \"# Correct\",\n       y = \"proportion of subjects\",\n       title = \"Linear Graph Score by Condition and Order\",\n       subtitle = \"comprable across factors\") + \n  theme(legend.position = \"blank\")\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/VIS-H1-4.png){width=672}\n:::\n\n```{.r .cell-code}\n#:::::::: FACETED HISTOGRAM\ngf_props(~linear_score,\n         fill = ~pretty_condition, data = df_subjects) %>%\n  gf_facet_grid(pretty_condition~tm_scenarios) +\n  labs(x = \"# Correct\",\n       y = \"proportion of subjects\",\n       title = \"Linear Graph Score by Condition and Scenario\",\n       subtitle = \"comparable across factors\") + \n  theme(legend.position = \"blank\")\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/VIS-H1-5.png){width=672}\n:::\n\n```{.r .cell-code}\n# ##VERTICAL RAINCLOUD USING GGDISTR\nggplot(df_subjects, aes(x = pretty_condition, y = linear_score,\n                        fill = pretty_condition) ) +\n  ggdist::stat_halfeye(\n    side = \"left\",\n    justification = 1.1,\n    width = 1,\n    point_colour = NA\n   ) +\n  geom_boxplot(\n    inherit.aes = TRUE, #supress fill\n    # mapping = aes(x=pretty_condition, y = score),\n    width = .15,\n    outlier.shape = NA\n  ) +\n  geom_point(\n    inherit.aes = TRUE, #supress fill\n    # mapping = aes(x=graph, y = score, color = graph),\n    size = 1.3,\n    alpha = .3,\n    position = position_jitter(\n      seed = 1, width = .05\n  )) + labs(\n    title = \"Distribution of scores on LINEAR graph\",\n    x = \"Condition\", y = \"Score (# correct)\") +\n  theme(legend.position = \"blank\") +\n  coord_cartesian(xlim = c(0.5, NA), clip = \"off\")\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/VIS-H1-6.png){width=672}\n:::\n:::\n\n*Visualizations indicate it is likely that scores in the LM graph scores are stable across conditions (and orders and scenarios)*\n\n#### Describe\n\n::: {.cell}\n\n```{.r .cell-code}\nfavstats (linear_score ~ pretty_condition, data = df_subjects)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  pretty_condition min    Q1 median Q3 max mean   sd  n missing\n1          control   2  9.00     11 13  15 11.0 2.33 61       0\n2        text:what   5  9.00     11 13  15 11.1 2.19 59       0\n3         text:how   6  9.25     11 13  15 10.9 2.13 66       0\n4       img:static   4 10.00     11 13  15 10.9 2.20 62       0\n5          img:ixv   5 10.00     11 13  14 10.9 1.89 68       0\n```\n:::\n:::\n\n#### Test\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#PLOT PAIRED DATA\ng <- ggbetweenstats(\n  data = df_subjects,\n  x    = pretty_condition,\n  y    = linear_score, \n  type  = \"nonparametric\", \n  plot.type = \"boxviolin\",\n  title = \"Study 2 | Linear Graph Accuracy is consistent across conditions\",\n  xlab = \"Scaffold Condition\", ylab = \"Linear Graph Score (# questions correct)\",\n  centrality.point.args = list(fill=\"black\", size = 3)\n) + scale_color_manual(values = paletteer::paletteer_d(\"awtools::a_palette\", 5)) + \n  theme_clean() + theme(legend.position = \"none\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nScale for 'colour' is already present. Adding another scale for 'colour',\nwhich will replace the existing scale.\n```\n:::\n\n```{.r .cell-code}\nggsave(g, filename = \"figures/SGC2_linearscores.png\", width = 6, height = 4)\n#ggsave(g, filename = \"figures/SGC2_linearscores.svg\", width = 6, height = 4)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nkruskal.test(df_s$linear_score, df_s$pretty_condition)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tKruskal-Wallis rank sum test\n\ndata:  df_s$linear_score and df_s$pretty_condition\nKruskal-Wallis chi-squared = 0.4, df = 4, p-value = 1\n```\n:::\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#PLOT PAIRED DATA\ngrouped_ggbetweenstats(\n  data = df_subjects,\n  grouping.var = order,\n  x    = pretty_condition,\n  y    = linear_score, \n  type  = \"parametric\", #parametric, robust, bayes\n  annotation.args = list(title = \"Linear score is consistent across conditions and graph order\"),\n)\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n\n```{.r .cell-code}\n#PLOT PAIRED DATA\ngrouped_ggbetweenstats(\n  data = df_subjects,\n  grouping.var = tm_scenarios,\n  x    = pretty_condition,\n  y    = linear_score, \n  type  = \"parametric\", #parametric, robust, bayes\n  annotation.args = list(title = \"Linear score is consistent across conditions and graph order\"),\n)\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-10-2.png){width=672}\n:::\n:::\n\n\n### Logistic Regression\n\n##### Visualize\n\n::: {.cell}\n\n```{.r .cell-code}\n#:::::::: STACKED PROPORTIONAL BAR CHART\ndf_i %>% \n  ggplot(data = .,\n         mapping = aes(x = pretty_condition,\n                       fill = accuracy)) +\n  geom_bar(position = \"fill\" ) + #,color = \"black\") +\n  scale_fill_brewer(palette = \"Set1\")  +\n   labs(title = \"Linear Graph Accuracy by Condition\",\n       x = \"Condition\",\n       subtitle=\"Probability of correct response consistent across conditions\")\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\n##### Fit Model\n::: {.cell}\n\n```{.r .cell-code}\n#empty model\nm.0 <- glm(accuracy ~ 1, family = \"binomial\", data = df_i)\n\n#condition model\nm.C <- glmer(accuracy ~ pretty_condition + (1|subject) + (1|q), family = \"binomial\", data = df_i)\n# summary(m.C)\n# car::Anova(m.C)\n```\n:::\n\n\n##### Describe\n\n::: {.cell}\n\n```{.r .cell-code}\n# best model\nm <- m.C\n\n#::::::::: PRINT MODEL \n\nprint(\"PREDICTOR MODEL\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"PREDICTOR MODEL\"\n```\n:::\n\n```{.r .cell-code}\nsummary(m)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nGeneralized linear mixed model fit by maximum likelihood (Laplace\n  Approximation) [glmerMod]\n Family: binomial  ( logit )\nFormula: accuracy ~ pretty_condition + (1 | subject) + (1 | q)\n   Data: df_i\n\n     AIC      BIC   logLik deviance df.resid \n    5341     5386    -2664     5327     4733 \n\nScaled residuals: \n   Min     1Q Median     3Q    Max \n-4.139 -1.131  0.526  0.643  1.283 \n\nRandom effects:\n Groups  Name        Variance Std.Dev.\n subject (Intercept) 0.226    0.475   \n q       (Intercept) 0.354    0.595   \nNumber of obs: 4740, groups:  subject, 316; q, 15\n\nFixed effects:\n                           Estimate Std. Error z value Pr(>|z|)    \n(Intercept)                  1.1367     0.1834    6.20  5.7e-10 ***\npretty_conditiontext:what    0.0304     0.1411    0.22     0.83    \npretty_conditiontext:how    -0.0355     0.1367   -0.26     0.79    \npretty_conditionimg:static  -0.0256     0.1389   -0.18     0.85    \npretty_conditionimg:ixv     -0.0378     0.1356   -0.28     0.78    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nCorrelation of Fixed Effects:\n                 (Intr) prtty_cndtntxt:w prtty_cndtntxt:h prtty_cndtnmg:s\nprtty_cndtntxt:w -0.377                                                  \nprtty_cndtntxt:h -0.390  0.506                                           \nprtty_cndtnmg:s  -0.383  0.498            0.514                          \nprtty_cndtnmg:x  -0.393  0.510            0.526            0.518         \n```\n:::\n\n```{.r .cell-code}\nprint(\"SIGNIFICANCE TEST [non directional]\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"SIGNIFICANCE TEST [non directional]\"\n```\n:::\n\n```{.r .cell-code}\ncar::Anova(m, type=2) #TYPE 3 SS FOR IXNS\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nAnalysis of Deviance Table (Type II Wald chisquare tests)\n\nResponse: accuracy\n                 Chisq Df Pr(>Chisq)\npretty_condition  0.35  4       0.99\n```\n:::\n\n```{.r .cell-code}\n#:::::::: INTERPRET COEFFICIENTS\n\npaste(\"LOG ODDS\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"LOG ODDS\"\n```\n:::\n\n```{.r .cell-code}\ntidy(m,   conf.int = TRUE, conf.level = 0.95, conf.method = \"Wald\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 7 × 9\n  effect   group term  estimate std.error statistic   p.value conf.low conf.high\n  <chr>    <chr> <chr>    <dbl>     <dbl>     <dbl>     <dbl>    <dbl>     <dbl>\n1 fixed    <NA>  (Int…   1.14       0.183     6.20   5.67e-10    0.777     1.50 \n2 fixed    <NA>  pret…   0.0304     0.141     0.216  8.29e- 1   -0.246     0.307\n3 fixed    <NA>  pret…  -0.0355     0.137    -0.260  7.95e- 1   -0.303     0.232\n4 fixed    <NA>  pret…  -0.0256     0.139    -0.184  8.54e- 1   -0.298     0.247\n5 fixed    <NA>  pret…  -0.0378     0.136    -0.279  7.80e- 1   -0.304     0.228\n6 ran_pars subj… sd__…   0.475     NA        NA     NA          NA        NA    \n7 ran_pars q     sd__…   0.595     NA        NA     NA          NA        NA    \n```\n:::\n\n```{.r .cell-code}\npaste(\"ODDS RATIOS\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"ODDS RATIOS\"\n```\n:::\n\n```{.r .cell-code}\ntidy(m,   conf.int = TRUE, conf.level = 0.95, conf.method = \"Wald\", exponentiate = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 7 × 9\n  effect   group term  estimate std.error statistic   p.value conf.low conf.high\n  <chr>    <chr> <chr>    <dbl>     <dbl>     <dbl>     <dbl>    <dbl>     <dbl>\n1 fixed    <NA>  (Int…    3.12      0.571     6.20   5.67e-10    2.18       4.46\n2 fixed    <NA>  pret…    1.03      0.145     0.216  8.29e- 1    0.782      1.36\n3 fixed    <NA>  pret…    0.965     0.132    -0.260  7.95e- 1    0.738      1.26\n4 fixed    <NA>  pret…    0.975     0.135    -0.184  8.54e- 1    0.742      1.28\n5 fixed    <NA>  pret…    0.963     0.131    -0.279  7.80e- 1    0.738      1.26\n6 ran_pars subj… sd__…    0.475    NA        NA     NA          NA         NA   \n7 ran_pars q     sd__…    0.595    NA        NA     NA          NA         NA   \n```\n:::\n\n```{.r .cell-code}\npaste(\"PROBABILITIES\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"PROBABILITIES\"\n```\n:::\n\n```{.r .cell-code}\n#probability control = plogis(intercept)\n#probability impasse = plogis(intercept + coefficient)\n\n#FROM predict()\nnewdata <- df_i %>% dplyr::select(pretty_condition, subject, q)\npreds <- predict(m, newdata = newdata, type = \"response\")\npreds <- cbind(newdata, preds)\n(p <- preds %>% \n  dplyr::select(pretty_condition, preds) %>%\n  group_by(pretty_condition) %>%\n  summarise(\n    median = median(preds),\n    se = sd(preds)/sqrt(n()),\n    lwr = median - 1.96*se,\n    upr = median + 1.96*se))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 5 × 5\n  pretty_condition median      se   lwr   upr\n  <fct>             <dbl>   <dbl> <dbl> <dbl>\n1 control           0.727 0.00343 0.720 0.733\n2 text:what         0.735 0.00336 0.728 0.742\n3 text:how          0.719 0.00324 0.713 0.726\n4 img:static        0.721 0.00337 0.714 0.727\n5 img:ixv           0.719 0.00309 0.713 0.725\n```\n:::\n:::\n\n##### INFERENCE\n\nA Mixed Logistic Regression model including CONDITION as a fixed effect and SUBJECT and QUESTION as random effects indicates that the odds of a correct response in the linear graph task does not differ by scaffold condition, $\\chi(4) = 0.35, p > 0.1$.\n\n\n##### Visualize\n\n::: {.cell}\n\n```{.r .cell-code}\n## | PLOT PARAMETERS \n\n#SJPLOT | MODEL | ODDS RATIO\nplot_model(m, vline.color = \"red\", \n           show.intercept = FALSE, \n           show.values = TRUE,\n           p.threshold = 0.1, #manually adjust to account for directional test\n           ci.lvl = 0.90 ) + #manually adjusted for directional test   \n  labs(title = \"Model Estimate | Odds Ratio\",\n       subtitle = \"\",\n       x = \"Condition\")\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-14-1.png){width=672}\n:::\n\n```{.r .cell-code}\n#EASYSTATS | MODEL | ODDS RATIO\n# result <- model_parameters(m, exponentiate = TRUE, component = \"all\")\n# plot(result)\n\n\n## | PLOT TESTS\n\nresult <- equivalence_test(m, rule = \"classic\", ci=0.9) #classic[tost], , bayes\nplot(result)\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-14-2.png){width=672}\n:::\n\n```{.r .cell-code}\n#ONLY FOR BAYESIAN VERSION\n# result <- rope(m)\n# plot(result)\n# \n# result <- pd(m)\n# plot(result)\n\n\n## | PLOT PREDICTIONS\n\n#SJPLOT | MODEL | PROBABILITIES\n# plot_model(m, type=\"int\",\n#            show.intercept = TRUE,\n#            show.values = TRUE,\n#            title = \"Model Prediction | Probability of Accurate Response\",\n#            axis.title = c(\"Condition\",\"Probability of Accurate Response\"))\n\n#PLOT MODEL PREDICTION\nplot_model(m, type = \"pred\")  \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n$pretty_condition\n```\n:::\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-14-3.png){width=672}\n:::\n\n```{.r .cell-code}\n# plot_model(m, type = \"eff\")  \n  # ylim(0,1) + \n  # labs(\n  #   title = \"Model Prediction | Probability of Accurate Response\",\n  #   subtitle = \"Impasse increases Probability of Correct Response\"\n  # )\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#SJPLOT | MODEL | TABLE\ntab_model(m)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table style=\"border-collapse:collapse; border:none;\">\n<tr>\n<th style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm;  text-align:left; \">&nbsp;</th>\n<th colspan=\"3\" style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; \">accuracy</th>\n</tr>\n<tr>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  text-align:left; \">Predictors</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">Odds Ratios</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">CI</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">p</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(Intercept)</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">3.12</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">2.18&nbsp;&ndash;&nbsp;4.46</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>&lt;0.001</strong></td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">pretty conditiontext *<br>what</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">1.03</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.78&nbsp;&ndash;&nbsp;1.36</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.829</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">pretty conditiontext *<br>how</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.97</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.74&nbsp;&ndash;&nbsp;1.26</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.795</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">pretty conditionimg *<br>static</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.97</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.74&nbsp;&ndash;&nbsp;1.28</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.854</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">pretty conditionimg * ixv</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.96</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.74&nbsp;&ndash;&nbsp;1.26</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.780</td>\n</tr>\n<tr>\n<td colspan=\"4\" style=\"font-weight:bold; text-align:left; padding-top:.8em;\">Random Effects</td>\n</tr>\n\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">&sigma;<sup>2</sup></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">3.29</td>\n</tr>\n\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">&tau;<sub>00</sub> <sub>subject</sub></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">0.23</td>\n\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">&tau;<sub>00</sub> <sub>q</sub></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">0.35</td>\n\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">ICC</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">0.15</td>\n\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">N <sub>subject</sub></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">316</td>\n\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">N <sub>q</sub></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">15</td>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm; border-top:1px solid;\">Observations</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;\" colspan=\"3\">4740</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">Marginal R<sup>2</sup> / Conditional R<sup>2</sup></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">0.000 / 0.150</td>\n</tr>\n\n</table>\n\n`````\n:::\n\n```{.r .cell-code}\n# #MODEL SUMMARY | save latex table\n# models <- list(\"odds ratios\" = m, \"(log odds)\" = m)\n# notes = list('\"* p < 0.05, ** p < 0.01, *** p < 0.001\"',\n#                'N(subject) = 133 $\\tau_{00}$(subject) = 34.85',\n#              'N(question) = 13 $\\tau_{00}$(question) = 1.14')\n# \n# modelsummary(models,\n#              exponentiate = c(TRUE, FALSE),\n#              shape = term ~ model + statistic,\n#              fmt = 2, #two digits w/ trailing zero\n#              estimate  = \"{estimate} {stars}\",\n#              statistic = \"conf.int\",\n#              gof_map = c(\"AIC\", \"sigma\"),\n#              gof_omit = 'RMSE|ICC|BIC',\n#              coef_rename = c(\"pretty_conditionimpasse\" = \"Condition[impasse]\"),\n#              title = 'Accuracy ~ Condition (Mixed Logistic Regression)',\n#              notes = notes,\n#              output = \"analysis/SGC3A/models/tables/GLMER_OverallAccuracy_online.tex\")\n# # #              # coef_omit = \"Intercept\",\n```\n:::\n\n##### Diagnostics\n\n::: {.cell}\n\n```{.r .cell-code}\n# print(\"SANITY CHECK REPORTING\")\n# report(m)\n\n# print(\"MODEL PERFORMANCE\")\n# performance(m)\n\nprint(\"DIAGNOSTICS\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"DIAGNOSTICS\"\n```\n:::\n\n```{.r .cell-code}\ncheck_model(m)\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-16-1.png){width=672}\n:::\n:::\n\n\n## H1 \\| The Need for Scaffolding (aka, Linear VS Triangular in CONTROL)\n\nDoes ACCURACY differ between *linear* and *triangular* graphs in the control condition?\n\n**Hypothesis** The TM graph is not *discoverable* and requires scaffolding for correct interpretation. We predict that learners without scaffolding (the control condition) will perform better with the LM than TM\n\n#### Setup\n\n::: {.cell}\n\n```{.r .cell-code}\n#FILTER THE DATASET\n#only control condition \ndf_s <- df_subjects %>% filter(pretty_condition == \"control\")\n\ndf_long <- df_s %>% dplyr::select(subject,pretty_condition,order,lm_scenarios,tm_scenarios,linear_score, triangular_score) %>% pivot_longer(\n  cols = ends_with(\"score\"),\n  names_to = \"graph\",\n  values_to = \"score\"\n)\n\ndf_i <- df_items %>% filter(pretty_condition == \"control\") %>% filter(q %nin% c(3))\n```\n:::\n\n#### Visualize\n\n::: {.cell}\n\n```{.r .cell-code}\n#:::::::: STACKED PROPORTIONAL BAR CHART\ndf_i %>% \n  ggplot(data = .,\n         mapping = aes(x = pretty_condition,\n                       fill = accuracy)) +\n  geom_bar(position = \"fill\" ) + #,color = \"black\") +\n  scale_fill_brewer(palette = \"Set1\")  +\n  facet_wrap(order~graph) + \n   labs(title = \"Accuracy by Graph and Order\",\n       x = \"Condition\",\n       subtitle=\"Across graph orders, Accuracy is higher on the LINEAR than TRIANGULAR graph.\")\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-18-1.png){width=672}\n:::\n\n```{.r .cell-code}\n#:::::::: STACKED PROPORTIONAL BAR CHART\ndf_i %>% \n  ggplot(data = .,\n         mapping = aes(x = pretty_condition,\n                       fill = accuracy)) +\n  geom_bar(position = \"fill\" ) + #,color = \"black\") +\n  scale_fill_brewer(palette = \"Set1\")  +\n  facet_wrap(scenario ~ graph) + \n   labs(title = \"Accuracy by Graph and Scenario\",\n       x = \"Condition\",\n       subtitle=\"Accuracy is higher on the LINEAR than TRIANGULAR graph; much lower for TM = AXIS scenario.\")\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-18-2.png){width=672}\n:::\n\n```{.r .cell-code}\n#:::::::: STACKED BAR CHART BY QUESTION\ndf_i %>% \n  ggplot(data = .,\n         mapping = aes(x = pretty_condition,\n                       fill = score)) +\n  geom_bar(position = \"fill\" ) + #,color = \"black\") +\n  scale_fill_brewer(palette = \"Set1\")  +\n  facet_wrap( graph ~ q) +\n   labs(title = \"Accuracy by Question\",\n       x = \"Condition\",\n       fill = \"\",\n       subtitle=\"\")\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-18-3.png){width=672}\n:::\n\n```{.r .cell-code}\n#:::::::: FACETED HISTOGRAM\ngf_props(~score,\n         fill = ~graph, data = df_long) %>%\n  gf_facet_grid(order ~ graph) +\n  labs(x = \"# Correct\",\n       y = \"proportion of subjects\",\n       title = \"Overall Absolute Score by Graph and Order\",\n       subtitle = \"\") + \n  theme(legend.position = \"blank\")\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-18-4.png){width=672}\n:::\n\n```{.r .cell-code}\n#:::::::: FACETED HISTOGRAM\ngf_props(~score,\n         fill = ~graph, data = df_long) %>%\n  gf_facet_grid(tm_scenarios ~ graph) +\n  labs(x = \"# Correct\",\n       y = \"proportion of subjects\",\n       title = \"Overall Absolute Score by Graph and TM Scenario\",\n       subtitle = \"TM Scores are different by Scenario\") + \n  theme(legend.position = \"blank\")\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-18-5.png){width=672}\n:::\n\n```{.r .cell-code}\n# ##VERTICAL RAINCLOUD USING GGDISTR\n# ggplot(df_long, aes(x = graph, y = score,\n#                         fill = graph) ) + \n#   ggdist::stat_halfeye(\n#     side = \"left\",\n#     justification = 1.1,\n#     width = 1, \n#     point_colour = NA\n#    ) + \n#   geom_boxplot(\n#     inherit.aes = FALSE, #supress fill\n#     mapping = aes(x=graph, y = score),\n#     width = .15, \n#     outlier.shape = NA\n#   ) + \n#   geom_point(\n#     inherit.aes = FALSE, #supress fill\n#     mapping = aes(x=graph, y = score, color = graph),\n#     size = 1.3,\n#     alpha = .3,\n#     position = position_jitter( \n#       seed = 1, width = .05\n#   )) + labs( \n#     title = \"Distribution of scores in CONTROL condition\", \n#     x = \"Condition\", y = \"Score (# correct)\") +\n#   theme(legend.position = \"blank\") + \n#   coord_cartesian(xlim = c(0.5, NA), clip = \"off\")\n\n\n#DISTRIBUTION OF SCORE\ngf_dhistogram(~score_diff, data = df_s) %>% \n  gf_facet_grid(tm_scenarios ~ order) +\n  xlim(-13,5) + \n  labs(title = \"Distribution of paired score differences in CONTROL condition\") + \n  easy_remove_legend() \n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 8 rows containing missing values (geom_bar).\n```\n:::\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-18-6.png){width=672}\n:::\n:::\n\n*Visualizations indicate it is likely that scores in the LM are infact higher than the TM in the control condition.*\n\n#### Describe\n\n::: {.cell}\n\n```{.r .cell-code}\ntitle = \"Descriptive Statistics of Response Accuracy by Block (CONTROL Condition)\"\nabs.stats <- rbind(\n  \"linear.block\"= df_s %>% dplyr::select(linear_score) %>% unlist() %>% favstats(),\n  \"triangular.block\" = df_s %>% dplyr::select(triangular_score) %>% unlist() %>% favstats(),\n  \"block.differences\" = df_s %>% dplyr::select(score_diff) %>% unlist() %>% favstats()\n)\n\nabs.stats %>% kbl (caption = title) %>% kable_classic() %>%\n  footnote(general = \"block # questions correct [0,15]; DIFF = triangular - linear\",\n           general_title = \"Note: \",footnote_as_chunk = T)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-classic\" style='font-family: \"Arial Narrow\", \"Source Sans Pro\", sans-serif; margin-left: auto; margin-right: auto;border-bottom: 0;'>\n<caption>Descriptive Statistics of Response Accuracy by Block (CONTROL Condition)</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\">   </th>\n   <th style=\"text-align:right;\"> min </th>\n   <th style=\"text-align:right;\"> Q1 </th>\n   <th style=\"text-align:right;\"> median </th>\n   <th style=\"text-align:right;\"> Q3 </th>\n   <th style=\"text-align:right;\"> max </th>\n   <th style=\"text-align:right;\"> mean </th>\n   <th style=\"text-align:right;\"> sd </th>\n   <th style=\"text-align:right;\"> n </th>\n   <th style=\"text-align:right;\"> missing </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> linear.block </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 11 </td>\n   <td style=\"text-align:right;\"> 13 </td>\n   <td style=\"text-align:right;\"> 15 </td>\n   <td style=\"text-align:right;\"> 10.98 </td>\n   <td style=\"text-align:right;\"> 2.33 </td>\n   <td style=\"text-align:right;\"> 61 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> triangular.block </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 11 </td>\n   <td style=\"text-align:right;\"> 14 </td>\n   <td style=\"text-align:right;\"> 6.90 </td>\n   <td style=\"text-align:right;\"> 4.51 </td>\n   <td style=\"text-align:right;\"> 61 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> block.differences </td>\n   <td style=\"text-align:right;\"> -13 </td>\n   <td style=\"text-align:right;\"> -8 </td>\n   <td style=\"text-align:right;\"> -4 </td>\n   <td style=\"text-align:right;\"> -1 </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> -4.08 </td>\n   <td style=\"text-align:right;\"> 4.51 </td>\n   <td style=\"text-align:right;\"> 61 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n  </tr>\n</tbody>\n<tfoot><tr><td style=\"padding: 0; \" colspan=\"100%\">\n<span style=\"font-style: italic;\">Note: </span> <sup></sup> block # questions correct [0,15]; DIFF = triangular - linear</td></tr></tfoot>\n</table>\n\n`````\n:::\n:::\n\nFor participants in the CONTROL condition, total absolute scores for the LINEAR graph (n = 61) range from 2 to 15 with a mean score of (M = 10.98, SD = 2.33).\n\nFor participants in the CONTROL condition, total absolute scores for the TRIANGULAR graph (n = 61) range from 0 to 14 with a mean score of (M = 6.9, SD = 4.51).\n\nVisual inspection of the distribution of scores for each block reveal that scores in on the triangular task were more variant than those in the linear graph. On average, scores on the triangular block were lower than those on the linear block.\n\n#### Test\n\n::: {.cell}\n\n```{.r .cell-code}\n#PLOT PAIRED DATA\ng <- ggwithinstats(\n  data = df_long,\n  x    = graph,\n  y    = score, \n  type  = \"nonparametric\", \n  plot.type = \"box\",\n  title = \"Study 2 | Without scaffolding, higher accuracy with Linear Model\",\n  xlab = \"Graph\", ylab = \"Graph Reading Score (# questions correct)\",\n  centrality.point.args = list(fill=\"black\", size = 3)\n) + scale_color_manual(values = paletteer::paletteer_d(\"awtools::a_palette\", 2)) + \n  theme_clean() + theme(legend.position = \"none\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nScale for 'colour' is already present. Adding another scale for 'colour',\nwhich will replace the existing scale.\n```\n:::\n\n```{.r .cell-code}\nggsave(g, filename = \"figures/SGC2_graphdifference.png\", width = 6, height = 4)\n# ggsave(g, filename = \"figures/SGC2_graphdifference.svg\", width = 6, height = 4)\n```\n:::\n\n-   WILCOXON RANK SUM (Mann-Whitney Test) **Non parametric alternative** to t-test; compares median rather than mean by ranking data\n-   Does not assume normality\n-   Does not assume equal variance of samples (homogeneity of variance)\n\n::: {.cell}\n\n```{.r .cell-code}\n#WILCOXON RANK SUM PAIRED T-TEST\nw <- wilcox.test(df_s$linear_score, df_s$triangular_score, \n            paired = TRUE)\n            # alternative = \"greater\", conf.int = TRUE)\nw\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tWilcoxon signed rank test with continuity correction\n\ndata:  df_s$linear_score and df_s$triangular_score\nV = 1490, p-value = 1e-07\nalternative hypothesis: true location shift is not equal to 0\n```\n:::\n\n```{.r .cell-code}\nreport(w)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nEffect sizes were labelled following Funder's (2019) recommendations.\n\nThe Wilcoxon signed rank test with continuity correction testing the difference in ranks between df_s$linear_score and df_s$triangular_score suggests that the effect is positive, statistically significant, and very large (W = 1490.00, p < .001; r (rank biserial) = 0.80, 95% CI [0.67, 0.88])\n```\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#PLOT PAIRED DATA\ngrouped_ggwithinstats(\n  grouping.var = order,\n  data = df_long,\n  x    = graph,\n  y    = score, \n  annotation.args = list(title = \"Linear is better than Triangular regardless of Order\"),\n  type  = \"nonparametric\" #parametric, robust, bayes\n) \n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-22-1.png){width=672}\n:::\n\n```{.r .cell-code}\n#PLOT PAIRED DATA\ngrouped_ggwithinstats(\n  grouping.var = tm_scenarios,\n  data = df_long,\n  x    = graph,\n  y    = score, \n  type  = \"nonparametric\", #parametric, robust, bayes\n  annotation.args = list(title = \"Linear is better than Triangular regardless of [triangle model] Scenario\"),\n)\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-22-2.png){width=672}\n:::\n:::\n\nThe Wilcoxon signed rank test confirms that (for subjects in the control condition) scores on the **triangle graph** were significantly lower than those in the **linear graph** block. This provides evidence in support of our hypothesis that the Triangular model graph (though computationally efficient) is in fact unconventional and lacking in discoverablility. It needs to be augmented with scaffolding in order to be correctly interpreted by novice readers.\n\n#### MIXED EFFECTS LOGISTIC REGRESSION\n\n*Fit mixed effects logistic regression model to test effect of GRAPH, ORDER, and SCENARIO on probability of correct response \\[just in the control condition\\]*\n\n##### Fit Model\n\n::: {.cell}\n\n```{.r .cell-code}\n## 0 | SETUP\n#confirm 13 items [all discriminating items]\nnrow(df_i) / nrow(df_s) == 28 #removed nondiscrim Q3\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] TRUE\n```\n:::\n\n```{.r .cell-code}\n#confirm all factors \nis.factor(df_i$q) && is.factor(df_i$subject) && is.factor(df_i$graph) && is.factor(df_i$score) && is.factor(df_i$order) && is.factor(df_i$scenario)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] TRUE\n```\n:::\n\n```{.r .cell-code}\n#RECODE TRIANGULAR AS REFERENCE LEVEL \ndf_i <- df_i %>% mutate(\n  graph = recode_factor(graph, \"triangular\"=\"triangular\",\"linear\"=\"linear\")\n) \n\n## 1 | SETUP RANDOM INTERCEPT SUBJECT\n\n#:: EMPTY MODEL (baseline, no random effect)\nprint(\"Empty fixed model\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Empty fixed model\"\n```\n:::\n\n```{.r .cell-code}\nm0 = glm(accuracy ~ 1, family = \"binomial\", data = df_i) \n# summary(m0)\n\n#:: RANDOM INTERCEPT SUBJECT\nprint(\"Subject intercept random model\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Subject intercept random model\"\n```\n:::\n\n```{.r .cell-code}\nmm.rS <- glmer(accuracy ~ (1|subject), data = df_i, family = \"binomial\")\n# summary(mm.rS)\n\n# :: TEST random effect\npaste(\"AIC decreases w/ new model?\", m0$aic > AIC(logLik(mm.rS)))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"AIC decreases w/ new model? TRUE\"\n```\n:::\n\n```{.r .cell-code}\ntest_lrt(m0,mm.rS) #same as anova(m0, m1, test = \"Chi\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# Likelihood-Ratio-Test (LRT) for Model Comparison (ML-estimator)\n\nName  |    Model | df | df_diff |   Chi2 |      p\n-------------------------------------------------\nm0    |      glm |  1 |         |        |       \nmm.rS | glmerMod |  2 |       1 | 118.61 | < .001\n```\n:::\n\n```{.r .cell-code}\n#:: RANDOM INTERCEPT SUBJECT + ITEM\nprint(\"Subject Intercept + Item intercept random model\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Subject Intercept + Item intercept random model\"\n```\n:::\n\n```{.r .cell-code}\nmm.rSQ <- glmer(accuracy ~ (1|subject) + (1|q), data = df_i, family = \"binomial\")\n#summary(mm.rSQ)\n\n# :: TEST random effect\npaste(\"AIC decreases w/ new model?\", AIC(logLik(mm.rS)) > AIC(logLik(mm.rSQ)))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"AIC decreases w/ new model? TRUE\"\n```\n:::\n\n```{.r .cell-code}\ntest_lrt(mm.rS, mm.rSQ) #same as anova(m0, m1, test = \"Chi\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nSome of the nested models seem to be identical and probably only vary in\n  their random effects.\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n# Likelihood-Ratio-Test (LRT) for Model Comparison (ML-estimator)\n\nName   |    Model | df | df_diff | Chi2 |     p\n-----------------------------------------------\nmm.rS  | glmerMod |  2 |         |      |      \nmm.rSQ | glmerMod |  3 |       1 | 2.69 | 0.101\n```\n:::\n\n```{.r .cell-code}\n## 2 | ADD FIXED EFFECT GRAPH\n\nprint(\"FIXED Condition + Subject & Item random intercepts\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"FIXED Condition + Subject & Item random intercepts\"\n```\n:::\n\n```{.r .cell-code}\nmm.GrSQ <- glmer(accuracy ~ graph + (1|subject) + (1|q) ,\n                data = df_i, family = \"binomial\")\n# car::Anova(mm.GrSQ) #main effect graph\n\npaste(\"AIC decreases w/ new model\", AIC(logLik(mm.rSQ)) > AIC(logLik(mm.GrSQ)) )\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"AIC decreases w/ new model TRUE\"\n```\n:::\n\n```{.r .cell-code}\ntest_lrt(mm.rSQ,mm.GrSQ) #same as anova(m0, m1, test = \"Chi\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# Likelihood-Ratio-Test (LRT) for Model Comparison (ML-estimator)\n\nName    |    Model | df | df_diff |   Chi2 |      p\n---------------------------------------------------\nmm.rSQ  | glmerMod |  3 |         |        |       \nmm.GrSQ | glmerMod |  4 |       1 | 178.38 | < .001\n```\n:::\n\n```{.r .cell-code}\n# NOT RELEVANT TO HYPOTHESIS \n# \n# ## 2 | ADD IXN GRAPH & ORDER EFFECT GRAPH ++ ORDER\n# \n# print(\"FIXED Graph + ORDER + Subject & Item random intercepts\")\n# mm.GOrSQ <- glmer(accuracy ~ graph * order + (1|subject) + (1|q) ,\n#                 data = df_i, family = \"binomial\")\n# # summary(mm.GOrSQ)\n# # car::Anova(mm.GOrSQ)\n# \n# paste(\"AIC decreases w/ new model\", AIC(logLik(mm.GrSQ)) > AIC(logLik(mm.GOrSQ)) )\n# test_lrt(mm.GrSQ,mm.GOrSQ) #same as anova(m0, m1, test = \"Chi\")\n# \n# \n# ## 2 | ADD FIXED EFFECT GRAPH + ORDER+ SCENARIO\n# \n# print(\"FIXED Graph * SCENARIO * ORDER + Subject & Item random intercepts\")\n# mm.GSOrSQ <- glmer(accuracy ~ graph*scenario*order + (1|subject) + (1|q) ,\n#                 data = df_i, family = \"binomial\",\n#                 control=glmerControl(optimizer=\"bobyqa\",\n#                                  optCtrl=list(maxfun=2e5)))\n# # summary(mm.GSOrSQ)\n# #car::Anova(mm.GSOrSQ)\n# \n# paste(\"AIC decreases w/ new model\", AIC(logLik(mm.GOrSQ)) > AIC(logLik(mm.GSOrSQ)) )\n# test_lrt(mm.GOrSQ,mm.GSOrSQ) #same as anova(m0, m1, test = \"Chi\")\n```\n:::\n\n\n##### Describe\n\n::: {.cell}\n\n```{.r .cell-code}\n# best model\nm <- mm.GrSQ\n\n#::::::::: PRINT MODEL \n\nprint(\"PREDICTOR MODEL\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"PREDICTOR MODEL\"\n```\n:::\n\n```{.r .cell-code}\nsummary(m)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nGeneralized linear mixed model fit by maximum likelihood (Laplace\n  Approximation) [glmerMod]\n Family: binomial  ( logit )\nFormula: accuracy ~ graph + (1 | subject) + (1 | q)\n   Data: df_i\n\n     AIC      BIC   logLik deviance df.resid \n    2033     2055    -1013     2025     1704 \n\nScaled residuals: \n   Min     1Q Median     3Q    Max \n-3.523 -0.718  0.365  0.736  2.611 \n\nRandom effects:\n Groups  Name        Variance Std.Dev.\n subject (Intercept) 0.7934   0.891   \n q       (Intercept) 0.0439   0.209   \nNumber of obs: 1708, groups:  subject, 61; q, 14\n\nFixed effects:\n            Estimate Std. Error z value Pr(>|z|)    \n(Intercept)   -0.318      0.148   -2.15    0.031 *  \ngraphlinear    1.468      0.115   12.76   <2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nCorrelation of Fixed Effects:\n            (Intr)\ngraphlinear -0.343\n```\n:::\n\n```{.r .cell-code}\nprint(\"SIGNIFICANCE TEST [non directional]\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"SIGNIFICANCE TEST [non directional]\"\n```\n:::\n\n```{.r .cell-code}\ncar::Anova(m, type=2) #TYPE 3 SS FOR IXNS\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nAnalysis of Deviance Table (Type II Wald chisquare tests)\n\nResponse: accuracy\n      Chisq Df Pr(>Chisq)    \ngraph   163  1     <2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n```\n:::\n\n```{.r .cell-code}\n#:::::::: INTERPRET COEFFICIENTS\n\npaste(\"LOG ODDS\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"LOG ODDS\"\n```\n:::\n\n```{.r .cell-code}\ntidy(m,   conf.int = TRUE, conf.level = 0.95, conf.method = \"Wald\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 4 × 9\n  effect   group term  estimate std.error statistic   p.value conf.low conf.high\n  <chr>    <chr> <chr>    <dbl>     <dbl>     <dbl>     <dbl>    <dbl>     <dbl>\n1 fixed    <NA>  (Int…   -0.318     0.148     -2.15  3.14e- 2   -0.608   -0.0284\n2 fixed    <NA>  grap…    1.47      0.115     12.8   2.90e-37    1.24     1.69  \n3 ran_pars subj… sd__…    0.891    NA         NA    NA          NA       NA     \n4 ran_pars q     sd__…    0.209    NA         NA    NA          NA       NA     \n```\n:::\n\n```{.r .cell-code}\npaste(\"ODDS RATIOS\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"ODDS RATIOS\"\n```\n:::\n\n```{.r .cell-code}\ntidy(m,   conf.int = TRUE, conf.level = 0.95, conf.method = \"Wald\", exponentiate = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 4 × 9\n  effect   group term  estimate std.error statistic   p.value conf.low conf.high\n  <chr>    <chr> <chr>    <dbl>     <dbl>     <dbl>     <dbl>    <dbl>     <dbl>\n1 fixed    <NA>  (Int…    0.727     0.108     -2.15  3.14e- 2    0.544     0.972\n2 fixed    <NA>  grap…    4.34      0.500     12.8   2.90e-37    3.47      5.44 \n3 ran_pars subj… sd__…    0.891    NA         NA    NA          NA        NA    \n4 ran_pars q     sd__…    0.209    NA         NA    NA          NA        NA    \n```\n:::\n\n```{.r .cell-code}\npaste(\"PROBABILITIES\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"PROBABILITIES\"\n```\n:::\n\n```{.r .cell-code}\n#probability control = plogis(intercept)\n#probability impasse = plogis(intercept + coefficient)\n\n#FROM predict()\nnewdata <- df_i %>% dplyr::select(graph, subject, q)\npreds <- predict(m, newdata = newdata, type = \"response\")\npreds <- cbind(newdata, preds)\n(p <- preds %>%\n  dplyr::select(graph, preds) %>%\n  group_by(graph) %>%\n  summarise(\n    median = median(preds),\n    se = sd(preds)/sqrt(n()),\n    lwr = median - 1.96*se,\n    upr = median + 1.96*se))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 2 × 5\n  graph      median      se   lwr   upr\n  <fct>       <dbl>   <dbl> <dbl> <dbl>\n1 triangular  0.398 0.00612 0.386 0.410\n2 linear      0.741 0.00483 0.732 0.751\n```\n:::\n\n```{.r .cell-code}\n# #FROM merTools\n# #setup df \n# newdata <- df_i %>% dplyr::select(graph, order, scenario, subject, q)\n# #make predictions\n# preds <- predictInterval(m, newdata = newdata,\n#                               which = \"fixed\", #full, fixed or random for those only\n#                               type = \"probability\", #linear.prediction\n#                               stat = \"median\",\n#                               n.sims = 1000,\n#                               level = 0.80) #width of prediction interval\n# #join predictions to the new dataframe\n# preds <- cbind(newdata, preds)\n# #summarize\n# (summ_preds <- preds %>% \n#   dplyr::select(graph, scenario, order, fit, lwr, upr) %>% \n#   group_by(graph, scenario, order) %>% \n#   dplyr::summarise(\n#     median = median(fit),\n#     lower = median(lwr),\n#     upper = median(upr)\n#   )) \n```\n:::\n\n##### Inference TODO UPDATE\n\nWe fit a mixed logistic regression model predicting question-level accuracy by graph for only participants in the control condition (n = 61). The model included random intercepts for subject and question, and a fixed effect of GRAPH. The model implies that (with no scaffolding; in the control condition) the odds of a correct response on a linear-graph question are more than 4 times higher than the triangle graph, ($e^\\beta_1 = 4.34, 95 \\% CI [3.47, 5.44], p < 0.001$) \n\n::: {.cell}\n\n```{.r .cell-code}\n#SJPLOT | MODEL | TABLE\ntab_model(m)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table style=\"border-collapse:collapse; border:none;\">\n<tr>\n<th style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm;  text-align:left; \">&nbsp;</th>\n<th colspan=\"3\" style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; \">accuracy</th>\n</tr>\n<tr>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  text-align:left; \">Predictors</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">Odds Ratios</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">CI</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">p</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(Intercept)</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.73</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.54&nbsp;&ndash;&nbsp;0.97</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>0.031</strong></td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">graph [linear]</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">4.34</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">3.47&nbsp;&ndash;&nbsp;5.44</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>&lt;0.001</strong></td>\n</tr>\n<tr>\n<td colspan=\"4\" style=\"font-weight:bold; text-align:left; padding-top:.8em;\">Random Effects</td>\n</tr>\n\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">&sigma;<sup>2</sup></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">3.29</td>\n</tr>\n\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">&tau;<sub>00</sub> <sub>subject</sub></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">0.79</td>\n\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">&tau;<sub>00</sub> <sub>q</sub></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">0.04</td>\n\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">ICC</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">0.20</td>\n\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">N <sub>subject</sub></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">61</td>\n\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">N <sub>q</sub></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">14</td>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm; border-top:1px solid;\">Observations</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;\" colspan=\"3\">1708</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">Marginal R<sup>2</sup> / Conditional R<sup>2</sup></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">0.116 / 0.295</td>\n</tr>\n\n</table>\n\n`````\n:::\n\n```{.r .cell-code}\n# #MODEL SUMMARY | save latex table\n# models <- list(\"odds ratios\" = m1, \"(log odds)\" = m1)\n# notes = list(\"* p < 0.05, ** p < 0.01, *** p < 0.001\",\n#              '$sigma^{2}$ = 3.29\" N(subject) = 126 $\\tau_{00}$(subject) = 22.22 N(question) = 13 $\\tau_{00}$(question) = 0.31'\n#                )\n# \n# modelsummary(models,\n#              exponentiate = c(TRUE, FALSE),\n#              shape = term ~ model + statistic,\n#              fmt = 2, #two digits w/ trailing zero\n#              estimate  = \"{estimate} {stars}\",\n#              statistic = \"conf.int\",\n#              gof_map = c(\"AIC\", \"sigma\"),\n#              gof_omit = 'RMSE|ICC|BIC',\n#              coef_rename = c(\"pretty_conditionimpasse\" = \"Condition[impasse]\"),\n#              title = 'Accuracy ~ Condition (Mixed Logistic Regression)', \n#              notes = notes,\n#              output = \"analysis/SGC3A/models/tables/GLMER_OverallAccuracy_lab.tex\")\n# #              # coef_omit = \"Intercept\",\n# \n# \n# \n```\n:::\n\n##### Visualize\n\n::: {.cell}\n\n```{.r .cell-code}\n## | PLOT PARAMETERS \n\n#SJPLOT | MODEL | ODDS RATIO\nplot_model(m, vline.color = \"red\", \n           show.intercept = TRUE, \n           show.values = TRUE,\n           p.threshold = 0.1, #manually adjust to account for directional test\n           ci.lvl = 0.90 ) + #manually adjusted for directional test   \n  labs(title = \"Model Estimate | Odds Ratio\",\n       subtitle = \"\",\n       x = \"Condition\")\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/MODEL-VIS-CACC-1.png){width=672}\n:::\n\n```{.r .cell-code}\n#EASYSTATS | MODEL | ODDS RATIO\n# result <- model_parameters(m, exponentiate = TRUE, component = \"all\")\n# plot(result)\n\n\n## | PLOT TESTS\n\nresult <- equivalence_test(m, rule = \"classic\", ci=0.9) #classic[tost], , bayes\nplot(result)\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/MODEL-VIS-CACC-2.png){width=672}\n:::\n\n```{.r .cell-code}\n#ONLY FOR BAYESIAN VERSION\n# result <- rope(m)\n# plot(result)\n# \n# result <- pd(m)\n# plot(result)\n\n\n## | PLOT PREDICTIONS\n\n#SJPLOT | MODEL | PROBABILITIES\n# plot_model(m, type=\"int\",\n#            show.intercept = TRUE,\n#            show.values = TRUE,\n#            title = \"Model Prediction | Probability of Accurate Response\",\n#            axis.title = c(\"Condition\",\"Probability of Accurate Response\"))\n\n#PLOT MODEL PREDICTION\nplot_model(m, type = \"pred\")  \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n$graph\n```\n:::\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/MODEL-VIS-CACC-3.png){width=672}\n:::\n\n```{.r .cell-code}\nplot_model(m, type = \"eff\")  \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n$graph\n```\n:::\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/MODEL-VIS-CACC-4.png){width=672}\n:::\n\n```{.r .cell-code}\n  # ylim(0,1) + \n  # labs(\n  #   title = \"Model Prediction | Probability of Accurate Response\",\n  #   subtitle = \"Impasse increases Probability of Correct Response\"\n  # )\n\n#TODO EMMEANS for the estimated marginal means OR USE IXN PLOT\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#SJPLOT | MODEL | TABLE\ntab_model(m)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table style=\"border-collapse:collapse; border:none;\">\n<tr>\n<th style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm;  text-align:left; \">&nbsp;</th>\n<th colspan=\"3\" style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; \">accuracy</th>\n</tr>\n<tr>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  text-align:left; \">Predictors</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">Odds Ratios</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">CI</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">p</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(Intercept)</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.73</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.54&nbsp;&ndash;&nbsp;0.97</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>0.031</strong></td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">graph [linear]</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">4.34</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">3.47&nbsp;&ndash;&nbsp;5.44</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>&lt;0.001</strong></td>\n</tr>\n<tr>\n<td colspan=\"4\" style=\"font-weight:bold; text-align:left; padding-top:.8em;\">Random Effects</td>\n</tr>\n\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">&sigma;<sup>2</sup></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">3.29</td>\n</tr>\n\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">&tau;<sub>00</sub> <sub>subject</sub></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">0.79</td>\n\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">&tau;<sub>00</sub> <sub>q</sub></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">0.04</td>\n\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">ICC</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">0.20</td>\n\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">N <sub>subject</sub></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">61</td>\n\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">N <sub>q</sub></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">14</td>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm; border-top:1px solid;\">Observations</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;\" colspan=\"3\">1708</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">Marginal R<sup>2</sup> / Conditional R<sup>2</sup></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">0.116 / 0.295</td>\n</tr>\n\n</table>\n\n`````\n:::\n\n```{.r .cell-code}\n# #MODEL SUMMARY | save latex table\n# models <- list(\"odds ratios\" = m, \"(log odds)\" = m)\n# notes = list('\"* p < 0.05, ** p < 0.01, *** p < 0.001\"',\n#                'N(subject) = 133 $\\tau_{00}$(subject) = 34.85',\n#              'N(question) = 13 $\\tau_{00}$(question) = 1.14')\n# \n# modelsummary(models,\n#              exponentiate = c(TRUE, FALSE),\n#              shape = term ~ model + statistic,\n#              fmt = 2, #two digits w/ trailing zero\n#              estimate  = \"{estimate} {stars}\",\n#              statistic = \"conf.int\",\n#              gof_map = c(\"AIC\", \"sigma\"),\n#              gof_omit = 'RMSE|ICC|BIC',\n#              coef_rename = c(\"pretty_conditionimpasse\" = \"Condition[impasse]\"),\n#              title = 'Accuracy ~ Condition (Mixed Logistic Regression)',\n#              notes = notes,\n#              output = \"analysis/SGC3A/models/tables/GLMER_OverallAccuracy_online.tex\")\n# # #              # coef_omit = \"Intercept\",\n```\n:::\n\n##### Diagnostics\n\n::: {.cell}\n\n```{.r .cell-code}\n# print(\"SANITY CHECK REPORTING\")\n# report(m)\n\n# print(\"MODEL PERFORMANCE\")\n# performance(m)\n\nprint(\"DIAGNOSTICS\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"DIAGNOSTICS\"\n```\n:::\n\n```{.r .cell-code}\ncheck_model(m)\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/MODEL-DIAG-ACC-1.png){width=672}\n:::\n:::\n\n\n\n\n\n\n## H3 \\| The Effectiveness of Scaffolding\n\n**Hypothesis** Qiang et. al found that the TM graph was more computationally efficient than the LM graph. We expect that for learners that *do* correctly interpret the graph, they will have lower response times for the TM vs. LM graph.\n\n### !! USE THIS SCORE DIFFERENCE\n\n#### Setup\n\n::: {.cell}\n\n```{.r .cell-code}\n#FILTER THE DATASET\ndf_s <- df_subjects %>% dplyr::select(total, triangular_score, score_diff, time_diff, subject, order, tm_scenarios, pretty_condition)\ndf_i <- df_items %>% filter(q %nin% c(3))\n```\n:::\n\n#### Visualize\n\n::: {.cell}\n\n```{.r .cell-code}\n# Box plots\n# ++++++++++++++++++++\n# Plot weight by group and color by group\nlibrary(\"ggpubr\")\nggboxplot(df_s, x = \"pretty_condition\", y = \"score_diff\", \n          color = \"pretty_condition\", \n          # palette = c(\"#00AFBB\", \"#E7B800\", \"#FC4E07\"),\n          # order = c(\"ctrl\", \"trt1\", \"trt2\"),\n          title = \"DIFFERENCE IN GRAPH scores by Condition\",\n          ylab = \"TRI - LINEAR Score [-15,15]\", xlab = \"Condition\") +\n  geom_hline(yintercept = 0, color = \"black\") + \n  geom_jitter( aes(color = pretty_condition), width = 0.15, alpha = 0.5) +\n  ylim(-15,15) + \n  # facet_wrap(order~ tm_scenarios) +\n  easy_remove_legend() + theme_clean()\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-30-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nfavstats(score_diff ~ pretty_condition, data = df_s)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  pretty_condition min Q1 median    Q3 max   mean   sd  n missing\n1          control -13 -8   -4.0 -1.00   5 -4.082 4.51 61       0\n2        text:what -12 -4   -2.0  0.00   4 -2.254 3.93 59       0\n3         text:how -11 -4   -2.0  1.00   4 -2.197 4.02 66       0\n4       img:static -11 -5   -1.0  0.75   4 -2.355 4.00 62       0\n5          img:ixv -12 -2    0.5  2.00   5 -0.221 3.23 68       0\n```\n:::\n:::\n\n\n\n#### LINEAR REGRESSION [ SCORE diff ~ condition]\n\n##### Fit Model\n\n::: {.cell}\n\n```{.r .cell-code}\n# empty model \nm0 <- lm( score_diff ~ 1, data = df_s)\n\n# CONDITION model \nm.C <- lm( score_diff ~ pretty_condition, data = df_s)\npaste(\"Condition model better fit than empty?\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Condition model better fit than empty?\"\n```\n:::\n\n```{.r .cell-code}\ntest_lrt(m0,m.C)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# Likelihood-Ratio-Test (LRT) for Model Comparison (OLS-estimator)\n\nName | Model | df | df_diff |  Chi2 |      p\n--------------------------------------------\nm0   |    lm |  2 |         |       |       \nm.C  |    lm |  6 |       4 | 31.10 | < .001\n```\n:::\n\n```{.r .cell-code}\n# car::Anova(m.C) #main effects condition\n\n# CONDITION + ORDER model \nm.CO <- lm( score_diff ~ pretty_condition*order, data = df_s)\npaste(\"Condition*Order model better fit than CONDITION?\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Condition*Order model better fit than CONDITION?\"\n```\n:::\n\n```{.r .cell-code}\ntest_lrt(m.CO,m.C)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# Likelihood-Ratio-Test (LRT) for Model Comparison (OLS-estimator)\n\nName | Model | df | df_diff |  Chi2 |     p\n-------------------------------------------\nm.CO |    lm | 11 |         |       |      \nm.C  |    lm |  6 |      -5 | 11.69 | 0.039\n```\n:::\n\n```{.r .cell-code}\n# car::Anova(m.CO) #main effects condition, order\n\n# CONDITION + ORDER + SCENARIO model \nm.C.O.S <- lm( score_diff ~ pretty_condition*tm_scenarios*order, data = df_s)\npaste(\"Condition*Order*Scenario model better fit than interactions model?\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Condition*Order*Scenario model better fit than interactions model?\"\n```\n:::\n\n```{.r .cell-code}\ntest_lrt(m.C.O.S,m.CO)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# Likelihood-Ratio-Test (LRT) for Model Comparison (OLS-estimator)\n\nName    | Model | df | df_diff |  Chi2 |      p\n-----------------------------------------------\nm.C.O.S |    lm | 21 |         |       |       \nm.CO    |    lm | 11 |     -10 | 40.05 | < .001\n```\n:::\n\n```{.r .cell-code}\n# car::Anova(m.COS, type = 2) #main effects condition, order scenario, scenario\n#no interactions were significant\n\n# #MAIN EFFECTS ONLY MODEL\nm.COS <- lm( score_diff ~ pretty_condition+order+tm_scenarios, data = df_s)\n# paste(\"Condition+Order+Scenario model better fit than interaction model?\")\ntest_lrt(m.C.O.S,m.COS)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# Likelihood-Ratio-Test (LRT) for Model Comparison (OLS-estimator)\n\nName    | Model | df | df_diff |  Chi2 |     p\n----------------------------------------------\nm.C.O.S |    lm | 21 |         |       |      \nm.COS   |    lm |  8 |     -13 | 13.57 | 0.405\n```\n:::\n:::\n\nThe best fitting model includes main effects CONDITION, ORDER and SCENARIO. \n\n\n##### Describe\n\n::: {.cell}\n\n```{.r .cell-code}\n# best model\nm <- m.COS\n\n#::::::::: PRINT MODEL \n\nprint(\"PREDICTOR MODEL\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"PREDICTOR MODEL\"\n```\n:::\n\n```{.r .cell-code}\nsummary(m)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nlm(formula = score_diff ~ pretty_condition + order + tm_scenarios, \n    data = df_s)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-10.326  -2.373   0.408   2.717   9.897 \n\nCoefficients:\n                           Estimate Std. Error t value Pr(>|t|)    \n(Intercept)                  -5.754      0.559  -10.29  < 2e-16 ***\npretty_conditiontext:what     2.037      0.682    2.99   0.0031 ** \npretty_conditiontext:how      1.923      0.662    2.90   0.0039 ** \npretty_conditionimg:static    1.780      0.672    2.65   0.0085 ** \npretty_conditionimg:ixv       4.080      0.659    6.19  1.9e-09 ***\norderLM-First                 0.857      0.420    2.04   0.0423 *  \ntm_scenarioslongmire          2.489      0.422    5.89  9.9e-09 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 3.73 on 309 degrees of freedom\nMultiple R-squared:  0.193,\tAdjusted R-squared:  0.178 \nF-statistic: 12.3 on 6 and 309 DF,  p-value: 1.83e-12\n```\n:::\n\n```{.r .cell-code}\nprint(\"SIGNIFICANCE TEST [non directional]\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"SIGNIFICANCE TEST [non directional]\"\n```\n:::\n\n```{.r .cell-code}\ncar::Anova(m, type=2) #TYPE 3 SS FOR IXNS\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nAnova Table (Type II tests)\n\nResponse: score_diff\n                 Sum Sq  Df F value  Pr(>F)    \npretty_condition    539   4    9.70 2.1e-07 ***\norder                58   1    4.16   0.042 *  \ntm_scenarios        483   1   34.73 9.9e-09 ***\nResiduals          4295 309                    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n```\n:::\n\n```{.r .cell-code}\n#:::::::: MANUAL ONE-SIDED SIGTEST \n#note: anova and chi square are always one-tailed, but that is independent of being one-sided\n#https://www.ibm.com/support/pages/can-one-get-one-tailed-tests-logistic-regression-dividing-significance-levels-half\n\n# one-sided (right tail) z test for B COEFFICIENT\n#SANITY CHECK 2-tailed test should match the model output\n#NOTE ... NEED TO DO THIS FOR _EACH_ COEFFICIENT\n# tt <- 2*pnorm(summary(m)$coefficients[2,3], lower.tail = F)\n# paste(\"p value for two-tailed test, null B = 0 : \",round(tt,5))\n# ot <- pnorm(summary(m)$coefficients[2,3], lower.tail = F)\n# paste(\"BUT we want a one  directional, null: B <= 0: \",round(ot,5))\n\n#:::::::: INTERPRET COEFFICIENTS\ntidy(m,   conf.int = TRUE, conf.level = 0.95, conf.method = \"Wald\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 7 × 7\n  term                  estimate std.error statistic  p.value conf.low conf.high\n  <chr>                    <dbl>     <dbl>     <dbl>    <dbl>    <dbl>     <dbl>\n1 (Intercept)             -5.75      0.559    -10.3  1.48e-21  -6.85       -4.65\n2 pretty_conditiontext…    2.04      0.682      2.99 3.06e- 3   0.695       3.38\n3 pretty_conditiontext…    1.92      0.662      2.90 3.95e- 3   0.620       3.23\n4 pretty_conditionimg:…    1.78      0.672      2.65 8.52e- 3   0.457       3.10\n5 pretty_conditionimg:…    4.08      0.659      6.19 1.87e- 9   2.78        5.38\n6 orderLM-First            0.857     0.420      2.04 4.23e- 2   0.0301      1.68\n7 tm_scenarioslongmire     2.49      0.422      5.89 9.88e- 9   1.66        3.32\n```\n:::\n\n```{.r .cell-code}\npaste(\"PROBABILITIES\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"PROBABILITIES\"\n```\n:::\n\n```{.r .cell-code}\n#probability control = plogis(intercept)\n#probability impasse = plogis(intercept + coefficient)\n\n#FROM predict()\nnewdata <- df_s %>% dplyr::select(pretty_condition, order, tm_scenarios, subject)\npreds <- predict(m, newdata = newdata, type = \"response\")\npreds <- cbind(newdata, preds)\n(p <- preds %>%\n  group_by(pretty_condition, order, tm_scenarios) %>%\n  dplyr::summarise(\n    median = median(preds),\n    se = sd(preds)/sqrt(n()),\n    lwr = median - 1.96*se,\n    upr = median + 1.96*se))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 20 × 7\n# Groups:   pretty_condition, order [10]\n   pretty_condition order    tm_scenarios median    se    lwr    upr\n   <fct>            <fct>    <fct>         <dbl> <dbl>  <dbl>  <dbl>\n 1 control          TM-First axis         -5.75      0 -5.75  -5.75 \n 2 control          TM-First longmire     -3.27      0 -3.27  -3.27 \n 3 control          LM-First axis         -4.90      0 -4.90  -4.90 \n 4 control          LM-First longmire     -2.41      0 -2.41  -2.41 \n 5 text:what        TM-First axis         -3.72      0 -3.72  -3.72 \n 6 text:what        TM-First longmire     -1.23      0 -1.23  -1.23 \n 7 text:what        LM-First axis         -2.86      0 -2.86  -2.86 \n 8 text:what        LM-First longmire     -0.371     0 -0.371 -0.371\n 9 text:how         TM-First axis         -3.83      0 -3.83  -3.83 \n10 text:how         TM-First longmire     -1.34      0 -1.34  -1.34 \n11 text:how         LM-First axis         -2.97      0 -2.97  -2.97 \n12 text:how         LM-First longmire     -0.485     0 -0.485 -0.485\n13 img:static       TM-First axis         -3.97      0 -3.97  -3.97 \n14 img:static       TM-First longmire     -1.48      0 -1.48  -1.48 \n15 img:static       LM-First axis         -3.12      0 -3.12  -3.12 \n16 img:static       LM-First longmire     -0.628     0 -0.628 -0.628\n17 img:ixv          TM-First axis         -1.67      0 -1.67  -1.67 \n18 img:ixv          TM-First longmire      0.815     0  0.815  0.815\n19 img:ixv          LM-First axis         -0.817     0 -0.817 -0.817\n20 img:ixv          LM-First longmire      1.67      0  1.67   1.67 \n```\n:::\n:::\n\n##### INFERENCE\n\nTo test the hypothesis that SCAFFOLD condition affects triangular score performance, we fit a linear regression model predicting difference score (triangular - linear; where + scores indicate better performance on triangular vs linear) by SCAFFOLD, ORDER and SCENARIO.  \n\nIn this model, there were significant main effects of SCAFFOLD, ORDER and SCENARIO, but no interactions.  The model estimates that each condition significantly improves performance on the triangular vs linear graph, increasing the difference in scores (score diff <0 means higher linear, scorediff > 0 higher triangular).\nThe most effective scaffold was the interactive image, increasing the score difference by 4 points. Taking the LM before the TM had a small but significant effect increasing the differential by 1 point, while scenario increased the score by 2.5 points. \n\n\n\n##### Visualize\n\n::: {.cell}\n\n```{.r .cell-code}\n## | PLOT PARAMETERS \n\n#SJPLOT | MODEL | ODDS RATIO\nplot_model(m, vline.color = \"red\", \n           show.intercept = TRUE, \n           show.values = TRUE,\n           p.threshold = 0.1, #manually adjust to account for directional test\n           ci.lvl = 0.90 ) + #manually adjusted for directional test   \n  labs(title = \"Model Estimate | Score Difference (TRI - LIN)\",\n       subtitle = \"\",\n       x = \"Condition\")\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-34-1.png){width=672}\n:::\n\n```{.r .cell-code}\n#EASYSTATS | MODEL | ODDS RATIO\n# result <- model_parameters(m, exponentiate = TRUE, component = \"all\")\n# plot(result)\n\n\n## | PLOT TESTS\n\nresult <- equivalence_test(m, rule = \"classic\", ci=0.9) #classic[tost], , bayes\nplot(result)\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-34-2.png){width=672}\n:::\n\n```{.r .cell-code}\n## | PLOT PREDICTIONS\n\n#SJPLOT | MODEL | PROBABILITIES\nplot_model(m, type=\"eff\",\n           show.intercept = TRUE,\n           show.values = TRUE,\n           title = \"Model Prediction | Probability of Accurate Response\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n$pretty_condition\n```\n:::\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-34-3.png){width=672}\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n\n$order\n```\n:::\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-34-4.png){width=672}\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n\n$tm_scenarios\n```\n:::\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-34-5.png){width=672}\n:::\n\n```{.r .cell-code}\n#PLOT MODEL PREDICTION\n# plot_model(m, type = \"pred\")  \n# plot_model(m, type = \"eff\")  \n  # ylim(0,1) + \n  # labs(\n  #   title = \"Model Prediction | Probability of Accurate Response\",\n  #   subtitle = \"Impasse increases Probability of Correct Response\"\n  # )\n\n## | PLOT INTERACTIONS\n# plot_model(m.C.O.S, type=\"int\",\n#            show.intercept = TRUE,\n#            show.values = TRUE,\n#            title = \"Model Prediction | Probability of Accurate Response\")\n# \n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#SJPLOT | MODEL | TABLE\ntab_model(m)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table style=\"border-collapse:collapse; border:none;\">\n<tr>\n<th style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm;  text-align:left; \">&nbsp;</th>\n<th colspan=\"3\" style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; \">score diff</th>\n</tr>\n<tr>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  text-align:left; \">Predictors</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">Estimates</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">CI</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">p</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(Intercept)</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;5.75</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;6.85&nbsp;&ndash;&nbsp;-4.65</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>&lt;0.001</strong></td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">pretty conditiontext *<br>what</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">2.04</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.69&nbsp;&ndash;&nbsp;3.38</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>0.003</strong></td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">pretty conditiontext *<br>how</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">1.92</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.62&nbsp;&ndash;&nbsp;3.23</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>0.004</strong></td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">pretty conditionimg *<br>static</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">1.78</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.46&nbsp;&ndash;&nbsp;3.10</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>0.009</strong></td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">pretty conditionimg * ixv</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">4.08</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">2.78&nbsp;&ndash;&nbsp;5.38</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>&lt;0.001</strong></td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">order [LM-First]</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.86</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.03&nbsp;&ndash;&nbsp;1.68</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>0.042</strong></td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">tm scenarios [longmire]</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">2.49</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">1.66&nbsp;&ndash;&nbsp;3.32</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>&lt;0.001</strong></td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm; border-top:1px solid;\">Observations</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;\" colspan=\"3\">316</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">R<sup>2</sup> / R<sup>2</sup> adjusted</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">0.193 / 0.178</td>\n</tr>\n\n</table>\n\n`````\n:::\n\n```{.r .cell-code}\n# #MODEL SUMMARY | save latex table\n# models <- list(\"odds ratios\" = m, \"(log odds)\" = m)\n# notes = list('\"* p < 0.05, ** p < 0.01, *** p < 0.001\"',\n#                'N(subject) = 133 $\\tau_{00}$(subject) = 34.85',\n#              'N(question) = 13 $\\tau_{00}$(question) = 1.14')\n# \n# modelsummary(models,\n#              exponentiate = c(TRUE, FALSE),\n#              shape = term ~ model + statistic,\n#              fmt = 2, #two digits w/ trailing zero\n#              estimate  = \"{estimate} {stars}\",\n#              statistic = \"conf.int\",\n#              gof_map = c(\"AIC\", \"sigma\"),\n#              gof_omit = 'RMSE|ICC|BIC',\n#              coef_rename = c(\"pretty_conditionimpasse\" = \"Condition[impasse]\"),\n#              title = 'Accuracy ~ Condition (Mixed Logistic Regression)',\n#              notes = notes,\n#              output = \"analysis/SGC3A/models/tables/GLMER_OverallAccuracy_online.tex\")\n# # #              # coef_omit = \"Intercept\",\n```\n:::\n\n\n\n##### Diagnostics\n\n::: {.cell}\n\n```{.r .cell-code}\n#DIAGNOSTICS\ncheck_model(m)\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-36-1.png){width=672}\n:::\n:::\n\n\n\n\n\n\n\n\n\n### TRIANGULAR SCORE\n\n#### Setup\n\n::: {.cell}\n\n```{.r .cell-code}\n#FILTER THE DATASET\ndf_s <- df_subjects %>% dplyr::select(triangular_score, score_diff, subject, order, tm_scenarios, pretty_condition)\ndf_i <- df_items %>% filter(q %nin% c(3)) %>% filter(graph == \"triangular\")\n```\n:::\n\n#### Visualize\n\n::: {.cell}\n\n```{.r .cell-code}\n# Box plots\n# ++++++++++++++++++++\n# Plot weight by group and color by group\nlibrary(\"ggpubr\")\nggboxplot(df_s, x = \"pretty_condition\", y = \"triangular_score\", \n          color = \"pretty_condition\", \n          # palette = c(\"#00AFBB\", \"#E7B800\", \"#FC4E07\"),\n          # order = c(\"ctrl\", \"trt1\", \"trt2\"),\n          title = \"TRIANGULAR SCORE by Condition\",\n          ylab = \"Triangular Score [0,15]\", xlab = \"Condition\") +\n  # geom_hline(yintercept = 0, color = \"black\") + \n  geom_jitter( aes(color = pretty_condition), width = 0.15, alpha = 0.5) +\n  # ylim(-15,15) + \n  # facet_wrap(order~ tm_scenarios) +\n  easy_remove_legend() + theme_clean()\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-38-1.png){width=672}\n:::\n\n```{.r .cell-code}\ngf_histogram(~triangular_score, data = df_s)\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-38-2.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nfavstats(triangular_score ~ pretty_condition, data = df_s)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  pretty_condition min   Q1 median   Q3 max  mean   sd  n missing\n1          control   0  2.0      6 11.0  14  6.90 4.51 61       0\n2        text:what   0  6.5     10 12.5  14  8.81 4.28 59       0\n3         text:how   1  4.0     10 12.0  15  8.70 4.71 66       0\n4       img:static   0  5.0     10 12.0  15  8.56 4.57 62       0\n5          img:ixv   1 10.0     11 13.0  15 10.68 3.41 68       0\n```\n:::\n:::\n\n\n#### [no] MIXED EFFECTS LOGISTIC REGRESSION --\\> RAW SCORE\n\n*Fit mixed effects logistic regression model to test effect of CONDITION ORDER, and SCENARIO on probability of correct response just in TRIANGULAR graph*\n\n##### Fit Model\n\n::: {.cell}\n\n```{.r .cell-code}\n## 0 | SETUP\n#confirm 13 items [all discriminating items]\nnrow(df_i) / nrow(df_s)  #removed nondiscrim Q3\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 14\n```\n:::\n\n```{.r .cell-code}\n#confirm all factors \nis.factor(df_i$q) && is.factor(df_i$subject) && is.factor(df_i$graph) && is.factor(df_i$score) && is.factor(df_i$order) && is.factor(df_i$scenario)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] TRUE\n```\n:::\n\n```{.r .cell-code}\n## 1 | SETUP RANDOM INTERCEPT SUBJECT\n\n#:: EMPTY MODEL (baseline, no random effect)\nprint(\"Empty fixed model\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Empty fixed model\"\n```\n:::\n\n```{.r .cell-code}\nm0 = glm(accuracy ~ 1, family = \"binomial\", data = df_i) \n# summary(m0)\n\n#:: RANDOM INTERCEPT SUBJECT + ITEM\nprint(\"Subject Intercept + Item intercept random model\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Subject Intercept + Item intercept random model\"\n```\n:::\n\n```{.r .cell-code}\nmm.rSQ <- glmer(accuracy ~ (1|subject) + (1|q), data = df_i, family = \"binomial\")\n#summary(mm.rSQ)\n\n\n## 2 | ADD FIXED EFFECT CONDITION\n\nprint(\"Condition + Subject & Item random intercepts\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Condition + Subject & Item random intercepts\"\n```\n:::\n\n```{.r .cell-code}\nmm.CrSQ <- glmer(accuracy ~ pretty_condition + (1|subject) + (1|q) ,\n                data = df_i, family = \"binomial\", \n                # control=glmerControl(optimizer=\"bobyqa\",\n                #                  optCtrl=list(maxfun=2e5))\n                )\n# car::Anova(mm.CrSQ) #main effects graph\n\npaste(\"AIC decreases w/ new model\", AIC(logLik(mm.rSQ)) > AIC(logLik(mm.CrSQ)) )\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"AIC decreases w/ new model TRUE\"\n```\n:::\n\n```{.r .cell-code}\ntest_lrt(mm.rSQ,mm.CrSQ) \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# Likelihood-Ratio-Test (LRT) for Model Comparison (ML-estimator)\n\nName    |    Model | df | df_diff |  Chi2 |      p\n--------------------------------------------------\nmm.rSQ  | glmerMod |  3 |         |       |       \nmm.CrSQ | glmerMod |  7 |       4 | 24.75 | < .001\n```\n:::\n\n```{.r .cell-code}\n# 2 | ADD IXN ORDER\nprint(\"FIXED CONDITION + ORDER + Subject & Item random intercepts\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"FIXED CONDITION + ORDER + Subject & Item random intercepts\"\n```\n:::\n\n```{.r .cell-code}\nmm.COrSQ <- glmer(accuracy ~ pretty_condition*order + (1|subject) + (1|q),\n                   data = df_i, family = \"binomial\", \n                   control=glmerControl(optimizer=\"bobyqa\",\n                                 optCtrl=list(maxfun=2e5)))\n# car::Anova(mm.COrSQ, type = 3) #main effect condition\n\n\n# 2 | ADD IXN SCENARIO\nprint(\"FIXED CONDITION + ORDER + Subject & Item random intercepts\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"FIXED CONDITION + ORDER + Subject & Item random intercepts\"\n```\n:::\n\n```{.r .cell-code}\nmm.COSrSQ <- glmer(accuracy ~ pretty_condition*order*scenario + (1|subject) + (1|q),\n                   data = df_i, family = \"binomial\", \n                   control=glmerControl(optimizer=\"bobyqa\",\n                                 optCtrl=list(maxfun=2e5)))\ncar::Anova(mm.COSrSQ, type = 3) #ME condition, scenario\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nAnalysis of Deviance Table (Type III Wald chisquare tests)\n\nResponse: accuracy\n                                Chisq Df Pr(>Chisq)  \n(Intercept)                      5.16  1      0.023 *\npretty_condition                 9.32  4      0.054 .\norder                            1.91  1      0.167  \nscenario                         3.78  1      0.052 .\npretty_condition:order           7.58  4      0.108  \npretty_condition:scenario        0.38  4      0.984  \norder:scenario                   1.46  1      0.227  \npretty_condition:order:scenario  2.25  4      0.690  \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n```\n:::\n\n```{.r .cell-code}\n# test_lrt(mm.COSrSQ,mm.COrSQ) \n\n\n# 3 | MAIN EFFECTS ONLY\n\n# print(\"CONDITION + SCENARIO + ORDER + Subject & Item random intercepts\")\n# mm.C.O.SrSQ <- glmer(accuracy ~ pretty_condition + order + scenario +  (1|subject) + (1|q) ,\n#                 data = df_i, family = \"binomial\",\n#                 control=glmerControl(optimizer=\"bobyqa\",\n#                                  optCtrl=list(maxfun=2e5)))\n# summary(mm.C.O.SrSQ)\n# car::Anova(mm.C.O.SrSQ, type = 2) #ME condition, scenario\n```\n:::\n\n\n##### Describe\n\n::: {.cell}\n\n```{.r .cell-code}\n# best model\nm <- mm.COSrSQ\n\n#::::::::: PRINT MODEL \n\nprint(\"PREDICTOR MODEL\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"PREDICTOR MODEL\"\n```\n:::\n\n```{.r .cell-code}\nsummary(m)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nGeneralized linear mixed model fit by maximum likelihood (Laplace\n  Approximation) [glmerMod]\n Family: binomial  ( logit )\nFormula: accuracy ~ pretty_condition * order * scenario + (1 | subject) +  \n    (1 | q)\n   Data: df_i\nControl: glmerControl(optimizer = \"bobyqa\", optCtrl = list(maxfun = 200000))\n\n     AIC      BIC   logLik deviance df.resid \n    4904     5045    -2430     4860     4401 \n\nScaled residuals: \n   Min     1Q Median     3Q    Max \n-3.714 -0.553  0.338  0.600  3.390 \n\nRandom effects:\n Groups  Name        Variance Std.Dev.\n subject (Intercept) 2.222    1.490   \n q       (Intercept) 0.074    0.272   \nNumber of obs: 4423, groups:  subject, 316; q, 14\n\nFixed effects:\n                                                          Estimate Std. Error\n(Intercept)                                                -0.9288     0.4089\npretty_conditiontext:what                                   0.8730     0.5862\npretty_conditiontext:how                                    0.3869     0.5610\npretty_conditionimg:static                                  0.4084     0.5727\npretty_conditionimg:ixv                                     1.4869     0.5344\norderLM-First                                              -0.8707     0.6307\nscenariolongmire                                            1.1289     0.5809\npretty_conditiontext:what:orderLM-First                     0.4820     0.8448\npretty_conditiontext:how:orderLM-First                      1.9666     0.8577\npretty_conditionimg:static:orderLM-First                    1.6751     0.8586\npretty_conditionimg:ixv:orderLM-First                       1.2948     0.8171\npretty_conditiontext:what:scenariolongmire                  0.2258     0.8540\npretty_conditiontext:how:scenariolongmire                  -0.0786     0.7997\npretty_conditionimg:static:scenariolongmire                -0.1745     0.8189\npretty_conditionimg:ixv:scenariolongmire                   -0.2687     0.8323\norderLM-First:scenariolongmire                              1.0367     0.8583\npretty_conditiontext:what:orderLM-First:scenariolongmire   -0.9090     1.2274\npretty_conditiontext:how:orderLM-First:scenariolongmire    -1.7413     1.1838\npretty_conditionimg:static:orderLM-First:scenariolongmire  -1.1527     1.2001\npretty_conditionimg:ixv:orderLM-First:scenariolongmire     -1.1191     1.1902\n                                                          z value Pr(>|z|)   \n(Intercept)                                                 -2.27   0.0231 * \npretty_conditiontext:what                                    1.49   0.1364   \npretty_conditiontext:how                                     0.69   0.4904   \npretty_conditionimg:static                                   0.71   0.4758   \npretty_conditionimg:ixv                                      2.78   0.0054 **\norderLM-First                                               -1.38   0.1674   \nscenariolongmire                                             1.94   0.0520 . \npretty_conditiontext:what:orderLM-First                      0.57   0.5683   \npretty_conditiontext:how:orderLM-First                       2.29   0.0219 * \npretty_conditionimg:static:orderLM-First                     1.95   0.0511 . \npretty_conditionimg:ixv:orderLM-First                        1.58   0.1131   \npretty_conditiontext:what:scenariolongmire                   0.26   0.7915   \npretty_conditiontext:how:scenariolongmire                   -0.10   0.9217   \npretty_conditionimg:static:scenariolongmire                 -0.21   0.8313   \npretty_conditionimg:ixv:scenariolongmire                    -0.32   0.7468   \norderLM-First:scenariolongmire                               1.21   0.2271   \npretty_conditiontext:what:orderLM-First:scenariolongmire    -0.74   0.4589   \npretty_conditiontext:how:orderLM-First:scenariolongmire     -1.47   0.1413   \npretty_conditionimg:static:orderLM-First:scenariolongmire   -0.96   0.3368   \npretty_conditionimg:ixv:orderLM-First:scenariolongmire      -0.94   0.3471   \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\nCorrelation matrix not shown by default, as p = 20 > 12.\nUse print(x, correlation=TRUE)  or\n    vcov(x)        if you need it\n```\n:::\n\n```{.r .cell-code}\nprint(\"SIGNIFICANCE TEST [non directional]\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"SIGNIFICANCE TEST [non directional]\"\n```\n:::\n\n```{.r .cell-code}\ncar::Anova(m, type=3) #TYPE 3 SS FOR IXNS\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nAnalysis of Deviance Table (Type III Wald chisquare tests)\n\nResponse: accuracy\n                                Chisq Df Pr(>Chisq)  \n(Intercept)                      5.16  1      0.023 *\npretty_condition                 9.32  4      0.054 .\norder                            1.91  1      0.167  \nscenario                         3.78  1      0.052 .\npretty_condition:order           7.58  4      0.108  \npretty_condition:scenario        0.38  4      0.984  \norder:scenario                   1.46  1      0.227  \npretty_condition:order:scenario  2.25  4      0.690  \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n```\n:::\n\n```{.r .cell-code}\n#:::::::: INTERPRET COEFFICIENTS\n\npaste(\"LOG ODDS\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"LOG ODDS\"\n```\n:::\n\n```{.r .cell-code}\ntidy(m,   conf.int = TRUE, conf.level = 0.95, conf.method = \"Wald\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 22 × 9\n   effect group term     estimate std.error statistic p.value conf.low conf.high\n   <chr>  <chr> <chr>       <dbl>     <dbl>     <dbl>   <dbl>    <dbl>     <dbl>\n 1 fixed  <NA>  (Interc…   -0.929     0.409    -2.27  0.0231  -1.73       -0.127\n 2 fixed  <NA>  pretty_…    0.873     0.586     1.49  0.136   -0.276       2.02 \n 3 fixed  <NA>  pretty_…    0.387     0.561     0.690 0.490   -0.713       1.49 \n 4 fixed  <NA>  pretty_…    0.408     0.573     0.713 0.476   -0.714       1.53 \n 5 fixed  <NA>  pretty_…    1.49      0.534     2.78  0.00540  0.440       2.53 \n 6 fixed  <NA>  orderLM…   -0.871     0.631    -1.38  0.167   -2.11        0.365\n 7 fixed  <NA>  scenari…    1.13      0.581     1.94  0.0520  -0.00968     2.27 \n 8 fixed  <NA>  pretty_…    0.482     0.845     0.571 0.568   -1.17        2.14 \n 9 fixed  <NA>  pretty_…    1.97      0.858     2.29  0.0219   0.286       3.65 \n10 fixed  <NA>  pretty_…    1.68      0.859     1.95  0.0511  -0.00768     3.36 \n# … with 12 more rows\n```\n:::\n\n```{.r .cell-code}\npaste(\"ODDS RATIOS\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"ODDS RATIOS\"\n```\n:::\n\n```{.r .cell-code}\ntidy(m,   conf.int = TRUE, conf.level = 0.95, conf.method = \"Wald\", exponentiate = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 22 × 9\n   effect group term     estimate std.error statistic p.value conf.low conf.high\n   <chr>  <chr> <chr>       <dbl>     <dbl>     <dbl>   <dbl>    <dbl>     <dbl>\n 1 fixed  <NA>  (Interc…    0.395     0.162    -2.27  0.0231     0.177     0.880\n 2 fixed  <NA>  pretty_…    2.39      1.40      1.49  0.136      0.759     7.55 \n 3 fixed  <NA>  pretty_…    1.47      0.826     0.690 0.490      0.490     4.42 \n 4 fixed  <NA>  pretty_…    1.50      0.862     0.713 0.476      0.490     4.62 \n 5 fixed  <NA>  pretty_…    4.42      2.36      2.78  0.00540    1.55     12.6  \n 6 fixed  <NA>  orderLM…    0.419     0.264    -1.38  0.167      0.122     1.44 \n 7 fixed  <NA>  scenari…    3.09      1.80      1.94  0.0520     0.990     9.65 \n 8 fixed  <NA>  pretty_…    1.62      1.37      0.571 0.568      0.309     8.48 \n 9 fixed  <NA>  pretty_…    7.15      6.13      2.29  0.0219     1.33     38.4  \n10 fixed  <NA>  pretty_…    5.34      4.58      1.95  0.0511     0.992    28.7  \n# … with 12 more rows\n```\n:::\n\n```{.r .cell-code}\npaste(\"PROBABILITIES\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"PROBABILITIES\"\n```\n:::\n\n```{.r .cell-code}\n#probability control = plogis(intercept)\n#probability impasse = plogis(intercept + coefficient)\n\n#FROM merTools\n#setup empty df \nnewdata <- df_i %>% dplyr::select(graph, pretty_condition, order, scenario, subject, q)\n#make predictions\npreds <- predictInterval(m, newdata = newdata,\n                              which = \"fixed\", #full, fixed or random for those only\n                              type = \"probability\", #linear.prediction\n                              stat = \"median\",\n                              n.sims = 1000,\n                              level = 0.80) #width of prediction interval\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning in predictInterval(m, newdata = newdata, which = \"fixed\", type = \"probability\", : newdata is tbl_df or tbl object from dplyr package and has been\n              coerced to a data.frame\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: executing %dopar% sequentially: no parallel backend registered\n```\n:::\n\n```{.r .cell-code}\n#join predictions to the new dataframe\npreds <- cbind(newdata, preds)\n#summarize\n(summ_preds <- preds %>% \n  dplyr::select(graph, pretty_condition, scenario, order, fit, lwr, upr) %>% \n  group_by(graph, pretty_condition, scenario, order) %>% \n  dplyr::summarise(\n    median = median(fit),\n    lower = median(lwr),\n    upper = median(upr)\n  )) \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 20 × 7\n# Groups:   graph, pretty_condition, scenario [10]\n   graph      pretty_condition scenario order    median  lower upper\n   <fct>      <fct>            <fct>    <fct>     <dbl>  <dbl> <dbl>\n 1 triangular control          axis     TM-First  0.286 0.0912 0.614\n 2 triangular control          axis     LM-First  0.141 0.0373 0.405\n 3 triangular control          longmire TM-First  0.552 0.233  0.833\n 4 triangular control          longmire LM-First  0.587 0.261  0.850\n 5 triangular text:what        axis     TM-First  0.484 0.189  0.791\n 6 triangular text:what        axis     LM-First  0.391 0.141  0.716\n 7 triangular text:what        longmire TM-First  0.786 0.473  0.938\n 8 triangular text:what        longmire LM-First  0.736 0.400  0.921\n 9 triangular text:how         axis     TM-First  0.372 0.131  0.701\n10 triangular text:how         axis     LM-First  0.635 0.299  0.876\n11 triangular text:how         longmire TM-First  0.618 0.289  0.865\n12 triangular text:how         longmire LM-First  0.708 0.376  0.907\n13 triangular img:static       axis     TM-First  0.371 0.130  0.704\n14 triangular img:static       axis     LM-First  0.574 0.253  0.843\n15 triangular img:static       longmire TM-First  0.608 0.277  0.859\n16 triangular img:static       longmire LM-First  0.755 0.433  0.927\n17 triangular img:ixv          axis     TM-First  0.640 0.314  0.873\n18 triangular img:ixv          axis     LM-First  0.724 0.402  0.912\n19 triangular img:ixv          longmire TM-First  0.806 0.500  0.944\n20 triangular img:ixv          longmire LM-First  0.857 0.597  0.960\n```\n:::\n:::\n\n##### Inference TODO UPDATE\n\n##### Visualize\n\n::: {.cell}\n\n```{.r .cell-code}\n## | PLOT PARAMETERS \n\n#SJPLOT | MODEL | ODDS RATIO\nplot_model(m, vline.color = \"red\", \n           show.intercept = TRUE, \n           show.values = TRUE,\n           p.threshold = 0.1, #manually adjust to account for directional test\n           ci.lvl = 0.90 ) + #manually adjusted for directional test   \n  labs(title = \"Model Estimate | Odds Ratio\",\n       subtitle = \"\",\n       x = \"Condition\")\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-42-1.png){width=672}\n:::\n\n```{.r .cell-code}\n#EASYSTATS | MODEL | ODDS RATIO\n# result <- model_parameters(m, exponentiate = TRUE, component = \"all\")\n# plot(result)\n\n\n## | PLOT TESTS\n\nresult <- equivalence_test(m, rule = \"classic\", ci=0.9) #classic[tost], , bayes\nplot(result)\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-42-2.png){width=672}\n:::\n\n```{.r .cell-code}\n## | PLOT PREDICTIONS\n\n#SJPLOT | MODEL | PROBABILITIES\nplot_model(m, type=\"int\",\n           show.intercept = TRUE,\n           show.values = TRUE,\n           title = \"Model Prediction | Probability of Accurate Response\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[[1]]\n```\n:::\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-42-3.png){width=672}\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n\n[[2]]\n```\n:::\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-42-4.png){width=672}\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n\n[[3]]\n```\n:::\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-42-5.png){width=672}\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n\n[[4]]\n```\n:::\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-42-6.png){width=672}\n:::\n\n```{.r .cell-code}\n#PLOT MODEL PREDICTION\n# plot_model(m, type = \"pred\")  \n# plot_model(m, type = \"eff\")  \n  # ylim(0,1) + \n  # labs(\n  #   title = \"Model Prediction | Probability of Accurate Response\",\n  #   subtitle = \"Impasse increases Probability of Correct Response\"\n  # )\n\n#TODO EMMEANS for the estimated marginal means OR USE IXN PLOT\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#SJPLOT | MODEL | TABLE\ntab_model(m)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table style=\"border-collapse:collapse; border:none;\">\n<tr>\n<th style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm;  text-align:left; \">&nbsp;</th>\n<th colspan=\"3\" style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; \">accuracy</th>\n</tr>\n<tr>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  text-align:left; \">Predictors</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">Odds Ratios</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">CI</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">p</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(Intercept)</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.40</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.18&nbsp;&ndash;&nbsp;0.88</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>0.023</strong></td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">pretty conditiontext *<br>what</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">2.39</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.76&nbsp;&ndash;&nbsp;7.55</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.136</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">pretty conditiontext *<br>how</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">1.47</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.49&nbsp;&ndash;&nbsp;4.42</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.490</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">pretty conditionimg *<br>static</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">1.50</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.49&nbsp;&ndash;&nbsp;4.62</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.476</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">pretty conditionimg * ixv</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">4.42</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">1.55&nbsp;&ndash;&nbsp;12.61</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>0.005</strong></td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">order [LM-First]</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.42</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.12&nbsp;&ndash;&nbsp;1.44</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.167</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">scenario [longmire]</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">3.09</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.99&nbsp;&ndash;&nbsp;9.65</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.052</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(pretty conditiontext *<br>what) * order [LM-First]</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">1.62</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.31&nbsp;&ndash;&nbsp;8.48</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.568</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(pretty conditiontext *<br>how) * order [LM-First]</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">7.15</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">1.33&nbsp;&ndash;&nbsp;38.38</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>0.022</strong></td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(pretty conditionimg *<br>static) * order<br>[LM-First]</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">5.34</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.99&nbsp;&ndash;&nbsp;28.73</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.051</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(pretty conditionimg *<br>ixv) * order [LM-First]</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">3.65</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.74&nbsp;&ndash;&nbsp;18.11</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.113</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(pretty conditiontext *<br>what) * scenario<br>[longmire]</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">1.25</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.24&nbsp;&ndash;&nbsp;6.68</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.791</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(pretty conditiontext *<br>how) * scenario<br>[longmire]</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.92</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.19&nbsp;&ndash;&nbsp;4.43</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.922</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(pretty conditionimg *<br>static) * scenario<br>[longmire]</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.84</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.17&nbsp;&ndash;&nbsp;4.18</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.831</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(pretty conditionimg *<br>ixv) * scenario<br>[longmire]</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.76</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.15&nbsp;&ndash;&nbsp;3.91</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.747</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">order [LM-First] *<br>scenario [longmire]</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">2.82</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.52&nbsp;&ndash;&nbsp;15.17</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.227</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(pretty conditiontext *<br>what * order [LM-First])<br>* scenario [longmire]</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.40</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.04&nbsp;&ndash;&nbsp;4.47</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.459</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(pretty conditiontext *<br>how * order [LM-First]) *<br>scenario [longmire]</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.18</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.02&nbsp;&ndash;&nbsp;1.78</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.141</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(pretty conditionimg *<br>static * order<br>[LM-First]) * scenario<br>[longmire]</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.32</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.03&nbsp;&ndash;&nbsp;3.32</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.337</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(pretty conditionimg *<br>ixv * order [LM-First]) *<br>scenario [longmire]</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.33</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.03&nbsp;&ndash;&nbsp;3.37</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.347</td>\n</tr>\n<tr>\n<td colspan=\"4\" style=\"font-weight:bold; text-align:left; padding-top:.8em;\">Random Effects</td>\n</tr>\n\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">&sigma;<sup>2</sup></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">3.29</td>\n</tr>\n\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">&tau;<sub>00</sub> <sub>subject</sub></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">2.22</td>\n\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">&tau;<sub>00</sub> <sub>q</sub></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">0.07</td>\n\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">ICC</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">0.41</td>\n\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">N <sub>subject</sub></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">316</td>\n\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">N <sub>q</sub></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">14</td>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm; border-top:1px solid;\">Observations</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;\" colspan=\"3\">4423</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">Marginal R<sup>2</sup> / Conditional R<sup>2</sup></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">0.108 / 0.475</td>\n</tr>\n\n</table>\n\n`````\n:::\n\n```{.r .cell-code}\n# #MODEL SUMMARY | save latex table\n# models <- list(\"odds ratios\" = m, \"(log odds)\" = m)\n# notes = list('\"* p < 0.05, ** p < 0.01, *** p < 0.001\"',\n#                'N(subject) = 133 $\\tau_{00}$(subject) = 34.85',\n#              'N(question) = 13 $\\tau_{00}$(question) = 1.14')\n# \n# modelsummary(models,\n#              exponentiate = c(TRUE, FALSE),\n#              shape = term ~ model + statistic,\n#              fmt = 2, #two digits w/ trailing zero\n#              estimate  = \"{estimate} {stars}\",\n#              statistic = \"conf.int\",\n#              gof_map = c(\"AIC\", \"sigma\"),\n#              gof_omit = 'RMSE|ICC|BIC',\n#              coef_rename = c(\"pretty_conditionimpasse\" = \"Condition[impasse]\"),\n#              title = 'Accuracy ~ Condition (Mixed Logistic Regression)',\n#              notes = notes,\n#              output = \"analysis/SGC3A/models/tables/GLMER_OverallAccuracy_online.tex\")\n# # #              # coef_omit = \"Intercept\",\n```\n:::\n\n##### Diagnostics\n\n::: {.cell}\n\n```{.r .cell-code}\n# print(\"SANITY CHECK REPORTING\")\n# report(m)\n\n# print(\"MODEL PERFORMANCE\")\n# performance(m)\n\nprint(\"DIAGNOSTICS\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"DIAGNOSTICS\"\n```\n:::\n\n```{.r .cell-code}\ncheck_model(m)\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-44-1.png){width=672}\n:::\n:::\n\n\n#### [no] LINEAR REGRESSION [ TRI SCORE ~ condition]\n\n[violates normality of residuals, and has issues with colinearity]\n##### Fit Model\n\n::: {.cell}\n\n```{.r .cell-code}\n# empty model \nm0 <- lm( triangular_score ~ 1, data = df_s)\n\n# CONDITION model \nm.C <- lm( triangular_score ~ pretty_condition, data = df_s)\npaste(\"Condition model better fit than empty?\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Condition model better fit than empty?\"\n```\n:::\n\n```{.r .cell-code}\ntest_lrt(m0,m.C)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# Likelihood-Ratio-Test (LRT) for Model Comparison (OLS-estimator)\n\nName | Model | df | df_diff |  Chi2 |      p\n--------------------------------------------\nm0   |    lm |  2 |         |       |       \nm.C  |    lm |  6 |       4 | 24.94 | < .001\n```\n:::\n\n```{.r .cell-code}\n# car::Anova(m.C) #main effects condition\n\n# CONDITION + ORDER + SCENARIO model \nm.COS <- lm( triangular_score ~ pretty_condition*tm_scenarios*order, data = df_s)\npaste(\"Condition*Order*Scenario model better fit than interactions model?\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Condition*Order*Scenario model better fit than interactions model?\"\n```\n:::\n\n```{.r .cell-code}\ntest_lrt(m.COS,m.C)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# Likelihood-Ratio-Test (LRT) for Model Comparison (OLS-estimator)\n\nName  | Model | df | df_diff |  Chi2 |      p\n---------------------------------------------\nm.COS |    lm | 21 |         |       |       \nm.C   |    lm |  6 |     -15 | 44.97 | < .001\n```\n:::\n\n```{.r .cell-code}\ncar::Anova(m.COS, type = 3) #main effects condition, order scenario, scenario\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nAnova Table (Type III tests)\n\nResponse: triangular_score\n                                    Sum Sq  Df F value  Pr(>F)    \n(Intercept)                            553   1   32.67 2.7e-08 ***\npretty_condition                       151   4    2.24   0.065 .  \ntm_scenarios                            58   1    3.41   0.066 .  \norder                                   14   1    0.85   0.357    \npretty_condition:tm_scenarios            4   4    0.07   0.992    \npretty_condition:order                 103   4    1.51   0.198    \ntm_scenarios:order                      13   1    0.78   0.377    \npretty_condition:tm_scenarios:order     28   4    0.41   0.799    \nResiduals                             5015 296                    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n```\n:::\n\n```{.r .cell-code}\n#no interactions were significant; weak main effects\n\n# #MAIN EFFECTS ONLY MODEL\n# m.COS <- lm( triangular_score ~ pretty_condition+order+tm_scenarios, data = df_s)\n# paste(\"Condition+Order+Scenario model better fit than interaction model?\")\n# test_lrt(m.C.O.S,m.COS)\n```\n:::\n\nThe best fitting model includes main effects CONDITION, ORDER and SCENARIO. \n\n\n##### Describe\n\n::: {.cell}\n\n```{.r .cell-code}\n# best model\nm <- m.COS\n\n#::::::::: PRINT MODEL \n\nprint(\"PREDICTOR MODEL\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"PREDICTOR MODEL\"\n```\n:::\n\n```{.r .cell-code}\nsummary(m)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nlm(formula = triangular_score ~ pretty_condition * tm_scenarios * \n    order, data = df_s)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-10.500  -3.308   0.775   2.817   7.692 \n\nCoefficients:\n                                                              Estimate\n(Intercept)                                                    5.70588\npretty_conditiontext:what                                      2.16078\npretty_conditiontext:how                                       0.84967\npretty_conditionimg:static                                     0.73162\npretty_conditionimg:ixv                                        3.52139\ntm_scenarioslongmire                                           2.69412\norderLM-First                                                 -1.39819\npretty_conditiontext:what:tm_scenarioslongmire                 0.66998\npretty_conditiontext:how:tm_scenarioslongmire                 -0.02745\npretty_conditionimg:static:tm_scenarioslongmire               -0.00662\npretty_conditionimg:ixv:tm_scenarioslongmire                  -0.42139\npretty_conditiontext:what:orderLM-First                        0.43152\npretty_conditiontext:how:orderLM-First                         4.04263\npretty_conditionimg:static:orderLM-First                       3.33569\npretty_conditionimg:ixv:orderLM-First                          2.67092\ntm_scenarioslongmire:orderLM-First                             1.87319\npretty_conditiontext:what:tm_scenarioslongmire:orderLM-First  -1.41002\npretty_conditiontext:how:tm_scenarioslongmire:orderLM-First   -3.60652\npretty_conditionimg:static:tm_scenarioslongmire:orderLM-First -2.36426\npretty_conditionimg:ixv:tm_scenarioslongmire:orderLM-First    -2.39592\n                                                              Std. Error\n(Intercept)                                                      0.99827\npretty_conditiontext:what                                        1.45806\npretty_conditiontext:how                                         1.39202\npretty_conditionimg:static                                       1.43365\npretty_conditionimg:ixv                                          1.32913\ntm_scenarioslongmire                                             1.45806\norderLM-First                                                    1.51648\npretty_conditiontext:what:tm_scenarioslongmire                   2.13507\npretty_conditiontext:how:tm_scenarioslongmire                    2.00208\npretty_conditionimg:static:tm_scenarioslongmire                  2.06000\npretty_conditionimg:ixv:tm_scenarioslongmire                     2.07552\npretty_conditiontext:what:orderLM-First                          2.06789\npretty_conditiontext:how:orderLM-First                           2.09053\npretty_conditionimg:static:orderLM-First                         2.10175\npretty_conditionimg:ixv:orderLM-First                            2.00273\ntm_scenarioslongmire:orderLM-First                               2.11848\npretty_conditiontext:what:tm_scenarioslongmire:orderLM-First     3.05085\npretty_conditiontext:how:tm_scenarioslongmire:orderLM-First      2.93754\npretty_conditionimg:static:tm_scenarioslongmire:orderLM-First    2.97901\npretty_conditionimg:ixv:tm_scenarioslongmire:orderLM-First       2.94445\n                                                              t value Pr(>|t|)\n(Intercept)                                                      5.72  2.7e-08\npretty_conditiontext:what                                        1.48   0.1394\npretty_conditiontext:how                                         0.61   0.5421\npretty_conditionimg:static                                       0.51   0.6102\npretty_conditionimg:ixv                                          2.65   0.0085\ntm_scenarioslongmire                                             1.85   0.0656\norderLM-First                                                   -0.92   0.3573\npretty_conditiontext:what:tm_scenarioslongmire                   0.31   0.7539\npretty_conditiontext:how:tm_scenarioslongmire                   -0.01   0.9891\npretty_conditionimg:static:tm_scenarioslongmire                  0.00   0.9974\npretty_conditionimg:ixv:tm_scenarioslongmire                    -0.20   0.8393\npretty_conditiontext:what:orderLM-First                          0.21   0.8348\npretty_conditiontext:how:orderLM-First                           1.93   0.0541\npretty_conditionimg:static:orderLM-First                         1.59   0.1136\npretty_conditionimg:ixv:orderLM-First                            1.33   0.1833\ntm_scenarioslongmire:orderLM-First                               0.88   0.3773\npretty_conditiontext:what:tm_scenarioslongmire:orderLM-First    -0.46   0.6443\npretty_conditiontext:how:tm_scenarioslongmire:orderLM-First     -1.23   0.2205\npretty_conditionimg:static:tm_scenarioslongmire:orderLM-First   -0.79   0.4280\npretty_conditionimg:ixv:tm_scenarioslongmire:orderLM-First      -0.81   0.4165\n                                                                 \n(Intercept)                                                   ***\npretty_conditiontext:what                                        \npretty_conditiontext:how                                         \npretty_conditionimg:static                                       \npretty_conditionimg:ixv                                       ** \ntm_scenarioslongmire                                          .  \norderLM-First                                                    \npretty_conditiontext:what:tm_scenarioslongmire                   \npretty_conditiontext:how:tm_scenarioslongmire                    \npretty_conditionimg:static:tm_scenarioslongmire                  \npretty_conditionimg:ixv:tm_scenarioslongmire                     \npretty_conditiontext:what:orderLM-First                          \npretty_conditiontext:how:orderLM-First                        .  \npretty_conditionimg:static:orderLM-First                         \npretty_conditionimg:ixv:orderLM-First                            \ntm_scenarioslongmire:orderLM-First                               \npretty_conditiontext:what:tm_scenarioslongmire:orderLM-First     \npretty_conditiontext:how:tm_scenarioslongmire:orderLM-First      \npretty_conditionimg:static:tm_scenarioslongmire:orderLM-First    \npretty_conditionimg:ixv:tm_scenarioslongmire:orderLM-First       \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 4.12 on 296 degrees of freedom\nMultiple R-squared:  0.196,\tAdjusted R-squared:  0.145 \nF-statistic: 3.81 on 19 and 296 DF,  p-value: 3.47e-07\n```\n:::\n\n```{.r .cell-code}\nprint(\"SIGNIFICANCE TEST [non directional]\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"SIGNIFICANCE TEST [non directional]\"\n```\n:::\n\n```{.r .cell-code}\ncar::Anova(m, type=3) #TYPE 3 SS FOR IXNS\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nAnova Table (Type III tests)\n\nResponse: triangular_score\n                                    Sum Sq  Df F value  Pr(>F)    \n(Intercept)                            553   1   32.67 2.7e-08 ***\npretty_condition                       151   4    2.24   0.065 .  \ntm_scenarios                            58   1    3.41   0.066 .  \norder                                   14   1    0.85   0.357    \npretty_condition:tm_scenarios            4   4    0.07   0.992    \npretty_condition:order                 103   4    1.51   0.198    \ntm_scenarios:order                      13   1    0.78   0.377    \npretty_condition:tm_scenarios:order     28   4    0.41   0.799    \nResiduals                             5015 296                    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n```\n:::\n\n```{.r .cell-code}\n#:::::::: MANUAL ONE-SIDED SIGTEST \n#note: anova and chi square are always one-tailed, but that is independent of being one-sided\n#https://www.ibm.com/support/pages/can-one-get-one-tailed-tests-logistic-regression-dividing-significance-levels-half\n\n# one-sided (right tail) z test for B COEFFICIENT\n#SANITY CHECK 2-tailed test should match the model output\n#NOTE ... NEED TO DO THIS FOR _EACH_ COEFFICIENT\n# tt <- 2*pnorm(summary(m)$coefficients[2,3], lower.tail = F)\n# paste(\"p value for two-tailed test, null B = 0 : \",round(tt,5))\n# ot <- pnorm(summary(m)$coefficients[2,3], lower.tail = F)\n# paste(\"BUT we want a one  directional, null: B <= 0: \",round(ot,5))\n\n#:::::::: INTERPRET COEFFICIENTS\ntidy(m,   conf.int = TRUE, conf.level = 0.95, conf.method = \"Wald\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 20 × 7\n   term                  estimate std.error statistic p.value conf.low conf.high\n   <chr>                    <dbl>     <dbl>     <dbl>   <dbl>    <dbl>     <dbl>\n 1 (Intercept)            5.71        0.998   5.72    2.66e-8   3.74        7.67\n 2 pretty_conditiontext…  2.16        1.46    1.48    1.39e-1  -0.709       5.03\n 3 pretty_conditiontext…  0.850       1.39    0.610   5.42e-1  -1.89        3.59\n 4 pretty_conditionimg:…  0.732       1.43    0.510   6.10e-1  -2.09        3.55\n 5 pretty_conditionimg:…  3.52        1.33    2.65    8.50e-3   0.906       6.14\n 6 tm_scenarioslongmire   2.69        1.46    1.85    6.56e-2  -0.175       5.56\n 7 orderLM-First         -1.40        1.52   -0.922   3.57e-1  -4.38        1.59\n 8 pretty_conditiontext…  0.670       2.14    0.314   7.54e-1  -3.53        4.87\n 9 pretty_conditiontext… -0.0275      2.00   -0.0137  9.89e-1  -3.97        3.91\n10 pretty_conditionimg:… -0.00662     2.06   -0.00321 9.97e-1  -4.06        4.05\n11 pretty_conditionimg:… -0.421       2.08   -0.203   8.39e-1  -4.51        3.66\n12 pretty_conditiontext…  0.432       2.07    0.209   8.35e-1  -3.64        4.50\n13 pretty_conditiontext…  4.04        2.09    1.93    5.41e-2  -0.0715      8.16\n14 pretty_conditionimg:…  3.34        2.10    1.59    1.14e-1  -0.801       7.47\n15 pretty_conditionimg:…  2.67        2.00    1.33    1.83e-1  -1.27        6.61\n16 tm_scenarioslongmire…  1.87        2.12    0.884   3.77e-1  -2.30        6.04\n17 pretty_conditiontext… -1.41        3.05   -0.462   6.44e-1  -7.41        4.59\n18 pretty_conditiontext… -3.61        2.94   -1.23    2.21e-1  -9.39        2.17\n19 pretty_conditionimg:… -2.36        2.98   -0.794   4.28e-1  -8.23        3.50\n20 pretty_conditionimg:… -2.40        2.94   -0.814   4.16e-1  -8.19        3.40\n```\n:::\n\n```{.r .cell-code}\npaste(\"PROBABILITIES\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"PROBABILITIES\"\n```\n:::\n\n```{.r .cell-code}\n#probability control = plogis(intercept)\n#probability impasse = plogis(intercept + coefficient)\n\n#FROM predict()\nnewdata <- df_s %>% dplyr::select(pretty_condition, order, tm_scenarios, subject)\npreds <- predict(m, newdata = newdata, type = \"response\")\npreds <- cbind(newdata, preds)\n(p <- preds %>%\n  group_by(pretty_condition, order, tm_scenarios) %>%\n  dplyr::summarise(\n    median = median(preds),\n    se = sd(preds)/sqrt(n()),\n    lwr = median - 1.96*se,\n    upr = median + 1.96*se))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 20 × 7\n# Groups:   pretty_condition, order [10]\n   pretty_condition order    tm_scenarios median    se   lwr   upr\n   <fct>            <fct>    <fct>         <dbl> <dbl> <dbl> <dbl>\n 1 control          TM-First axis           5.71     0  5.71  5.71\n 2 control          TM-First longmire       8.40     0  8.40  8.40\n 3 control          LM-First axis           4.31     0  4.31  4.31\n 4 control          LM-First longmire       8.88     0  8.88  8.88\n 5 text:what        TM-First axis           7.87     0  7.87  7.87\n 6 text:what        TM-First longmire      11.2      0 11.2  11.2 \n 7 text:what        LM-First axis           6.9      0  6.9   6.9 \n 8 text:what        LM-First longmire      10.7      0 10.7  10.7 \n 9 text:how         TM-First axis           6.56     0  6.56  6.56\n10 text:how         TM-First longmire       9.22     0  9.22  9.22\n11 text:how         LM-First axis           9.2      0  9.2   9.2 \n12 text:how         LM-First longmire      10.1      0 10.1  10.1 \n13 img:static       TM-First axis           6.44     0  6.44  6.44\n14 img:static       TM-First longmire       9.13     0  9.13  9.13\n15 img:static       LM-First axis           8.37     0  8.37  8.37\n16 img:static       LM-First longmire      10.6      0 10.6  10.6 \n17 img:ixv          TM-First axis           9.23     0  9.23  9.23\n18 img:ixv          TM-First longmire      11.5      0 11.5  11.5 \n19 img:ixv          LM-First axis          10.5      0 10.5  10.5 \n20 img:ixv          LM-First longmire      12.3      0 12.3  12.3 \n```\n:::\n:::\n\n\n##### Visualize\n\n::: {.cell}\n\n```{.r .cell-code}\n## | PLOT PARAMETERS \n\n#SJPLOT | MODEL | ODDS RATIO\nplot_model(m, vline.color = \"red\", \n           show.intercept = TRUE, \n           show.values = TRUE,\n           p.threshold = 0.1, #manually adjust to account for directional test\n           ci.lvl = 0.90 ) + #manually adjusted for directional test   \n  labs(title = \"Model Estimate | Score Difference (TRI - LIN)\",\n       subtitle = \"\",\n       x = \"Condition\")\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-47-1.png){width=672}\n:::\n\n```{.r .cell-code}\n#EASYSTATS | MODEL | ODDS RATIO\n# result <- model_parameters(m, exponentiate = TRUE, component = \"all\")\n# plot(result)\n\n\n## | PLOT TESTS\n\nresult <- equivalence_test(m, rule = \"classic\", ci=0.9) #classic[tost], , bayes\nplot(result)\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-47-2.png){width=672}\n:::\n\n```{.r .cell-code}\n## | PLOT PREDICTIONS\n\n#SJPLOT | MODEL | PROBABILITIES\nplot_model(m, type=\"eff\",\n           show.intercept = TRUE,\n           show.values = TRUE,\n           title = \"Model Prediction | Probability of Accurate Response\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n$pretty_condition\n```\n:::\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-47-3.png){width=672}\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n\n$tm_scenarios\n```\n:::\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-47-4.png){width=672}\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n\n$order\n```\n:::\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-47-5.png){width=672}\n:::\n\n```{.r .cell-code}\n#PLOT MODEL PREDICTION\n# plot_model(m, type = \"pred\")  \n# plot_model(m, type = \"eff\")  \n  # ylim(0,1) + \n  # labs(\n  #   title = \"Model Prediction | Probability of Accurate Response\",\n  #   subtitle = \"Impasse increases Probability of Correct Response\"\n  # )\n\n## | PLOT INTERACTIONS\nplot_model(m.C.O.S, type=\"int\",\n           show.intercept = TRUE,\n           show.values = TRUE,\n           title = \"Model Prediction | Probability of Accurate Response\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[[1]]\n```\n:::\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-47-6.png){width=672}\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n\n[[2]]\n```\n:::\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-47-7.png){width=672}\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n\n[[3]]\n```\n:::\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-47-8.png){width=672}\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n\n[[4]]\n```\n:::\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-47-9.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#SJPLOT | MODEL | TABLE\ntab_model(m)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table style=\"border-collapse:collapse; border:none;\">\n<tr>\n<th style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm;  text-align:left; \">&nbsp;</th>\n<th colspan=\"3\" style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; \">triangular score</th>\n</tr>\n<tr>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  text-align:left; \">Predictors</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">Estimates</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">CI</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">p</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(Intercept)</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">5.71</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">3.74&nbsp;&ndash;&nbsp;7.67</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>&lt;0.001</strong></td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">pretty conditiontext *<br>what</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">2.16</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;0.71&nbsp;&ndash;&nbsp;5.03</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.139</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">pretty conditiontext *<br>how</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.85</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;1.89&nbsp;&ndash;&nbsp;3.59</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.542</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">pretty conditionimg *<br>static</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.73</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;2.09&nbsp;&ndash;&nbsp;3.55</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.610</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">pretty conditionimg * ixv</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">3.52</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.91&nbsp;&ndash;&nbsp;6.14</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>0.008</strong></td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">tm scenarios [longmire]</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">2.69</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;0.18&nbsp;&ndash;&nbsp;5.56</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.066</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">order [LM-First]</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;1.40</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;4.38&nbsp;&ndash;&nbsp;1.59</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.357</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(pretty conditiontext *<br>what) * tm scenarios<br>[longmire]</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.67</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;3.53&nbsp;&ndash;&nbsp;4.87</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.754</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(pretty conditiontext *<br>how) * tm scenarios<br>[longmire]</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;0.03</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;3.97&nbsp;&ndash;&nbsp;3.91</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.989</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(pretty conditionimg *<br>static) * tm scenarios<br>[longmire]</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;0.01</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;4.06&nbsp;&ndash;&nbsp;4.05</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.997</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(pretty conditionimg *<br>ixv) * tm scenarios<br>[longmire]</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;0.42</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;4.51&nbsp;&ndash;&nbsp;3.66</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.839</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(pretty conditiontext *<br>what) * order [LM-First]</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.43</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;3.64&nbsp;&ndash;&nbsp;4.50</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.835</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(pretty conditiontext *<br>how) * order [LM-First]</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">4.04</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;0.07&nbsp;&ndash;&nbsp;8.16</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.054</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(pretty conditionimg *<br>static) * order<br>[LM-First]</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">3.34</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;0.80&nbsp;&ndash;&nbsp;7.47</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.114</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(pretty conditionimg *<br>ixv) * order [LM-First]</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">2.67</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;1.27&nbsp;&ndash;&nbsp;6.61</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.183</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">tm scenarios [longmire] *<br>order [LM-First]</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">1.87</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;2.30&nbsp;&ndash;&nbsp;6.04</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.377</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(pretty conditiontext *<br>what * tm scenarios<br>[longmire]) * order<br>[LM-First]</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;1.41</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;7.41&nbsp;&ndash;&nbsp;4.59</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.644</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(pretty conditiontext *<br>how * tm scenarios<br>[longmire]) * order<br>[LM-First]</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;3.61</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;9.39&nbsp;&ndash;&nbsp;2.17</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.221</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(pretty conditionimg *<br>static * tm scenarios<br>[longmire]) * order<br>[LM-First]</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;2.36</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;8.23&nbsp;&ndash;&nbsp;3.50</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.428</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(pretty conditionimg *<br>ixv * tm scenarios<br>[longmire]) * order<br>[LM-First]</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;2.40</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;8.19&nbsp;&ndash;&nbsp;3.40</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.416</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm; border-top:1px solid;\">Observations</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;\" colspan=\"3\">316</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">R<sup>2</sup> / R<sup>2</sup> adjusted</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">0.196 / 0.145</td>\n</tr>\n\n</table>\n\n`````\n:::\n\n```{.r .cell-code}\n# #MODEL SUMMARY | save latex table\n# models <- list(\"odds ratios\" = m, \"(log odds)\" = m)\n# notes = list('\"* p < 0.05, ** p < 0.01, *** p < 0.001\"',\n#                'N(subject) = 133 $\\tau_{00}$(subject) = 34.85',\n#              'N(question) = 13 $\\tau_{00}$(question) = 1.14')\n# \n# modelsummary(models,\n#              exponentiate = c(TRUE, FALSE),\n#              shape = term ~ model + statistic,\n#              fmt = 2, #two digits w/ trailing zero\n#              estimate  = \"{estimate} {stars}\",\n#              statistic = \"conf.int\",\n#              gof_map = c(\"AIC\", \"sigma\"),\n#              gof_omit = 'RMSE|ICC|BIC',\n#              coef_rename = c(\"pretty_conditionimpasse\" = \"Condition[impasse]\"),\n#              title = 'Accuracy ~ Condition (Mixed Logistic Regression)',\n#              notes = notes,\n#              output = \"analysis/SGC3A/models/tables/GLMER_OverallAccuracy_online.tex\")\n# # #              # coef_omit = \"Intercept\",\n```\n:::\n\n\n\n#### Diagnostics\n\n::: {.cell}\n\n```{.r .cell-code}\n#DIAGNOSTICS\ncheck_model(m)\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-49-1.png){width=672}\n:::\n:::\n\n\n\n\n\n\n\n\n\n\n\n\n\n### H2 \\| Realizing Computational Efficiency ------ TIME EFFICIENCY\n\n#### Setup\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_s <- df_subjects \ndf_i <- df_items \n```\n:::\n\n\n\n#### Visualize\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggpubr)\nggboxplot(df_s, x = \"pretty_condition\", y = \"time_diff\", \n          color = \"pretty_condition\", \n          # palette = c(\"#00AFBB\", \"#E7B800\", \"#FC4E07\"),\n          # order = c(\"ctrl\", \"trt1\", \"trt2\"),\n          title = \"DIFFERENCE IN TIME by Condition\",\n          ylab = \"TRI - LINEAR TIME (seconds)\", xlab = \"Condition\") +\n  geom_hline(yintercept = 0, color = \"black\") + \n  geom_jitter( aes(color = pretty_condition), width = 0.15, alpha = 0.5) +\n  # facet_wrap(order~ tm_scenarios) +\n  easy_remove_legend() + theme_clean()\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-51-1.png){width=672}\n:::\n:::\n\n#### Model Response time for CORRECT answers\n\n**Is the TRIANGULAR graph FASTER for correct answers? (i.e. computational efficiency)**\n\n::: {.cell}\n\n```{.r .cell-code}\n#GET ONLY CORRECT ITEMS in TEST phase \ndf <- df_items %>% filter(q %nin% c(1,2,3,4,5)) %>% filter(score == 1)\n\ntable (df$pretty_condition)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n   control  text:what   text:how img:static    img:ixv \n       677        754        827        777        934 \n```\n:::\n\n```{.r .cell-code}\n# Box plots\n# ++++++++++++++++++++\nggplot( data = df, aes( x = pretty_condition, y = rt_sec, color = graph )) + \n  geom_boxplot(position = position_dodge()) \n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-52-1.png){width=672}\n:::\n\n```{.r .cell-code}\n  # geom_point( alpha = 0.2, position = position_dodge(width = 2))\n\n\n## Does GRAPH predict rt_sec for correct items?\nm <- lmer( log(rt_sec) ~ graph + (1|q), data = df)\nsummary(m)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nLinear mixed model fit by REML. t-tests use Satterthwaite's method [\nlmerModLmerTest]\nFormula: log(rt_sec) ~ graph + (1 | q)\n   Data: df\n\nREML criterion at convergence: 6398\n\nScaled residuals: \n   Min     1Q Median     3Q    Max \n-2.995 -0.716  0.030  0.670  4.072 \n\nRandom effects:\n Groups   Name        Variance Std.Dev.\n q        (Intercept) 0.000729 0.027   \n Residual             0.292173 0.541   \nNumber of obs: 3969, groups:  q, 10\n\nFixed effects:\n                Estimate Std. Error       df t value Pr(>|t|)    \n(Intercept)     3.43e+00   1.45e-02 1.82e+01  237.00   <2e-16 ***\ngraphtriangular 6.45e-03   1.72e-02 3.96e+03    0.37     0.71    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nCorrelation of Fixed Effects:\n            (Intr)\ngraphtrnglr -0.548\n```\n:::\n\n```{.r .cell-code}\ncar::Anova(m)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nAnalysis of Deviance Table (Type II Wald chisquare tests)\n\nResponse: log(rt_sec)\n      Chisq Df Pr(>Chisq)\ngraph  0.14  1       0.71\n```\n:::\n\n```{.r .cell-code}\nplot_model(m, type = \"pred\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nModel has log-transformed response. Back-transforming predictions to original response scale. Standard errors are still on the log-scale.\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n$graph\n```\n:::\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-52-2.png){width=672}\n:::\n:::\n\nA mixed log-linear model predicting response time by GRAPH for only CORRECT items in the test phase (i.e. without scaffolding text or images) indicates that there is not a significant difference between response times for linear and orthogonal graphs.\n\n#### Model Response time for by ACCURACY on TRIANGLE graph (Test Phase)\n\n**Are *correct* answers FASTER than *incorrect* answers for the TRIANGULAR graph? (i.e. computational inefficiency of mental projection/transformation)**\n\n::: {.cell}\n\n```{.r .cell-code}\n#GET ONLY CORRECT ITEMS in TEST phase \ndf <- df_items %>% filter(q %nin% c(1,2,3,4,5)) %>% filter(graph==\"triangular\")\n\ntable (df$pretty_condition)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n   control  text:what   text:how img:static    img:ixv \n       610        590        660        619        680 \n```\n:::\n\n```{.r .cell-code}\n# ++++++++++++++++++++\nggplot( data = df, aes( x = pretty_condition, y = rt_sec, color = score )) + \n  geom_boxplot(position = position_dodge()) \n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-53-1.png){width=672}\n:::\n\n```{.r .cell-code}\n  # geom_point( alpha = 0.2, position = position_dodge(width = 2))\n\n\ngf_histogram(~log(rt_sec), data = df) %>% \n  gf_facet_grid(score ~ .)\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-53-2.png){width=672}\n:::\n\n```{.r .cell-code}\n## Does ACCURACY predict rt_sec for correct items?\nm <- lmer( log(rt_sec) ~ accuracy + (1|q), data = df)\nsummary(m)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nLinear mixed model fit by REML. t-tests use Satterthwaite's method [\nlmerModLmerTest]\nFormula: log(rt_sec) ~ accuracy + (1 | q)\n   Data: df\n\nREML criterion at convergence: 5920\n\nScaled residuals: \n   Min     1Q Median     3Q    Max \n-4.929 -0.656  0.028  0.683  3.680 \n\nRandom effects:\n Groups   Name        Variance Std.Dev.\n q        (Intercept) 0.00515  0.0718  \n Residual             0.37835  0.6151  \nNumber of obs: 3159, groups:  q, 10\n\nFixed effects:\n             Estimate Std. Error        df t value Pr(>|t|)    \n(Intercept)    3.7155     0.0283   14.2947   131.3   <2e-16 ***\naccuracy1     -0.2773     0.0222 3149.8835   -12.5   <2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nCorrelation of Fixed Effects:\n          (Intr)\naccuracy1 -0.455\n```\n:::\n\n```{.r .cell-code}\ncar::Anova(m)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nAnalysis of Deviance Table (Type II Wald chisquare tests)\n\nResponse: log(rt_sec)\n         Chisq Df Pr(>Chisq)    \naccuracy   156  1     <2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n```\n:::\n\n```{.r .cell-code}\nplot_model(m, type = \"pred\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nModel has log-transformed response. Back-transforming predictions to original response scale. Standard errors are still on the log-scale.\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n$accuracy\n```\n:::\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-53-3.png){width=672}\n:::\n:::\n\nA mixed log-linear model predicting response time by GRAPH for only CORRECT items in the test phase (i.e. without scaffolding text or images) indicates that there is not a significant difference between response times for linear and orthogonal graphs.\n\n## !! USE THIS H3 \\| The Effectiveness of Scaffolding\n\n**Hypothesis** All of the designs offered by participants in Study 1 are promising. We expect that only a small amount of scaffolding (a little nudge) will be required to help readers correctly interpret the graph. We predict that learners with (any form of) scaffolding will perform better with the TM than readers in the CONTROL condition.\n\n#### Setup\n\n::: {.cell}\n\n```{.r .cell-code}\n#FILTER THE DATASET\n#only control condition \ndf_s <- df_subjects \n\ndf_long <- df_s %>% dplyr::select(subject,pretty_condition,order,lm_scenarios,tm_scenarios,linear_score, triangular_score) %>% pivot_longer(\n  cols = ends_with(\"score\"),\n  names_to = \"graph\",\n  values_to = \"score\"\n)\n\ndf_i <- df_items %>% filter(q %nin% c(3))\n```\n:::\n\n#### Visualize\n\n::: {.cell}\n\n```{.r .cell-code}\n## HISTOGRAM\ngf_histogram( ~ triangular_score, fill = ~pretty_condition, binwidth = 1, data = df_s) %>%\n  gf_facet_grid(pretty_condition ~ .)\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-55-1.png){width=672}\n:::\n\n```{.r .cell-code}\n## MEDIANS\nggbetweenstats( y = triangular_score, x = pretty_condition, data = df_s, \n                type = \"nonparametric\",   var.equal = FALSE,\n                pairwise.comparisons = TRUE,\n                pairwise.display = \"significant\",\n                p.adjust.method = \"none\"\n)\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-55-2.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Box plots\n# ++++++++++++++++++++\n# Plot weight by group and color by group\nlibrary(\"ggpubr\")\nggboxplot(df_s, x = \"pretty_condition\", y = \"linear_score\", \n          color = \"pretty_condition\", \n          # palette = c(\"#00AFBB\", \"#E7B800\", \"#FC4E07\"),\n          # order = c(\"ctrl\", \"trt1\", \"trt2\"),\n          title = \"LINEAR Graph Scores by Condition\",\n          subtitle = \"No effect of condition, order or scenario\",\n          ylab = \"Linear Score [0,15]\", xlab = \"Condition\") +\n  geom_jitter( aes(color = pretty_condition), width = 0.15, alpha = 0.5) +\n  facet_wrap(order~ tm_scenarios)+\n  easy_remove_legend() + theme_clean()\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-56-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Box plots\n# ++++++++++++++++++++\n# Plot weight by group and color by group\nlibrary(\"ggpubr\")\nggboxplot(df_s, x = \"pretty_condition\", y = \"triangular_score\", \n          color = \"pretty_condition\", \n          # palette = c(\"#00AFBB\", \"#E7B800\", \"#FC4E07\"),\n          # order = c(\"ctrl\", \"trt1\", \"trt2\"),\n          title = \"TRIANGULE Graph Scores by Condition\",\n          subtitle = \"Clear effect of condition, possible ixn scenario\",\n          ylab = \"Triangular Score [0,15]\", xlab = \"Condition\") +\n  geom_jitter( aes(color = pretty_condition), width = 0.15, alpha = 0.5) +\n  facet_wrap(order~ tm_scenarios)+\n  easy_remove_legend() + theme_clean()\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-57-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#:::::::: STACKED PROPORTIONAL BAR CHART\ndf_i %>% \n  ggplot(data = .,\n         mapping = aes(x = pretty_condition,\n                       fill = accuracy)) +\n  geom_bar(position = \"fill\" ) + #,color = \"black\") +\n  scale_fill_brewer(palette = \"Set1\")  +\n  facet_wrap(order~graph) + \n   labs(title = \"Accuracy by Graph and Order\",\n       x = \"Condition\",\n       subtitle=\"Across graph orders, Accuracy is higher on the LINEAR than TRIANGULAR graph.\")\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/VIS-acc-1.png){width=672}\n:::\n\n```{.r .cell-code}\n#:::::::: STACKED PROPORTIONAL BAR CHART\ndf_i %>% \n  ggplot(data = .,\n         mapping = aes(x = pretty_condition,\n                       fill = accuracy)) +\n  geom_bar(position = \"fill\" ) + #,color = \"black\") +\n  scale_fill_brewer(palette = \"Set1\")  +\n  facet_wrap(scenario ~ graph) + \n   labs(title = \"Accuracy by Graph and Scenario\",\n       x = \"Condition\",\n       subtitle=\"Accuracy is higher on the LINEAR than TRIANGULAR graph; much lower for TM = AXIS scenario.\")\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/VIS-acc-2.png){width=672}\n:::\n\n```{.r .cell-code}\n# ##VERTICAL RAINCLOUD USING GGDISTR\n# ggplot(df_long, aes(x = graph, y = score,\n#                         fill = graph) ) + \n#   ggdist::stat_halfeye(\n#     side = \"left\",\n#     justification = 1.1,\n#     width = 1, \n#     point_colour = NA\n#    ) + \n#   geom_boxplot(\n#     inherit.aes = FALSE, #supress fill\n#     mapping = aes(x=graph, y = score),\n#     width = .15, \n#     outlier.shape = NA\n#   ) + \n#   geom_point(\n#     inherit.aes = FALSE, #supress fill\n#     mapping = aes(x=graph, y = score, color = graph),\n#     size = 1.3,\n#     alpha = .3,\n#     position = position_jitter( \n#       seed = 1, width = .05\n#   )) + labs( \n#     title = \"Distribution of scores in CONTROL condition\", \n#     x = \"Condition\", y = \"Score (# correct)\") +\n#   theme(legend.position = \"blank\") + \n#   coord_cartesian(xlim = c(0.5, NA), clip = \"off\")\n\n\n#DISTRIBUTION OF SCORE DIFFERENCE\ngf_dhistogram(~score_diff, fill = ~pretty_condition, data = df_s) %>% \n  gf_facet_grid(pretty_condition ~ order) +\n  xlim(-13,5) + \n  labs(title = \"Distribution of paired score differences by CONDITION and ORDER\") + \n  easy_remove_legend() \n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 20 rows containing missing values (geom_bar).\n```\n:::\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/VIS-acc-3.png){width=672}\n:::\n\n```{.r .cell-code}\n#DISTRIBUTION OF SCORE DIFFERENCE\ngf_dhistogram(~score_diff, fill = ~pretty_condition, data = df_s) %>% \n  gf_facet_grid(pretty_condition ~ tm_scenarios) +\n  xlim(-13,5) + \n  labs(title = \"Distribution of paired score differences by CONDITION and TM SCENARIO\") + \n  easy_remove_legend() \n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 20 rows containing missing values (geom_bar).\n```\n:::\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/VIS-acc-4.png){width=672}\n:::\n:::\n\n#### Describe\n\n::: {.cell}\n\n```{.r .cell-code}\ntitle = \"Descriptive Statistics of Response Accuracy by Block (CONTROL Condition)\"\nabs.stats <- rbind(\n  \"linear.block\"= df_s %>% dplyr::select(linear_score) %>% unlist() %>% favstats(),\n  \"triangular.block\" = df_s %>% dplyr::select(triangular_score) %>% unlist() %>% favstats(),\n  \"block.differences\" = df_s %>% dplyr::select(score_diff) %>% unlist() %>% favstats()\n)\n\nabs.stats %>% kbl (caption = title) %>% kable_classic() %>%\n  footnote(general = \"block # questions correct [0,15]; DIFF = triangular - linear\",\n           general_title = \"Note: \",footnote_as_chunk = T)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-classic\" style='font-family: \"Arial Narrow\", \"Source Sans Pro\", sans-serif; margin-left: auto; margin-right: auto;border-bottom: 0;'>\n<caption>Descriptive Statistics of Response Accuracy by Block (CONTROL Condition)</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\">   </th>\n   <th style=\"text-align:right;\"> min </th>\n   <th style=\"text-align:right;\"> Q1 </th>\n   <th style=\"text-align:right;\"> median </th>\n   <th style=\"text-align:right;\"> Q3 </th>\n   <th style=\"text-align:right;\"> max </th>\n   <th style=\"text-align:right;\"> mean </th>\n   <th style=\"text-align:right;\"> sd </th>\n   <th style=\"text-align:right;\"> n </th>\n   <th style=\"text-align:right;\"> missing </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> linear.block </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 10 </td>\n   <td style=\"text-align:right;\"> 11 </td>\n   <td style=\"text-align:right;\"> 13 </td>\n   <td style=\"text-align:right;\"> 15 </td>\n   <td style=\"text-align:right;\"> 10.95 </td>\n   <td style=\"text-align:right;\"> 2.13 </td>\n   <td style=\"text-align:right;\"> 316 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> triangular.block </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 10 </td>\n   <td style=\"text-align:right;\"> 12 </td>\n   <td style=\"text-align:right;\"> 15 </td>\n   <td style=\"text-align:right;\"> 8.77 </td>\n   <td style=\"text-align:right;\"> 4.45 </td>\n   <td style=\"text-align:right;\"> 316 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> block.differences </td>\n   <td style=\"text-align:right;\"> -13 </td>\n   <td style=\"text-align:right;\"> -5 </td>\n   <td style=\"text-align:right;\"> -1 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> -2.18 </td>\n   <td style=\"text-align:right;\"> 4.11 </td>\n   <td style=\"text-align:right;\"> 316 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n  </tr>\n</tbody>\n<tfoot><tr><td style=\"padding: 0; \" colspan=\"100%\">\n<span style=\"font-style: italic;\">Note: </span> <sup></sup> block # questions correct [0,15]; DIFF = triangular - linear</td></tr></tfoot>\n</table>\n\n`````\n:::\n:::\n\nFor participants in the CONTROL condition, total absolute scores for the LINEAR graph (n = 316) range from 2 to 15 with a mean score of (M = 10.95, SD = 2.13).\n\nFor participants in the CONTROL condition, total absolute scores for the TRIANGULAR graph (n = 316) range from 0 to 15 with a mean score of (M = 8.77, SD = 4.45).\n\n::: {.cell}\n\n```{.r .cell-code}\n#PLOT PAIRED DATA\ngrouped_ggwithinstats(\n  grouping.var = pretty_condition,\n  data = df_long,\n  x    = graph,\n  y    = score, \n  type  = \"nonparametric\", #parametric, robust, bayes\n  annotation.args = list(title = \"Effect of Condition\"),\n)\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-60-1.png){width=672}\n:::\n:::\n\n#### USE THIS MIXED EFFECTS LOGISTIC REGRESSION --\\> RAW SCORE\n\n*Fit mixed effects logistic regression model to test effect of GRAPH, ORDER, and SCENARIO on probability of correct response \\[just in the control condition\\]*\n\n##### Fit Model\n\n::: {.cell}\n\n```{.r .cell-code}\n## 0 | SETUP\n#confirm 13 items [all discriminating items]\nnrow(df_i) / nrow(df_s)  #28; removed nondiscrim Q3\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 28\n```\n:::\n\n```{.r .cell-code}\n#confirm all factors \nis.factor(df_i$q) && is.factor(df_i$subject) && is.factor(df_i$graph) && is.factor(df_i$score) && is.factor(df_i$order) && is.factor(df_i$scenario)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] TRUE\n```\n:::\n\n```{.r .cell-code}\n## 1 | SETUP RANDOM INTERCEPT SUBJECT\n\n#:: EMPTY MODEL (baseline, no random effect)\nprint(\"Empty fixed model\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Empty fixed model\"\n```\n:::\n\n```{.r .cell-code}\nm0 = glm(accuracy ~ 1, family = \"binomial\", data = df_i) \n# summary(m0)\n\n#:: RANDOM INTERCEPT SUBJECT + ITEM\nprint(\"Subject Intercept + Item intercept random model\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Subject Intercept + Item intercept random model\"\n```\n:::\n\n```{.r .cell-code}\nmm.rSQ <- glmer(accuracy ~ (1|subject) + (1|q), data = df_i, family = \"binomial\")\n#summary(mm.rSQ)\n\n## 2 | ADD FIXED EFFECT GRAPH\n\nprint(\"FIXED GRAPH + Subject & Item random intercepts\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"FIXED GRAPH + Subject & Item random intercepts\"\n```\n:::\n\n```{.r .cell-code}\nmm.GrSQ <- glmer(accuracy ~ graph + (1|subject) + (1|q) ,\n                data = df_i, family = \"binomial\")\n# car::Anova(mm.GrSQ) #main effect graph\n\npaste(\"AIC decreases w/ new model\", AIC(logLik(mm.rSQ)) > AIC(logLik(mm.GrSQ)) )\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"AIC decreases w/ new model TRUE\"\n```\n:::\n\n```{.r .cell-code}\ntest_lrt(mm.rSQ,mm.GrSQ) #same as anova(m0, m1, test = \"Chi\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# Likelihood-Ratio-Test (LRT) for Model Comparison (ML-estimator)\n\nName    |    Model | df | df_diff |   Chi2 |      p\n---------------------------------------------------\nmm.rSQ  | glmerMod |  3 |         |        |       \nmm.GrSQ | glmerMod |  4 |       1 | 274.61 | < .001\n```\n:::\n\n```{.r .cell-code}\n## 2 | ADD FIXED EFFECT CONDITION\n\nprint(\"IXN GRAPH*Condition + Subject & Item random intercepts\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"IXN GRAPH*Condition + Subject & Item random intercepts\"\n```\n:::\n\n```{.r .cell-code}\nmm.GCrSQ <- glmer(accuracy ~ graph*pretty_condition + (1|subject) + (1|q) ,\n                data = df_i, family = \"binomial\", \n                control=glmerControl(optimizer=\"bobyqa\",\n                                 optCtrl=list(maxfun=2e5)))\n#car::Anova(mm.GCrSQ) #main effects graph + IXN graph*condition\n\npaste(\"AIC decreases w/ new model\", AIC(logLik(mm.rSQ)) > AIC(logLik(mm.GCrSQ)) )\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"AIC decreases w/ new model TRUE\"\n```\n:::\n\n```{.r .cell-code}\ntest_lrt(mm.rSQ,mm.GCrSQ) #same as anova(m0, m1, test = \"Chi\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# Likelihood-Ratio-Test (LRT) for Model Comparison (ML-estimator)\n\nName     |    Model | df | df_diff |   Chi2 |      p\n----------------------------------------------------\nmm.rSQ   | glmerMod |  3 |         |        |       \nmm.GCrSQ | glmerMod | 12 |       9 | 368.36 | < .001\n```\n:::\n\n```{.r .cell-code}\n# 2 | ADD IXN ORDER\nprint(\"FIXED Graph + ORDER + Subject & Item random intercepts\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"FIXED Graph + ORDER + Subject & Item random intercepts\"\n```\n:::\n\n```{.r .cell-code}\nmm.GC.COrSQ <- glmer(accuracy ~ graph*pretty_condition + graph*order + (1|subject) + (1|q),\n                   data = df_i, family = \"binomial\", \n                   control=glmerControl(optimizer=\"bobyqa\",\n                                 optCtrl=list(maxfun=2e5)))\n# summary(mm.GC.COrSQ)\n#car::Anova(mm.GC.COrSQ, type = 3) #IXN graphX condition, GRAPH*order\n\n#x <-  mm.GCOrSQ <- glmer(accuracy ~ graph*pretty_condition*order + (1|subject) + (1|q),\n#                    data = df_i, family = \"binomial\", \n#                    control=glmerControl(optimizer=\"bobyqa\",\n#                                  optCtrl=list(maxfun=2e5)))\n# car::Anova(x) # 3 way ixn graph,condition,order??\n\n\npaste(\"AIC decreases w/ new model\", AIC(logLik(mm.GCrSQ)) > AIC(logLik(mm.GC.COrSQ)) )\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"AIC decreases w/ new model TRUE\"\n```\n:::\n\n```{.r .cell-code}\ntest_lrt(mm.GCrSQ,mm.GC.COrSQ) \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# Likelihood-Ratio-Test (LRT) for Model Comparison (ML-estimator)\n\nName        |    Model | df | df_diff | Chi2 |     p\n----------------------------------------------------\nmm.GCrSQ    | glmerMod | 12 |         |      |      \nmm.GC.COrSQ | glmerMod | 14 |       2 | 9.22 | 0.010\n```\n:::\n\n```{.r .cell-code}\n# 3 | ADD FIXED EFFECT SCENARIO\n\nprint(\"FIXED Graph * SCENARIO * ORDER + Subject & Item random intercepts\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"FIXED Graph * SCENARIO * ORDER + Subject & Item random intercepts\"\n```\n:::\n\n```{.r .cell-code}\nmm.GC.CO.GSrSQ <- glmer(accuracy ~ graph*pretty_condition + graph*order + graph*scenario +  (1|subject) + (1|q) ,\n                data = df_i, family = \"binomial\",\n                control=glmerControl(optimizer=\"bobyqa\",\n                                 optCtrl=list(maxfun=2e5)))\n#summary(mm.GC.CO.GSrSQ)\n#car::Anova(mm.GC.CO.GSrSQ, type = 3) #IXN graphXscenario, graphXorder, graphXcondition, \n\npaste(\"AIC decreases w/ new model\", AIC(logLik(mm.GC.COrSQ)) > AIC(logLik(mm.GC.CO.GSrSQ)) )\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"AIC decreases w/ new model TRUE\"\n```\n:::\n\n```{.r .cell-code}\ntest_lrt(mm.GC.COrSQ,mm.GC.CO.GSrSQ) #same as anova(m0, m1, test = \"Chi\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# Likelihood-Ratio-Test (LRT) for Model Comparison (ML-estimator)\n\nName           |    Model | df | df_diff |  Chi2 |      p\n---------------------------------------------------------\nmm.GC.COrSQ    | glmerMod | 14 |         |       |       \nmm.GC.CO.GSrSQ | glmerMod | 16 |       2 | 70.17 | < .001\n```\n:::\n:::\n\nThe best fitting model included interactions for graph X condition, graph X order, and graph X scenario\n\n##### Describe\n\n::: {.cell}\n\n```{.r .cell-code}\n# best model\nm <- mm.GC.CO.GSrSQ\n\n#::::::::: PRINT MODEL \n\nprint(\"PREDICTOR MODEL\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"PREDICTOR MODEL\"\n```\n:::\n\n```{.r .cell-code}\nsummary(m)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nGeneralized linear mixed model fit by maximum likelihood (Laplace\n  Approximation) [glmerMod]\n Family: binomial  ( logit )\nFormula: accuracy ~ graph * pretty_condition + graph * order + graph *  \n    scenario + (1 | subject) + (1 | q)\n   Data: df_i\nControl: glmerControl(optimizer = \"bobyqa\", optCtrl = list(maxfun = 200000))\n\n     AIC      BIC   logLik deviance df.resid \n   10304    10418    -5136    10272     8831 \n\nScaled residuals: \n   Min     1Q Median     3Q    Max \n-3.518 -0.772  0.442  0.656  2.465 \n\nRandom effects:\n Groups  Name        Variance Std.Dev.\n subject (Intercept) 0.698    0.836   \n q       (Intercept) 0.050    0.224   \nNumber of obs: 8847, groups:  subject, 316; q, 14\n\nFixed effects:\n                                           Estimate Std. Error z value Pr(>|z|)\n(Intercept)                                 1.23284    0.17025    7.24  4.4e-13\ngraphtriangular                            -2.10147    0.16515  -12.72  < 2e-16\npretty_conditiontext:what                   0.06087    0.19423    0.31   0.7540\npretty_conditiontext:how                    0.00227    0.18842    0.01   0.9904\npretty_conditionimg:static                 -0.02087    0.19087   -0.11   0.9129\npretty_conditionimg:ixv                    -0.06727    0.18602   -0.36   0.7176\norderLM-First                              -0.04563    0.11925   -0.38   0.7020\nscenariolongmire                           -0.15335    0.11994   -1.28   0.2010\ngraphtriangular:pretty_conditiontext:what   0.68217    0.16228    4.20  2.6e-05\ngraphtriangular:pretty_conditiontext:how    0.65579    0.15738    4.17  3.1e-05\ngraphtriangular:pretty_conditionimg:static  0.66430    0.15923    4.17  3.0e-05\ngraphtriangular:pretty_conditionimg:ixv     1.45041    0.15680    9.25  < 2e-16\ngraphtriangular:orderLM-First               0.28160    0.09952    2.83   0.0047\ngraphtriangular:scenariolongmire            0.99750    0.21493    4.64  3.5e-06\n                                              \n(Intercept)                                ***\ngraphtriangular                            ***\npretty_conditiontext:what                     \npretty_conditiontext:how                      \npretty_conditionimg:static                    \npretty_conditionimg:ixv                       \norderLM-First                                 \nscenariolongmire                              \ngraphtriangular:pretty_conditiontext:what  ***\ngraphtriangular:pretty_conditiontext:how   ***\ngraphtriangular:pretty_conditionimg:static ***\ngraphtriangular:pretty_conditionimg:ixv    ***\ngraphtriangular:orderLM-First              ** \ngraphtriangular:scenariolongmire           ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\nCorrelation matrix not shown by default, as p = 14 > 12.\nUse print(x, correlation=TRUE)  or\n    vcov(x)        if you need it\n```\n:::\n\n```{.r .cell-code}\nprint(\"SIGNIFICANCE TEST [non directional]\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"SIGNIFICANCE TEST [non directional]\"\n```\n:::\n\n```{.r .cell-code}\ncar::Anova(m, type=3) #TYPE 3 SS FOR IXNS\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nAnalysis of Deviance Table (Type III Wald chisquare tests)\n\nResponse: accuracy\n                        Chisq Df Pr(>Chisq)    \n(Intercept)             52.44  1    4.4e-13 ***\ngraph                  161.91  1    < 2e-16 ***\npretty_condition         0.48  4     0.9751    \norder                    0.15  1     0.7020    \nscenario                 1.63  1     0.2010    \ngraph:pretty_condition  86.58  4    < 2e-16 ***\ngraph:order              8.01  1     0.0047 ** \ngraph:scenario          21.54  1    3.5e-06 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n```\n:::\n\n```{.r .cell-code}\n#:::::::: INTERPRET COEFFICIENTS\n\npaste(\"LOG ODDS\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"LOG ODDS\"\n```\n:::\n\n```{.r .cell-code}\ntidy(m,   conf.int = TRUE, conf.level = 0.95, conf.method = \"Wald\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 16 × 9\n   effect  group term  estimate std.error statistic   p.value conf.low conf.high\n   <chr>   <chr> <chr>    <dbl>     <dbl>     <dbl>     <dbl>    <dbl>     <dbl>\n 1 fixed   <NA>  (Int…  1.23       0.170     7.24    4.44e-13   0.899     1.57  \n 2 fixed   <NA>  grap… -2.10       0.165   -12.7     4.33e-37  -2.43     -1.78  \n 3 fixed   <NA>  pret…  0.0609     0.194     0.313   7.54e- 1  -0.320     0.442 \n 4 fixed   <NA>  pret…  0.00227    0.188     0.0120  9.90e- 1  -0.367     0.372 \n 5 fixed   <NA>  pret… -0.0209     0.191    -0.109   9.13e- 1  -0.395     0.353 \n 6 fixed   <NA>  pret… -0.0673     0.186    -0.362   7.18e- 1  -0.432     0.297 \n 7 fixed   <NA>  orde… -0.0456     0.119    -0.383   7.02e- 1  -0.279     0.188 \n 8 fixed   <NA>  scen… -0.153      0.120    -1.28    2.01e- 1  -0.388     0.0817\n 9 fixed   <NA>  grap…  0.682      0.162     4.20    2.63e- 5   0.364     1.00  \n10 fixed   <NA>  grap…  0.656      0.157     4.17    3.09e- 5   0.347     0.964 \n11 fixed   <NA>  grap…  0.664      0.159     4.17    3.02e- 5   0.352     0.976 \n12 fixed   <NA>  grap…  1.45       0.157     9.25    2.25e-20   1.14      1.76  \n13 fixed   <NA>  grap…  0.282      0.0995    2.83    4.66e- 3   0.0865    0.477 \n14 fixed   <NA>  grap…  0.997      0.215     4.64    3.47e- 6   0.576     1.42  \n15 ran_pa… subj… sd__…  0.836     NA        NA      NA         NA        NA     \n16 ran_pa… q     sd__…  0.224     NA        NA      NA         NA        NA     \n```\n:::\n\n```{.r .cell-code}\npaste(\"ODDS RATIOS\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"ODDS RATIOS\"\n```\n:::\n\n```{.r .cell-code}\ntidy(m,   conf.int = TRUE, conf.level = 0.95, conf.method = \"Wald\", exponentiate = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 16 × 9\n   effect  group term  estimate std.error statistic   p.value conf.low conf.high\n   <chr>   <chr> <chr>    <dbl>     <dbl>     <dbl>     <dbl>    <dbl>     <dbl>\n 1 fixed   <NA>  (Int…    3.43     0.584     7.24    4.44e-13   2.46       4.79 \n 2 fixed   <NA>  grap…    0.122    0.0202  -12.7     4.33e-37   0.0885     0.169\n 3 fixed   <NA>  pret…    1.06     0.206     0.313   7.54e- 1   0.726      1.56 \n 4 fixed   <NA>  pret…    1.00     0.189     0.0120  9.90e- 1   0.693      1.45 \n 5 fixed   <NA>  pret…    0.979    0.187    -0.109   9.13e- 1   0.674      1.42 \n 6 fixed   <NA>  pret…    0.935    0.174    -0.362   7.18e- 1   0.649      1.35 \n 7 fixed   <NA>  orde…    0.955    0.114    -0.383   7.02e- 1   0.756      1.21 \n 8 fixed   <NA>  scen…    0.858    0.103    -1.28    2.01e- 1   0.678      1.09 \n 9 fixed   <NA>  grap…    1.98     0.321     4.20    2.63e- 5   1.44       2.72 \n10 fixed   <NA>  grap…    1.93     0.303     4.17    3.09e- 5   1.42       2.62 \n11 fixed   <NA>  grap…    1.94     0.309     4.17    3.02e- 5   1.42       2.65 \n12 fixed   <NA>  grap…    4.26     0.669     9.25    2.25e-20   3.14       5.80 \n13 fixed   <NA>  grap…    1.33     0.132     2.83    4.66e- 3   1.09       1.61 \n14 fixed   <NA>  grap…    2.71     0.583     4.64    3.47e- 6   1.78       4.13 \n15 ran_pa… subj… sd__…    0.836   NA        NA      NA         NA         NA    \n16 ran_pa… q     sd__…    0.224   NA        NA      NA         NA         NA    \n```\n:::\n\n```{.r .cell-code}\npaste(\"PROBABILITIES\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"PROBABILITIES\"\n```\n:::\n\n```{.r .cell-code}\n#probability control = plogis(intercept)\n#probability impasse = plogis(intercept + coefficient)\n\n#FROM merTools\n#setup empty df \nnewdata <- df_i %>% dplyr::select(graph, pretty_condition, order, scenario, subject, q)\n#make predictions\npreds <- predictInterval(m, newdata = newdata,\n                              which = \"fixed\", #full, fixed or random for those only\n                              type = \"probability\", #linear.prediction\n                              stat = \"median\",\n                              n.sims = 1000,\n                              level = 0.80) #width of prediction interval\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning in predictInterval(m, newdata = newdata, which = \"fixed\", type = \"probability\", : newdata is tbl_df or tbl object from dplyr package and has been\n              coerced to a data.frame\n```\n:::\n\n```{.r .cell-code}\n#join predictions to the new dataframe\npreds <- cbind(newdata, preds)\n#summarize\n(summ_preds <- preds %>% \n  dplyr::select(graph, pretty_condition, scenario, order, fit, lwr, upr) %>% \n  group_by(graph, pretty_condition, scenario, order) %>% \n  dplyr::summarise(\n    median = median(fit),\n    lower = median(lwr),\n    upper = median(upr)\n  )) \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 40 × 7\n# Groups:   graph, pretty_condition, scenario [20]\n   graph  pretty_condition scenario order    median lower upper\n   <fct>  <fct>            <fct>    <fct>     <dbl> <dbl> <dbl>\n 1 linear control          axis     TM-First  0.773 0.484 0.927\n 2 linear control          axis     LM-First  0.766 0.473 0.923\n 3 linear control          longmire TM-First  0.747 0.448 0.915\n 4 linear control          longmire LM-First  0.738 0.436 0.911\n 5 linear text:what        axis     TM-First  0.783 0.495 0.930\n 6 linear text:what        axis     LM-First  0.777 0.489 0.928\n 7 linear text:what        longmire TM-First  0.757 0.460 0.919\n 8 linear text:what        longmire LM-First  0.750 0.449 0.917\n 9 linear text:how         axis     TM-First  0.773 0.483 0.925\n10 linear text:how         axis     LM-First  0.765 0.472 0.923\n# … with 30 more rows\n```\n:::\n:::\n\n##### Inference TODO UPDATE\n\n##### Visualize\n\n::: {.cell}\n\n```{.r .cell-code}\n## | PLOT PARAMETERS \n\n#SJPLOT | MODEL | ODDS RATIO\nplot_model(m, vline.color = \"red\", \n           show.intercept = TRUE, \n           show.values = TRUE,\n           p.threshold = 0.1, #manually adjust to account for directional test\n           ci.lvl = 0.90 ) + #manually adjusted for directional test   \n  labs(title = \"Model Estimate | Odds Ratio\",\n       subtitle = \"\",\n       x = \"Condition\")\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-63-1.png){width=672}\n:::\n\n```{.r .cell-code}\n#EASYSTATS | MODEL | ODDS RATIO\n# result <- model_parameters(m, exponentiate = TRUE, component = \"all\")\n# plot(result)\n\n\n## | PLOT TESTS\n\nresult <- equivalence_test(m, rule = \"classic\", ci=0.9) #classic[tost], , bayes\nplot(result)\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-63-2.png){width=672}\n:::\n\n```{.r .cell-code}\n## | PLOT PREDICTIONS\n\n#SJPLOT | MODEL | PROBABILITIES\np <- plot_model(m, type=\"int\",\n           show.intercept = TRUE,\n           show.values = TRUE,\n           title = \"Model Prediction | Probability of Accurate Response\")\np[[1]] + p[[2]] + p[[3]]\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-63-3.png){width=672}\n:::\n\n```{.r .cell-code}\n#PLOT MODEL PREDICTION\n# plot_model(m, type = \"pred\")\n# plot_model(m, type = \"eff\")\n  # ylim(0,1) + \n  # labs(\n  #   title = \"Model Prediction | Probability of Accurate Response\",\n  #   subtitle = \"Impasse increases Probability of Correct Response\"\n  # )\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#SJPLOT | MODEL | TABLE\ntab_model(m)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table style=\"border-collapse:collapse; border:none;\">\n<tr>\n<th style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm;  text-align:left; \">&nbsp;</th>\n<th colspan=\"3\" style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; \">accuracy</th>\n</tr>\n<tr>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  text-align:left; \">Predictors</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">Odds Ratios</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">CI</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">p</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(Intercept)</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">3.43</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">2.46&nbsp;&ndash;&nbsp;4.79</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>&lt;0.001</strong></td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">graph [triangular]</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.12</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.09&nbsp;&ndash;&nbsp;0.17</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>&lt;0.001</strong></td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">pretty conditiontext *<br>what</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">1.06</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.73&nbsp;&ndash;&nbsp;1.56</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.754</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">pretty conditiontext *<br>how</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">1.00</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.69&nbsp;&ndash;&nbsp;1.45</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.990</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">pretty conditionimg *<br>static</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.98</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.67&nbsp;&ndash;&nbsp;1.42</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.913</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">pretty conditionimg * ixv</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.93</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.65&nbsp;&ndash;&nbsp;1.35</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.718</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">order [LM-First]</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.96</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.76&nbsp;&ndash;&nbsp;1.21</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.702</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">scenario [longmire]</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.86</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.68&nbsp;&ndash;&nbsp;1.09</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.201</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">graph [triangular] *<br>pretty conditiontext *<br>what</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">1.98</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">1.44&nbsp;&ndash;&nbsp;2.72</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>&lt;0.001</strong></td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">graph [triangular] *<br>pretty conditiontext *<br>how</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">1.93</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">1.42&nbsp;&ndash;&nbsp;2.62</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>&lt;0.001</strong></td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">graph [triangular] *<br>pretty conditionimg *<br>static</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">1.94</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">1.42&nbsp;&ndash;&nbsp;2.65</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>&lt;0.001</strong></td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">graph [triangular] *<br>pretty conditionimg * ixv</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">4.26</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">3.14&nbsp;&ndash;&nbsp;5.80</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>&lt;0.001</strong></td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">graph [triangular] *<br>order [LM-First]</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">1.33</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">1.09&nbsp;&ndash;&nbsp;1.61</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>0.005</strong></td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">graph [triangular] *<br>scenario [longmire]</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">2.71</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">1.78&nbsp;&ndash;&nbsp;4.13</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>&lt;0.001</strong></td>\n</tr>\n<tr>\n<td colspan=\"4\" style=\"font-weight:bold; text-align:left; padding-top:.8em;\">Random Effects</td>\n</tr>\n\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">&sigma;<sup>2</sup></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">3.29</td>\n</tr>\n\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">&tau;<sub>00</sub> <sub>subject</sub></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">0.70</td>\n\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">&tau;<sub>00</sub> <sub>q</sub></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">0.05</td>\n\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">ICC</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">0.19</td>\n\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">N <sub>subject</sub></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">316</td>\n\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">N <sub>q</sub></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">14</td>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm; border-top:1px solid;\">Observations</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;\" colspan=\"3\">8847</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">Marginal R<sup>2</sup> / Conditional R<sup>2</sup></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">0.078 / 0.249</td>\n</tr>\n\n</table>\n\n`````\n:::\n\n```{.r .cell-code}\n# #MODEL SUMMARY | save latex table\n# models <- list(\"odds ratios\" = m, \"(log odds)\" = m)\n# notes = list('\"* p < 0.05, ** p < 0.01, *** p < 0.001\"',\n#                'N(subject) = 133 $\\tau_{00}$(subject) = 34.85',\n#              'N(question) = 13 $\\tau_{00}$(question) = 1.14')\n# \n# modelsummary(models,\n#              exponentiate = c(TRUE, FALSE),\n#              shape = term ~ model + statistic,\n#              fmt = 2, #two digits w/ trailing zero\n#              estimate  = \"{estimate} {stars}\",\n#              statistic = \"conf.int\",\n#              gof_map = c(\"AIC\", \"sigma\"),\n#              gof_omit = 'RMSE|ICC|BIC',\n#              coef_rename = c(\"pretty_conditionimpasse\" = \"Condition[impasse]\"),\n#              title = 'Accuracy ~ Condition (Mixed Logistic Regression)',\n#              notes = notes,\n#              output = \"analysis/SGC3A/models/tables/GLMER_OverallAccuracy_online.tex\")\n# # #              # coef_omit = \"Intercept\",\n```\n:::\n\n##### Diagnostics\n\n::: {.cell}\n\n```{.r .cell-code}\n# print(\"SANITY CHECK REPORTING\")\n# report(m)\n\n# print(\"MODEL PERFORMANCE\")\n# performance(m)\n\nprint(\"DIAGNOSTICS\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"DIAGNOSTICS\"\n```\n:::\n\n```{.r .cell-code}\ncheck_model(m)\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-65-1.png){width=672}\n:::\n:::\n\n## DRAWING TASK\n\n### Setup\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_s <- df_subjects\n```\n:::\n\n### Visualize\n\n::: {.cell}\n\n```{.r .cell-code}\nggbarstats( x = draw_type, y =pretty_condition , data = df_s,\n            title = \"Drawing Type by Condition\")\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-67-1.png){width=672}\n:::\n\n```{.r .cell-code}\n#drawing type by order \ngrouped_ggbarstats( x = draw_type, y =pretty_condition , \n                    grouping.var = order, data = df_s,\n                    annotation.args = list(\n                      title = \"Drawing type BY ORDER\"\n                    ))\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-67-2.png){width=672}\n:::\n\n```{.r .cell-code}\n#drawing type by tm-scenario \ngrouped_ggbarstats( x = draw_type, y =pretty_condition , \n                    grouping.var = tm_scenarios, data = df_s,\n                    annotation.args = list(\n                      title = \"Drawing type BY tm-scenario\"\n                    ))\n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/unnamed-chunk-67-3.png){width=672}\n:::\n:::\n\n### MULTINOMIAL REGRESSION\n\n*Does condition affect the type of drawing produced?*\n\n##### Fit Model \\[multinom\\]\n\n::: {.cell}\n\n```{.r .cell-code}\n#https://www.elff.eu/software/mclogit/manual/mblogit/\n#\"baseline category logit\" model matches multinom()\n\n#check reference level \nprint(\"Categories (first is reference)\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Categories (first is reference)\"\n```\n:::\n\n```{.r .cell-code}\nlevels(df_s$draw_type)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Linear Model\"             \"Scatterplot\"             \n[3] \"Triangular\"               \"Triangular (asymmetric)\" \n[5] \"Triangular (right angle)\"\n```\n:::\n\n```{.r .cell-code}\n#FIT EMPTY MODEL\n# print(\"EMPTY MODEL\")\nmm.cat.rSQ <- multinom(draw_type ~ 1 , data = df_s)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# weights:  10 (4 variable)\ninitial  value 508.582380 \niter  10 value 282.089320\nfinal  value 282.088557 \nconverged\n```\n:::\n\n```{.r .cell-code}\n# summary(mm.cat.rSQ)\n\n#FIT PREDICTOR MODEL\n# print(\"PREDICTOR MODEL\")\nmm.cat.CrSQ <- multinom(draw_type ~ pretty_condition , data = df_s)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# weights:  30 (20 variable)\ninitial  value 508.582380 \niter  10 value 265.311738\niter  20 value 262.186739\niter  30 value 262.064683\niter  40 value 262.063130\nfinal  value 262.063125 \nconverged\n```\n:::\n\n```{.r .cell-code}\nmb <- mblogit(draw_type ~ pretty_condition , data = df_s)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nIteration 1 - deviance = 548 - criterion = 0.0223\nIteration 2 - deviance = 529 - criterion = 0.0357\nIteration 3 - deviance = 526 - criterion = 0.00618\nIteration 4 - deviance = 525 - criterion = 0.0018\nIteration 5 - deviance = 524 - criterion = 0.000653\nIteration 6 - deviance = 524 - criterion = 0.00024\nIteration 7 - deviance = 524 - criterion = 0.0000882\nIteration 8 - deviance = 524 - criterion = 0.0000324\nIteration 9 - deviance = 524 - criterion = 0.0000119\nIteration 10 - deviance = 524 - criterion = 4.39e-06\nIteration 11 - deviance = 524 - criterion = 1.61e-06\nIteration 12 - deviance = 524 - criterion = 5.94e-07\nIteration 13 - deviance = 524 - criterion = 2.18e-07\nIteration 14 - deviance = 524 - criterion = 8.04e-08\nIteration 15 - deviance = 524 - criterion = 2.96e-08\nIteration 16 - deviance = 524 - criterion = 1.09e-08\nIteration 17 - deviance = 524 - criterion = 4e-09\nconverged\n```\n:::\n\n```{.r .cell-code}\n#COMPARE MODEL FIT\npaste(\"AIC wth predictor is lower than empty model?\", AIC(mm.cat.rSQ) > AIC(mm.cat.CrSQ))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"AIC wth predictor is lower than empty model? TRUE\"\n```\n:::\n\n```{.r .cell-code}\ntest_lrt(mm.cat.rSQ, mm.cat.CrSQ)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# Likelihood-Ratio-Test (LRT) for Model Comparison (ML-estimator)\n\nName        |    Model | df | df_diff |  Chi2 |      p\n------------------------------------------------------\nmm.cat.rSQ  | multinom |  4 |         |       |       \nmm.cat.CrSQ | multinom | 20 |      16 | 40.05 | < .001\n```\n:::\n:::\n\n##### Describe\n\n::: {.cell}\n\n```{.r .cell-code}\n# best model\nm <- mm.cat.CrSQ\n\n#DESCRIBE MODEL\nsummary(mb) #use mblogit version to see estimate level p values\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nmblogit(formula = draw_type ~ pretty_condition, data = df_s)\n\nEquation for Scatterplot vs Linear Model:\n                           Estimate Std. Error z value Pr(>|z|)  \n(Intercept)                  -1.792      1.080   -1.66    0.097 .\npretty_conditiontext:what     1.792   3232.468    0.00    1.000  \npretty_conditiontext:how      0.693      1.581    0.44    0.661  \npretty_conditionimg:static  -15.450   2096.388   -0.01    0.994  \npretty_conditionimg:ixv       1.792      1.780    1.01    0.314  \n\nEquation for Triangular vs Linear Model:\n                            Estimate Std. Error z value Pr(>|z|)    \n(Intercept)                   1.7346     0.4428    3.92    9e-05 ***\npretty_conditiontext:what    17.6463  2285.7001    0.01    0.994    \npretty_conditiontext:how      1.0380     0.7418    1.40    0.162    \npretty_conditionimg:static    0.0331     0.6028    0.05    0.956    \npretty_conditionimg:ixv       2.3085     1.1016    2.10    0.036 *  \n\nEquation for Triangular (asymmetric) vs Linear Model:\n                                                   Estimate Std. Error z value\nTriangular (asymmetric)~(Intercept)                  -0.693      0.707   -0.98\nTriangular (asymmetric)~pretty_conditiontext:what    17.261   2285.700    0.01\nTriangular (asymmetric)~pretty_conditiontext:how      1.204      1.017    1.18\nTriangular (asymmetric)~pretty_conditionimg:static    0.134      0.945    0.14\nTriangular (asymmetric)~pretty_conditionimg:ixv       2.639      1.282    2.06\n                                                   Pr(>|z|)  \nTriangular (asymmetric)~(Intercept)                   0.327  \nTriangular (asymmetric)~pretty_conditiontext:what     0.994  \nTriangular (asymmetric)~pretty_conditiontext:how      0.236  \nTriangular (asymmetric)~pretty_conditionimg:static    0.888  \nTriangular (asymmetric)~pretty_conditionimg:ixv       0.039 *\n\nEquation for Triangular (right angle) vs Linear Model:\n                                                     Estimate Std. Error\nTriangular (right angle)~(Intercept)                   1.0415     0.4749\nTriangular (right angle)~pretty_conditiontext:what    16.2192  2285.7002\nTriangular (right angle)~pretty_conditiontext:how      0.0572     0.8185\nTriangular (right angle)~pretty_conditionimg:static   -0.6848     0.6844\nTriangular (right angle)~pretty_conditionimg:ixv      -0.3483     1.3136\n                                                    z value Pr(>|z|)  \nTriangular (right angle)~(Intercept)                   2.19    0.028 *\nTriangular (right angle)~pretty_conditiontext:what     0.01    0.994  \nTriangular (right angle)~pretty_conditiontext:how      0.07    0.944  \nTriangular (right angle)~pretty_conditionimg:static   -1.00    0.317  \nTriangular (right angle)~pretty_conditionimg:ixv      -0.27    0.791  \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nNull Deviance:     1020 \nResidual Deviance: 524 \nNumber of Fisher Scoring iterations:  17 \nNumber of observations:  316 \n```\n:::\n\n```{.r .cell-code}\n#INTERPRET COEFFICIENTS\npaste(\"LOG ODDS\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"LOG ODDS\"\n```\n:::\n\n```{.r .cell-code}\ntidy(m,   conf.int = TRUE, conf.level = 0.95, conf.method = \"Wald\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 20 × 8\n   y.level       term  estimate std.error statistic   p.value conf.low conf.high\n   <chr>         <chr>    <dbl>     <dbl>     <dbl>     <dbl>    <dbl>     <dbl>\n 1 Scatterplot   (Int…  -1.79     1.08e+0  -1.66e+0 9.72e-  2   -3.91      0.325\n 2 Scatterplot   pret…  -2.13     4.64e-8  -4.58e+7 0           -2.13     -2.13 \n 3 Scatterplot   pret…   0.693    1.58e+0   4.38e-1 6.61e-  1   -2.41      3.79 \n 4 Scatterplot   pret… -13.8      6.12e-6  -2.25e+6 0          -13.8     -13.8  \n 5 Scatterplot   pret…   1.79     1.78e+0   1.01e+0 3.14e-  1   -1.70      5.28 \n 6 Triangular    (Int…   1.73     4.43e-1   3.92e+0 8.95e-  5    0.867     2.60 \n 7 Triangular    pret…  16.4      3.48e-1   4.72e+1 0           15.7      17.1  \n 8 Triangular    pret…   1.04     7.42e-1   1.40e+0 1.62e-  1   -0.416     2.49 \n 9 Triangular    pret…   0.0329   6.03e-1   5.46e-2 9.56e-  1   -1.15      1.21 \n10 Triangular    pret…   2.31     1.10e+0   2.10e+0 3.61e-  2    0.149     4.47 \n11 Triangular (… (Int…  -0.693    7.07e-1  -9.80e-1 3.27e-  1   -2.08      0.693\n12 Triangular (… pret…  16.0      5.72e-1   2.81e+1 2.67e-173   14.9      17.2  \n13 Triangular (… pret…   1.20     1.02e+0   1.18e+0 2.36e-  1   -0.789     3.20 \n14 Triangular (… pret…   0.133    9.45e-1   1.41e-1 8.88e-  1   -1.72      1.99 \n15 Triangular (… pret…   2.64     1.28e+0   2.06e+0 3.95e-  2    0.127     5.15 \n16 Triangular (… (Int…   1.04     4.75e-1   2.19e+0 2.83e-  2    0.111     1.97 \n17 Triangular (… pret…  15.0      4.24e-1   3.54e+1 3.11e-274   14.2      15.8  \n18 Triangular (… pret…   0.0570   8.19e-1   6.96e-2 9.45e-  1   -1.55      1.66 \n19 Triangular (… pret…  -0.685    6.84e-1  -1.00e+0 3.17e-  1   -2.03      0.656\n20 Triangular (… pret…  -0.349    1.31e+0  -2.66e-1 7.91e-  1   -2.92      2.23 \n```\n:::\n\n```{.r .cell-code}\npaste(\"ODDS RATIOS\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"ODDS RATIOS\"\n```\n:::\n\n```{.r .cell-code}\ntidy(m,   conf.int = TRUE, conf.level = 0.95, conf.method = \"Wald\", exponentiate = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 20 × 8\n   y.level       term  estimate std.error statistic   p.value conf.low conf.high\n   <chr>         <chr>    <dbl>     <dbl>     <dbl>     <dbl>    <dbl>     <dbl>\n 1 Scatterplot   (Int…  1.67e-1   1.08e+0  -1.66e+0 9.72e-  2  2.01e-2   1.38e+0\n 2 Scatterplot   pret…  1.19e-1   4.64e-8  -4.58e+7 0          1.19e-1   1.19e-1\n 3 Scatterplot   pret…  2.00e+0   1.58e+0   4.38e-1 6.61e-  1  9.02e-2   4.44e+1\n 4 Scatterplot   pret…  1.05e-6   6.12e-6  -2.25e+6 0          1.05e-6   1.05e-6\n 5 Scatterplot   pret…  6.00e+0   1.78e+0   1.01e+0 3.14e-  1  1.83e-1   1.96e+2\n 6 Triangular    (Int…  5.67e+0   4.43e-1   3.92e+0 8.95e-  5  2.38e+0   1.35e+1\n 7 Triangular    pret…  1.37e+7   3.48e-1   4.72e+1 0          6.90e+6   2.70e+7\n 8 Triangular    pret…  2.82e+0   7.42e-1   1.40e+0 1.62e-  1  6.60e-1   1.21e+1\n 9 Triangular    pret…  1.03e+0   6.03e-1   5.46e-2 9.56e-  1  3.17e-1   3.37e+0\n10 Triangular    pret…  1.01e+1   1.10e+0   2.10e+0 3.61e-  2  1.16e+0   8.71e+1\n11 Triangular (… (Int…  5.00e-1   7.07e-1  -9.80e-1 3.27e-  1  1.25e-1   2.00e+0\n12 Triangular (… pret…  9.28e+6   5.72e-1   2.81e+1 2.67e-173  3.03e+6   2.85e+7\n13 Triangular (… pret…  3.33e+0   1.02e+0   1.18e+0 2.36e-  1  4.54e-1   2.44e+1\n14 Triangular (… pret…  1.14e+0   9.45e-1   1.41e-1 8.88e-  1  1.79e-1   7.28e+0\n15 Triangular (… pret…  1.40e+1   1.28e+0   2.06e+0 3.95e-  2  1.13e+0   1.73e+2\n16 Triangular (… (Int…  2.83e+0   4.75e-1   2.19e+0 2.83e-  2  1.12e+0   7.19e+0\n17 Triangular (… pret…  3.28e+6   4.24e-1   3.54e+1 3.11e-274  1.43e+6   7.52e+6\n18 Triangular (… pret…  1.06e+0   8.19e-1   6.96e-2 9.45e-  1  2.13e-1   5.27e+0\n19 Triangular (… pret…  5.04e-1   6.84e-1  -1.00e+0 3.17e-  1  1.32e-1   1.93e+0\n20 Triangular (… pret…  7.06e-1   1.31e+0  -2.66e-1 7.91e-  1  5.38e-2   9.26e+0\n```\n:::\n\n```{.r .cell-code}\n#PERFORMANCE\nperformance(m)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nCan't calculate log-loss.\nCan't calculate proper scoring rules for ordinal, multinomial or cumulative link models.\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n# Indices of model performance\n\nAIC     |     BIC |    R2 | R2 (adj.) |  RMSE | Sigma\n-----------------------------------------------------\n564.126 | 639.241 | 0.071 |     0.067 | 0.291 | 1.331\n```\n:::\n\n```{.r .cell-code}\npaste(\"PROBABILITIES\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"PROBABILITIES\"\n```\n:::\n\n```{.r .cell-code}\n#PREDICT METHOD\nnewdata <- df_i %>% dplyr::select(pretty_condition, subject)\npreds <- predict(m, newdata = newdata, type = \"probs\")\npreds <- cbind(newdata, preds)\n#lengthen data frame to handle multinomial\npreds <- preds %>%\n  dplyr::select(-subject) %>% #marginalize over subject and q\n  pivot_longer(\n  cols = !pretty_condition,\n  values_to = \"preds\",\n  names_to = \"drawing_type\",\n)\n\n(p <- preds %>%\n  group_by(pretty_condition, drawing_type ) %>%\n  dplyr::summarise(\n    median = median(preds),\n    se = sd(preds)/sqrt(n()),\n    lwr = median - 1.96*se,\n    upr = median + 1.96*se))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 25 × 6\n# Groups:   pretty_condition [5]\n   pretty_condition drawing_type               median    se      lwr      upr\n   <fct>            <chr>                       <dbl> <dbl>    <dbl>    <dbl>\n 1 control          Linear Model             9.83e- 2     0 9.83e- 2 9.83e- 2\n 2 control          Scatterplot              1.64e- 2     0 1.64e- 2 1.64e- 2\n 3 control          Triangular               5.57e- 1     0 5.57e- 1 5.57e- 1\n 4 control          Triangular (asymmetric)  4.92e- 2     0 4.92e- 2 4.92e- 2\n 5 control          Triangular (right angle) 2.79e- 1     0 2.79e- 1 2.79e- 1\n 6 text:what        Linear Model             1.10e- 8     0 1.10e- 8 1.10e- 8\n 7 text:what        Scatterplot              2.17e-10     0 2.17e-10 2.17e-10\n 8 text:what        Triangular               8.47e- 1     0 8.47e- 1 8.47e- 1\n 9 text:what        Triangular (asymmetric)  5.08e- 2     0 5.08e- 2 5.08e- 2\n10 text:what        Triangular (right angle) 1.02e- 1     0 1.02e- 1 1.02e- 1\n# … with 15 more rows\n```\n:::\n\n```{.r .cell-code}\n##DRAWS METHOD\n# GENERATE draws from model\n# draws <- df_i %>%\n#   data_grid(pretty_condition, subject, q) %>% \n#   add_fitted_draws(Bmm.cat.CrSQ,\n#                    # n = 100,\n#                    # dpar = TRUE,\n#                    # transform = TRUE, #gives prob%, otherwise OR\n#                    re_formula = NA)\n# # draws %>% write_rds(file = \"analysis/SGC3A/models/draws/draws_BB.catCrSQ.rds\")\n# \n# #OR load from file\n# # draws <- read_rds(file = \"analysis/SGC3A/models/draws/draws_BB.catCrSQ.rds\")\n# \n# # SUMMARIZE draws from model\n# (k <- kable(draws %>%\n#   dplyr::select(pretty_condition, .category, .value) %>%\n#   group_by(pretty_condition, .category) %>%\n#   median_hdci(.value), digits = 4, col.names =\n#     c(\"Condition\",\"Category\", \"Probability\",\"Lower Cred.I\",\"Upper Cred.I\", \"CI Width\", \"Point Type\", \"Interval Type\")) %>%\n#   kable_styling())\n```\n:::\n\n##### INFERENCE\n\n##### Visualize\n\n::: {.cell}\n\n```{.r .cell-code}\n## | PLOT PARAMETERS \n\n#SJPLOT | MODEL | ODDS RATIO\n# plot_model(m, vline.color = \"red\", \n#            show.intercept = TRUE, \n#            show.values = TRUE,\n#            p.threshold = 0.1, #manually adjust to account for directional test\n#            ci.lvl = 0.90 ) + #manually adjusted for directional test   \n#   labs(title = \"Model Estimate | Odds Ratio\",\n#        subtitle = \"\",\n#        x = \"Condition\")\n\n\n#EASYSTATS | MODEL | ODDS RATIO\nresult <- model_parameters(m, exponentiate = TRUE, component = \"all\")\nplot(result, show_intercept = TRUE, show_labels = TRUE) \n```\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/VIS-BRMS-STATE-1.png){width=672}\n:::\n\n```{.r .cell-code}\n# + theme_clean()\n\n\n## | PLOT PREDICTIONS\n\n#SJPLOT | MODEL | PROBABILITIES\nplot_model(m, type=\"eff\",\n           show.intercept = TRUE,\n           show.values = TRUE,\n           title = \"Model Prediction | Probability of Drawing Type\",\n           axis.title = c(\"Condition\",\"Probability of Drawing Type\"))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n$pretty_condition\n```\n:::\n\n::: {.cell-output-display}\n![](4_sgc2_hypotesting_files/figure-html/VIS-BRMS-STATE-2.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#::::: GGDIST POSTERIOR PROBABILITY OF RESPONSE\n##WORKING\n# https://mjskay.github.io/ggdist/reference/stat_slab.html\n## VIS probability of correct response\n#TAKES A REALLY LONG TIME\n\n#1 | get draws\n# draws <- df_i %>%\n#   data_grid(pretty_condition, ospan_split, subject, q) %>%\n#   add_epred_draws(m,\n#                    # ndraws = 100, # n = 100,\n#                    # dpar = TRUE,\n#                    transform = TRUE, #gives prob%, otherwise OR\n#                    re_formula = NA)\n# # draws %>% write_rds(file = \"analysis/SGC3A/models/draws/draws_Bmm.catCOrSQ_OPSAN.rds\")\n# \n# #OR load from file\n# # draws <- read_rds(file = \"analysis/SGC3A/models/draws/draws_Bmm.catCOrSQ_OPSAN.rds\")\n# \n# #2| VISUALIZE PREDICTIONS | GGDIST\n# ##TODO figure out height normalization.\n# ##do it with much smaller number of draws \n# #TODO adjust bandwidth/smoothing? + put on same line + \n# #TAKES A REAAALY LONG TIME\n# # d <- \n# \n# d <- draws %>% sample_n(10) %>% \n#   ggplot(aes(x = .epred,  y = pretty_condition, fill = ospan_split)) +\n#   stat_slab(width = c(.95), alpha = 0.5, normalize=\"xy\") +\n#   facet_wrap(~.category) +\n#   #   #normalize = all, panels, xy, groups, none\n#   xlim(0,1) + labs(\n#     title = \"Model Predicted Probability of Correct Response\",\n#     x = \"probability of correct response\",\n#     y = \"Interpretation\"\n#   ) +  theme_clean() #+ ggeasy::easy_remove_legend() + ggeasy::easy_remove_y_axis()\n# # # #TO PLOT ON THE SAME LINE, INCLUDE Y = 0 in aes and ggeasy::remove_y_axis()\n# # # \n# # # ggsave(d, filename = \"figures/sgc3a_BBm.cat.CrSQ_lab_posterior.svg\", width = 6, height =4)\n# d\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#DISPLAY MODEL AS TABLE\ntab_model(m)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table style=\"border-collapse:collapse; border:none;\">\n<tr>\n<th style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm;  text-align:left; \">&nbsp;</th>\n<th colspan=\"4\" style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; \">draw type</th>\n</tr>\n<tr>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  text-align:left; \">Predictors</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">Odds Ratios</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">CI</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">p</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">Response</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(Intercept)</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.17</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.02&nbsp;&ndash;&nbsp;1.40</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.098</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">Scatterplot</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">pretty conditiontext *<br>what</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.12</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.12&nbsp;&ndash;&nbsp;0.12</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>&lt;0.001</strong></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">Scatterplot</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">pretty conditiontext *<br>how</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">2.00</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.09&nbsp;&ndash;&nbsp;44.93</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.661</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">Scatterplot</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">pretty conditionimg *<br>static</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.00</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.00&nbsp;&ndash;&nbsp;0.00</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>&lt;0.001</strong></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">Scatterplot</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">pretty conditionimg * ixv</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">6.00</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.18&nbsp;&ndash;&nbsp;199.09</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.315</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">Scatterplot</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(Intercept)</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">5.67</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">2.37&nbsp;&ndash;&nbsp;13.55</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>&lt;0.001</strong></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">Triangular</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">pretty conditiontext *<br>what</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">13653497.95</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">6883935.96&nbsp;&ndash;&nbsp;27080148.24</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>&lt;0.001</strong></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">Triangular</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">pretty conditiontext *<br>how</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">2.82</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.66&nbsp;&ndash;&nbsp;12.15</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.163</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">Triangular</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">pretty conditionimg *<br>static</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">1.03</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.32&nbsp;&ndash;&nbsp;3.38</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.957</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">Triangular</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">pretty conditionimg * ixv</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">10.06</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">1.15&nbsp;&ndash;&nbsp;87.88</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>0.037</strong></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">Triangular</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(Intercept)</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.50</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.12&nbsp;&ndash;&nbsp;2.01</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.328</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">Triangular (asymmetric)</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">pretty conditiontext *<br>what</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">9282527.20</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">3013413.27&nbsp;&ndash;&nbsp;28593924.39</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>&lt;0.001</strong></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">Triangular (asymmetric)</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">pretty conditiontext *<br>how</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">3.33</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.45&nbsp;&ndash;&nbsp;24.63</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.237</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">Triangular (asymmetric)</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">pretty conditionimg *<br>static</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">1.14</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.18&nbsp;&ndash;&nbsp;7.34</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.888</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">Triangular (asymmetric)</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">pretty conditionimg * ixv</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">13.99</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">1.12&nbsp;&ndash;&nbsp;174.30</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>0.040</strong></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">Triangular (asymmetric)</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(Intercept)</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">2.83</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">1.11&nbsp;&ndash;&nbsp;7.22</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>0.029</strong></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">Triangular (right angle)</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">pretty conditiontext *<br>what</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">3276712.70</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">1422488.59&nbsp;&ndash;&nbsp;7547931.30</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>&lt;0.001</strong></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">Triangular (right angle)</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">pretty conditiontext *<br>how</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">1.06</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.21&nbsp;&ndash;&nbsp;5.30</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.945</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">Triangular (right angle)</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">pretty conditionimg *<br>static</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.50</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.13&nbsp;&ndash;&nbsp;1.94</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.318</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">Triangular (right angle)</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">pretty conditionimg * ixv</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.71</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.05&nbsp;&ndash;&nbsp;9.36</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.791</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">Triangular (right angle)</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm; border-top:1px solid;\">Observations</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;\" colspan=\"4\">316</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">R<sup>2</sup> / R<sup>2</sup> adjusted</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"4\">0.071 / 0.067</td>\n</tr>\n\n</table>\n\n`````\n:::\n\n```{.r .cell-code}\n# #MODEL SUMMARY | save latex table\n# models <- list(\"odds ratios\" = m, \"(log odds)\" = m)\n# notes = list('\"* p < 0.05, ** p < 0.01, *** p < 0.001\"',\n#                'N(subject) = 133 $\\tau_{00}$(subject) = 34.85',\n#              'N(question) = 13 $\\tau_{00}$(question) = 1.14')\n# \n# modelsummary(models,\n#              exponentiate = c(TRUE, FALSE),\n#              shape = term ~ model + statistic,\n#              fmt = 2, #two digits w/ trailing zero\n#              estimate  = \"{estimate} {stars}\",\n#              statistic = \"conf.int\",\n#              gof_map = c(\"AIC\", \"sigma\"),\n#              gof_omit = 'RMSE|ICC|BIC',\n#              coef_rename = c(\"pretty_conditionimpasse\" = \"Condition[impasse]\"),\n#              title = 'Accuracy ~ Condition (Mixed Logistic Regression)',\n#              notes = notes,\n#              output = \"analysis/SGC3A/models/tables/GLMER_OverallAccuracy_online.tex\")\n# # #              # coef_omit = \"Intercept\",\n#TODO OUTPUT TABLE \n\n#https://arelbundock.com/posts/modelsummary_multinomial_logit/\n# modelsummary(m)\n```\n:::\n",
    "supporting": [
      "4_sgc2_hypotesting_files/figure-html"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../site_libs/kePrint-0.0.1/kePrint.js\"></script>\n<link href=\"../../site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}